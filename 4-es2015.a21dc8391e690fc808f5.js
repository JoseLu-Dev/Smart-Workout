(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Ph8R:function(e,t,s){"use strict";s.d(t,"a",function(){return n});var i=s("AytR"),c=s("fXoL"),r=s("tk/3");let n=(()=>{class e{constructor(e){this.http=e,this.usersUrl=`${i.a.backendUrl}/users`,this.userDataUrl=`${i.a.backendUrl}/users/data`,this.weightDataUrl=`${this.userDataUrl}/weight`}getWeight(){return this.http.get(this.weightDataUrl)}setWeight(e){this.http.put(this.weightDataUrl,{weight:e}).subscribe()}getUserData(){return this.http.get(`${this.usersUrl}`)}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(r.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},QfOA:function(e,t,s){"use strict";s.d(t,"a",function(){return H});var i=s("3Pt+");class c{}class r{}class n{}var l=s("fXoL"),o=s("haYR"),a=s("AytR"),b=s("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.exercisesUrl=`${a.a.backendUrl}/exercises`}getExercisesNames(){return this.http.get(`${this.exercisesUrl}`)}getExercisesByName(e){return this.http.get(`${this.exercisesUrl}/by-name/${e}`)}getFewExercises(){return this.http.get(`${this.exercisesUrl}/few`)}getExerciseSpecs(e){return this.http.get(`${this.exercisesUrl}/${e}`)}saveExercise(e){this.http.put(`${this.exercisesUrl}`,e).subscribe()}deleteExercise(e){this.http.delete(`${this.exercisesUrl}/${e}`,{responseType:"text"}).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(b.b))},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=s("iz14"),h=s("2Vo4"),m=s("IzEk"),p=s("Zs9Q");let x=(()=>{class e{constructor(e){this.http=e,this.musclesUrl=`${a.a.backendUrl}/muscles`}getMuscles(){return this.http.get(this.musclesUrl)}deleteMuscle(e){return this.http.delete(`${this.musclesUrl}/${e.id}`,{responseType:"text"})}saveMuscle(e){return this.http.post(this.musclesUrl,e)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(b.b))},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=s("ofXK");function f(e,t){if(1&e&&(l.Pb(0,"form",6),l.Pb(1,"div",7),l.Pb(2,"label",8),l.zc(3,"Muscle name"),l.Ob(),l.Kb(4,"input",9),l.Ob(),l.Ob()),2&e){const e=l.bc();l.hc("formGroup",e.muscleForm)}}const v=function(e){return{"opacity-70":e}};let S=(()=>{class e extends p.a{constructor(e,t,s,i){super(e,i),this.modalService=e,this.formBuilder=t,this.musclesService=s,this.changeDetector=i,this.muscleCreated=new l.o,this.id=`MuscleCreationModalComponent-${Math.random()}`}onModalClosed(){}onModalOpened(){this.muscleForm=this.formBuilder.group({name:["",i.q.required]})}onSubmit(){this.musclesService.saveMuscle(this.muscleForm.value).pipe(Object(m.a)(1)).subscribe(e=>{this.muscleCreated.next(e)}),this.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(i.c),l.Jb(x),l.Jb(l.i))},e.\u0275cmp=l.Db({type:e,selectors:[["app-muscle-creation-modal"]],outputs:{muscleCreated:"muscleCreated"},features:[l.wb],decls:9,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],["class","mb-3",3,"formGroup",4,"ngIf"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"],[1,"mb-3",3,"formGroup"],[1,"flex","flex-col","justify-items-center","mt-4"],[1,"label","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"]],template:function(e,t){1&e&&(l.Pb(0,"jw-modal",0),l.Xb("closeEvent",function(){return t.onModalClosed()}),l.Pb(1,"h1",1),l.zc(2,"New muscle"),l.Ob(),l.xc(3,f,5,1,"form",2),l.Pb(4,"div",3),l.Pb(5,"button",4),l.Xb("click",function(){return t.closeModal()}),l.zc(6,"Close"),l.Ob(),l.Pb(7,"button",5),l.Xb("click",function(){return t.onSubmit()}),l.zc(8,"Accept"),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.hc("id",t.id),l.zb(3),l.hc("ngIf",t.muscleForm),l.zb(4),l.hc("disabled",null==t.muscleForm?null:t.muscleForm.invalid)("ngClass",l.kc(4,v,null==t.muscleForm?null:t.muscleForm.invalid)))},directives:[u.a,g.l,g.j,i.r,i.l,i.g,i.b,i.k,i.f],styles:[""]}),e})();var k=s("ZOsW");function w(e,t){1&e&&l.Kb(0,"div",11)}function P(e,t){if(1&e){const e=l.Qb();l.Pb(0,"button",12),l.Xb("click",function(t){l.sc(e);const s=l.bc().item;return l.bc().onDeleteMuscleClicked(t,s)}),l.ac(),l.Pb(1,"svg",4),l.Kb(2,"path",5),l.Kb(3,"path",13),l.Ob(),l.Ob()}}const O=function(e){return{"border-l-8 border-green":e}};function M(e,t){if(1&e&&(l.xc(0,w,1,0,"div",8),l.Pb(1,"div",9),l.Pb(2,"p"),l.zc(3),l.cc(4,"titlecase"),l.Ob(),l.xc(5,P,4,0,"button",10),l.Ob()),2&e){const e=t.item,s=t.index,i=l.bc();l.hc("ngIf",0!=s),l.zb(1),l.hc("ngClass",l.kc(6,O,e==i._muscleSelected)),l.zb(2),l.Ac(l.dc(4,4,e.name)),l.zb(2),l.hc("ngIf",null==e?null:e.id)}}let C=(()=>{class e{constructor(e){this.musclesService=e,this.muscleSelected=new l.o,this.muscles=new h.a(new Array)}ngOnInit(){this.musclesService.getMuscles().pipe(Object(m.a)(1)).subscribe(e=>{this.muscles.next(e)})}onMuscleSelected(e){this.muscleSelected.next(e.name),this._muscleSelected=e}onDeleteMuscleClicked(e,t){this.musclesService.deleteMuscle(t).subscribe(e=>{this.muscles.next(new Array(...this.muscles.value.filter(e=>e.name!==t.name)))}),e.stopPropagation()}onAddMuscleClicked(){this.newMuscleOptionsModal.openModal()}onMuscleCreated(e){this.muscles.value.push(e),this.muscles.next(new Array(...this.muscles.value))}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(x))},e.\u0275cmp=l.Db({type:e,selectors:[["app-muscle-selection"]],viewQuery:function(e,t){if(1&e&&l.Ec(S,1),2&e){let e;l.oc(e=l.Yb())&&(t.newMuscleOptionsModal=e.first)}},outputs:{muscleSelected:"muscleSelected"},decls:9,vars:4,consts:[[1,"w-full","flex","gap-2"],["bindLabel","name",1,"cursor-pointer","pl-2","pr-1","py-1","rounded-md","border","border-light-dark","dark:border-0","dark:bg-dark-darkest","dark:text-white","w-full","text-base",3,"items","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"btn-rounded","btn-blue","my-auto","h-8","w-8",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"muscleCreated"],["class","separator",4,"ngIf"],[1,"flex","justify-between","content-center","gap-2","shadow-lg","dark:bg-dark-darkest","dark:text-white","text-base","px-2","py-1","bg-white","hover:bg-light-dark","dark:hover:bg-dark-light",3,"ngClass"],["class","btn-rounded btn-blue",3,"click",4,"ngIf"],[1,"separator"],[1,"btn-rounded","btn-blue",3,"click"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"ng-select",1),l.Xb("ngModelChange",function(e){return t.onMuscleSelected(e)}),l.cc(2,"async"),l.xc(3,M,6,8,"ng-template",2),l.Ob(),l.Pb(4,"button",3),l.Xb("click",function(){return t.onAddMuscleClicked()}),l.ac(),l.Pb(5,"svg",4),l.Kb(6,"path",5),l.Kb(7,"path",6),l.Ob(),l.Ob(),l.Zb(),l.Pb(8,"app-muscle-creation-modal",7),l.Xb("muscleCreated",function(e){return t.onMuscleCreated(e)}),l.Ob(),l.Ob()),2&e&&(l.zb(1),l.hc("items",l.dc(2,2,t.muscles))("ngModel",t._muscleSelected))},directives:[k.a,i.k,i.m,k.c,S,g.l,g.j],pipes:[g.b,g.t],styles:[""]}),e})();function z(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",19),l.Kb(1,"input",20),l.Pb(2,"button",21),l.Xb("click",function(){l.sc(e);const s=t.index;return l.bc().deleteVariation(s)}),l.ac(),l.Pb(3,"svg",8),l.Kb(4,"path",9),l.Kb(5,"path",22),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=t.$implicit;l.zb(1),l.hc("formControl",e)}}function y(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",19),l.Kb(1,"input",20),l.Pb(2,"button",21),l.Xb("click",function(){l.sc(e);const s=t.index;return l.bc().deleteProgression(s)}),l.ac(),l.Pb(3,"svg",8),l.Kb(4,"path",9),l.Kb(5,"path",22),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=t.$implicit;l.zb(1),l.hc("formControl",e)}}const F=function(e){return{"opacity-70":e}};let E=(()=>{class e{constructor(e,t,s){this.modalService=e,this.formBuilder=t,this.exercisesService=s,this.id=`exercise-modal-${Math.random()}`}ngOnInit(){this.buildForm(new r)}buildForm(e){this.exerciseForm=this.formBuilder.group({name:[(null==e?void 0:e.name)||"",i.q.required],variations:this.formBuilder.array([]),progressions:this.formBuilder.array([]),muscleGroup:[(null==e?void 0:e.muscleGroup)||"",i.q.required],bodyWeight:[(null==e?void 0:e.bodyWeight)||!1],static:[(null==e?void 0:e.static)||!1],id:[null==e?void 0:e.id]}),e&&(e.progressions&&(null==e||e.progressions.forEach(e=>{this.exerciseForm.get("progressions").push(this.formBuilder.control(e))})),e.variations&&(null==e||e.variations.forEach(e=>{this.exerciseForm.get("variations").push(this.formBuilder.control(e))})))}openModal(e,t){this.title=e,this.buildForm(t),this.modalService.open(this.id)}onModalClosed(){}closeModal(){this.modalService.close(this.id)}onSubmit(e){e.progressions=e.progressions.filter(e=>e),e.variations=e.variations.filter(e=>e),this.exercisesService.saveExercise(e),this.closeModal()}addVariation(){this.exerciseForm.get("variations").push(this.formBuilder.control(null))}deleteVariation(e){this.exerciseForm.get("variations").removeAt(e)}getVariationsFormControls(){return this.exerciseForm.get("variations").controls}addProgression(){this.exerciseForm.get("progressions").push(this.formBuilder.control(null))}deleteProgression(e){this.exerciseForm.get("progressions").removeAt(e)}getProgressionFormControls(){return this.exerciseForm.get("progressions").controls}onMuscleSelected(e){this.exerciseForm.get("muscleGroup").setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(i.c),l.Jb(d))},e.\u0275cmp=l.Db({type:e,selectors:[["app-exercise-modal"]],inputs:{exercise:"exercise"},decls:38,vars:9,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[1,"flex","flex-col",3,"formGroup"],[1,"label","mt-4","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"],[1,"w-full",3,"muscleSelected"],["class","flex mb-2 items-center",4,"ngFor","ngForOf"],[1,"btn-rounded","btn-blue","mx-auto",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","flex-col","items-center"],[1,"mt-4"],[1,"label","mr-2"],["type","checkbox","formControlName","bodyWeight",1,"checkBox","w-6","h-6"],["type","checkbox","formControlName","static",1,"checkBox","w-6","h-6"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"],[1,"flex","mb-2","items-center"],["type","text",1,"input","w-4/5",3,"formControl"],[1,"btn-rounded","btn-blue","w-8","h-8","ml-auto",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(e,t){1&e&&(l.Pb(0,"jw-modal",0),l.Xb("closeEvent",function(){return t.onModalClosed()}),l.Pb(1,"h1",1),l.zc(2),l.Ob(),l.Pb(3,"form",2),l.Pb(4,"label",3),l.zc(5,"Name"),l.Ob(),l.Kb(6,"input",4),l.Pb(7,"label",3),l.zc(8,"Muscle Group"),l.Ob(),l.Pb(9,"app-muscle-selection",5),l.Xb("muscleSelected",function(e){return t.onMuscleSelected(e)}),l.Ob(),l.Pb(10,"label",3),l.zc(11,"Variations"),l.Ob(),l.xc(12,z,6,1,"div",6),l.Pb(13,"button",7),l.Xb("click",function(){return t.addVariation()}),l.ac(),l.Pb(14,"svg",8),l.Kb(15,"path",9),l.Kb(16,"path",10),l.Ob(),l.Ob(),l.Zb(),l.Pb(17,"label",3),l.zc(18,"Progressions"),l.Ob(),l.xc(19,y,6,1,"div",6),l.Pb(20,"button",7),l.Xb("click",function(){return t.addProgression()}),l.ac(),l.Pb(21,"svg",8),l.Kb(22,"path",9),l.Kb(23,"path",10),l.Ob(),l.Ob(),l.Zb(),l.Pb(24,"div",11),l.Pb(25,"div",12),l.Pb(26,"label",13),l.zc(27,"BodyWeight"),l.Ob(),l.Kb(28,"input",14),l.Ob(),l.Pb(29,"div",12),l.Pb(30,"label",13),l.zc(31,"Static"),l.Ob(),l.Kb(32,"input",15),l.Ob(),l.Ob(),l.Ob(),l.Pb(33,"div",16),l.Pb(34,"button",17),l.Xb("click",function(){return t.closeModal()}),l.zc(35,"Close"),l.Ob(),l.Pb(36,"button",18),l.Xb("click",function(){return t.onSubmit(t.exerciseForm.value)}),l.zc(37,"Accept"),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.hc("id",t.id),l.zb(2),l.Bc("Exercise ",t.title,""),l.zb(1),l.hc("formGroup",t.exerciseForm),l.zb(9),l.hc("ngForOf",t.getVariationsFormControls()),l.zb(7),l.hc("ngForOf",t.getProgressionFormControls()),l.zb(17),l.hc("disabled",t.exerciseForm.invalid)("ngClass",l.kc(7,F,t.exerciseForm.invalid)))},directives:[u.a,i.r,i.l,i.g,i.b,i.k,i.f,C,g.k,i.a,g.j,i.e],styles:[""]}),e})();function V(e,t){1&e&&(l.ac(),l.Zb(),l.Kb(0,"div",18))}function I(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",11),l.Pb(1,"div",12),l.Xb("click",function(){l.sc(e);const s=t.$implicit;return l.bc().onExerciseClicked(s)}),l.Pb(2,"p"),l.zc(3),l.Ob(),l.Pb(4,"button",13),l.Xb("click",function(s){l.sc(e);const i=t.$implicit;return l.bc().onDeleteExerciseClicked(s,i.id)}),l.ac(),l.Pb(5,"svg",14),l.Kb(6,"path",15),l.Kb(7,"path",16),l.Ob(),l.Ob(),l.Ob(),l.xc(8,V,1,0,"div",17),l.Ob()}if(2&e){const e=t.$implicit,s=t.last;l.zb(3),l.Ac(e.name),l.zb(5),l.hc("ngIf",!s)}}let K=(()=>{class e extends p.a{constructor(e,t,s){super(e,s),this.modalService=e,this.exercisesService=t,this.changeDetector=s,this.exerciseSelected=new l.o,this.id=`exercise-search-modal-${Math.random()}`,this.exerciseName=new i.d}ngOnInit(){this.exercisesService.getFewExercises().pipe(Object(m.a)(1)).subscribe(e=>{this.exerciseList=e})}onSearchChanges(){this.exercisesService.getExercisesByName(this.exerciseName.value).pipe(Object(m.a)(1)).subscribe(e=>{this.exerciseList=e})}onExerciseClicked(e){this.exerciseSelected.next(e),this.closeModal()}onModalClosed(){}onModalOpened(){this.exerciseName.setValue("")}onDeleteExerciseClicked(e,t){this.exercisesService.deleteExercise(t),this.exerciseList=this.exerciseList.filter(e=>e.id!==t),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(d),l.Jb(l.i))},e.\u0275cmp=l.Db({type:e,selectors:[["app-exercise-search-modal"]],outputs:{exerciseSelected:"exerciseSelected"},features:[l.wb],decls:12,vars:3,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[1,"w-full","my-2","h-px","bg-light-dark","dark:bg-light-dark"],[1,"flex","gap-2","h-10"],[1,"p-2","rounded-md","ring-1","ring-light-dark","focus:outline-none","focus:ring-2","focus:ring-green-light","focus:border-transparent","dark:border-transparent","dark:ring-0","dark:text-white","dark:bg-dark-darkest","bg-transparent","flex-grow",3,"formControl","change"],[1,"btn","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","m-auto","w-6","h-6"],["d","M0 0h24v24H0V0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],[1,"mt-4"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"flex","justify-between","w-full","p-2","rounded-lg","hover:bg-light","dark:text-white","dark:hover:bg-dark-darkest","border-l-8","border-blue","cursor-pointer",3,"click"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["class","flex-grow h-px bg-light-dark dark:bg-light-dark my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-light-dark","dark:bg-light-dark","my-1"]],template:function(e,t){1&e&&(l.Pb(0,"jw-modal",0),l.Xb("closeEvent",function(){return t.onModalClosed()}),l.Pb(1,"h1",1),l.zc(2,"Exercise search"),l.Ob(),l.Kb(3,"div",2),l.Pb(4,"div",3),l.Pb(5,"input",4),l.Xb("change",function(){return t.onSearchChanges()}),l.Ob(),l.Pb(6,"button",5),l.Xb("click",function(){return t.onSearchChanges()}),l.ac(),l.Pb(7,"svg",6),l.Kb(8,"path",7),l.Kb(9,"path",8),l.Ob(),l.Ob(),l.Ob(),l.Zb(),l.Pb(10,"div",9),l.xc(11,I,9,2,"div",10),l.Ob(),l.Ob()),2&e&&(l.hc("id",t.id),l.zb(5),l.hc("formControl",t.exerciseName),l.zb(6),l.hc("ngForOf",t.exerciseList))},directives:[u.a,i.b,i.k,i.e,g.k,g.l],styles:[""]}),e})();function X(e,t){if(1&e&&(l.Pb(0,"div"),l.zc(1),l.Ob()),2&e){const e=l.bc();l.zb(1),l.Ac(e.exerciseSelectedElement.name)}}function $(e,t){1&e&&l.Kb(0,"div",20)}const U=function(e){return{"border-l-8 border-green":e}};function A(e,t){if(1&e&&(l.xc(0,$,1,0,"div",18),l.Pb(1,"div",19),l.Pb(2,"p"),l.zc(3),l.cc(4,"titlecase"),l.Ob(),l.Ob()),2&e){const e=t.item,s=t.index,i=l.bc(2);l.hc("ngIf",0!=s),l.zb(1),l.hc("ngClass",l.kc(5,U,e==i.exerciseSelectedProgression)),l.zb(2),l.Ac(l.dc(4,3,e))}}function B(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",0),l.Pb(1,"label",15),l.zc(2,"Progression"),l.Ob(),l.Pb(3,"div",2),l.Pb(4,"ng-select",16),l.Xb("ngModelChange",function(t){return l.sc(e),l.bc().onProgressionChange(t)}),l.xc(5,A,5,7,"ng-template",17),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=l.bc();l.zb(4),l.hc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.progressions)("searchable",!1)("ngModel",e.exerciseSelectedProgression)}}function j(e,t){1&e&&l.Kb(0,"div",20)}function N(e,t){if(1&e&&(l.xc(0,j,1,0,"div",18),l.Pb(1,"div",19),l.Pb(2,"p"),l.zc(3),l.cc(4,"titlecase"),l.Ob(),l.Ob()),2&e){const e=t.item,s=t.index,i=l.bc(2);l.hc("ngIf",0!=s),l.zb(1),l.hc("ngClass",l.kc(5,U,e==i.exerciseSelectedVariation)),l.zb(2),l.Ac(l.dc(4,3,e))}}function D(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",0),l.Pb(1,"label",21),l.zc(2,"Variation"),l.Ob(),l.Pb(3,"div",2),l.Pb(4,"ng-select",16),l.Xb("ngModelChange",function(t){return l.sc(e),l.bc().onVariationChange(t)}),l.xc(5,N,5,7,"ng-template",17),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=l.bc();l.zb(4),l.hc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.variations)("searchable",!1)("ngModel",e.exerciseSelectedVariation)}}const J=function(e){return{"opacity-70":e}};let H=(()=>{class e{constructor(e){this.exercisesService=e,this.exerciseSelected=new l.o}set exercise(e){e&&(this.exerciseSelectedElement=new n,this.exerciseSelectedElement.id=e.specsId,this.exerciseSelectedElement.name=e.name,this.exerciseSelectedName=e.name,this.exerciseSelectedProgression=e.progression,this.exerciseSelectedVariation=e.variation,this.getExerciseFromAPI(e.specsId))}ngOnInit(){}onSelectExerciseClicked(){this.exerciseSearchModal.openModal()}onExerciseSelected(e){this.exerciseSelectedElement=e,this.onExerciseNameSelectedChange(e)}onExerciseNameSelectedChange(e){this.resetFormValues(),e&&this.getExerciseFromAPI(e.id)}onProgressionChange(e){this.exerciseSelectedProgression=e,this.validateForm()}onVariationChange(e){this.exerciseSelectedVariation=e,this.validateForm()}formIsValid(){var e,t;const s=(null===(e=this.exerciseSelectedSpecs)||void 0===e?void 0:e.progressions.length)>0,i=(null===(t=this.exerciseSelectedSpecs)||void 0===t?void 0:t.variations.length)>0;return!(s&&null==this.exerciseSelectedProgression||i&&null==this.exerciseSelectedVariation)}resetFormValues(){this.exerciseSelectedProgression=null,this.exerciseSelectedVariation=null}validateForm(){this.formIsValid()?this.onValidForm():this.onInvalidForm()}onValidForm(){this.exerciseSelected.emit(this.getExerciseFormObject())}onInvalidForm(){this.exerciseSelected.emit(null)}getExerciseFormObject(){const e=new c;return e.name=this.exerciseSelectedSpecs.name,e.progression=this.exerciseSelectedProgression,e.variation=this.exerciseSelectedVariation,e.bodyWeight=this.exerciseSelectedSpecs.bodyWeight,e.static=this.exerciseSelectedSpecs.static,e.muscleGroup=this.exerciseSelectedSpecs.muscleGroup,e.specsId=this.exerciseSelectedSpecs.id,e}getExerciseFromAPI(e){e&&this.exercisesService.getExerciseSpecs(e).subscribe(e=>{this.exerciseSelectedSpecs=e,this.validateForm()})}onAddNewExerciseClicked(){this.exerciseModal.openModal("creation",null)}onEditExerciseClicked(){this.exerciseModal.openModal("edition",this.exerciseSelectedSpecs)}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(d))},e.\u0275cmp=l.Db({type:e,selectors:[["app-exercise-selection"]],viewQuery:function(e,t){if(1&e&&(l.Ec(K,1),l.Ec(E,1)),2&e){let e;l.oc(e=l.Yb())&&(t.exerciseSearchModal=e.first),l.oc(e=l.Yb())&&(t.exerciseModal=e.first)}},inputs:{exercise:"exercise"},outputs:{exerciseSelected:"exerciseSelected"},decls:20,vars:8,consts:[[1,"flex","flex-row","items-center","my-4"],["for","name",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5"],[4,"ngIf"],[3,"exerciseSelected"],[1,"ml-auto","flex","flex-wrap","w-3/5","justify-center","gap-4"],[1,"btn","btn-blue","w-full","text-center",3,"click"],[1,"btn-rounded","btn-blue",3,"ngClass","disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],[1,"btn-rounded","btn-blue",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"exercise"],["class","flex flex-row items-center my-4",4,"ngIf"],["for","progression",1,"label","mr-4","flex-grow"],[1,"cursor-pointer","pl-2","pr-1","py-1","rounded-md","border","border-light-dark","dark:border-0","dark:bg-dark-darkest","dark:text-white","w-full","text-base",3,"items","searchable","ngModel","ngModelChange"],["ng-option-tmp",""],["class","separator",4,"ngIf"],[1,"flex","gap-1","shadow-lg","dark:bg-dark-darkest","dark:text-white","text-base","px-4","py-2","bg-white","hover:bg-light-dark","dark:hover:bg-dark-light",3,"ngClass"],[1,"separator"],["for","variation",1,"label","mr-4","flex-grow"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"label",1),l.zc(2,"Exercise"),l.Ob(),l.Pb(3,"div",2),l.xc(4,X,2,1,"div",3),l.Pb(5,"app-exercise-search-modal",4),l.Xb("exerciseSelected",function(e){return t.onExerciseSelected(e)}),l.Ob(),l.Ob(),l.Ob(),l.Pb(6,"div",5),l.Pb(7,"button",6),l.Xb("click",function(){return t.onSelectExerciseClicked()}),l.zc(8,"Select exercise"),l.Ob(),l.Pb(9,"button",7),l.Xb("click",function(){return t.onEditExerciseClicked()}),l.ac(),l.Pb(10,"svg",8),l.Kb(11,"path",9),l.Kb(12,"path",10),l.Ob(),l.Ob(),l.Zb(),l.Pb(13,"button",11),l.Xb("click",function(){return t.onAddNewExerciseClicked()}),l.ac(),l.Pb(14,"svg",8),l.Kb(15,"path",9),l.Kb(16,"path",12),l.Ob(),l.Ob(),l.Zb(),l.Kb(17,"app-exercise-modal",13),l.Ob(),l.xc(18,B,6,3,"div",14),l.xc(19,D,6,3,"div",14)),2&e&&(l.zb(4),l.hc("ngIf",t.exerciseSelectedElement),l.zb(5),l.hc("ngClass",l.kc(6,J,!t.exerciseSelectedSpecs))("disabled",!t.exerciseSelectedSpecs),l.zb(8),l.hc("exercise",t.exerciseSelectedSpecs),l.zb(1),l.hc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.progressions.length)>0),l.zb(1),l.hc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.variations.length)>0))},directives:[g.l,K,g.j,E,k.a,i.k,i.m,k.c],pipes:[g.t],styles:[""]}),e})()}}]);
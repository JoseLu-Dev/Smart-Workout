(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{iKj1:function(e,t,n){"use strict";n.r(t),n.d(t,"EditPageModule",function(){return ft});var s=n("SKjW"),i=n("ofXK"),r=n("3Pt+"),c=n("TEn/"),o=n("tyNb"),l=n("IzEk"),b=n("7Mzq"),a=n("fXoL"),d=n("gIeq"),u=n("ZOsW");function p(e,t){1&e&&(a.Pb(0,"div"),a.ac(),a.Pb(1,"svg",5),a.Kb(2,"path",6),a.Kb(3,"path",7),a.Ob(),a.Ob())}function f(e,t){1&e&&(a.ac(),a.Pb(0,"svg",5),a.Kb(1,"path",8),a.Kb(2,"path",9),a.Ob())}const h=[[["","header",""]],[["","body",""]]],m=function(e){return{hidden:e}},g=["[header]","[body]"];let x=(()=>{class e{constructor(){this.opened=!1,this.toggle=new a.o,this.alreadySubscribed=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-accordion-item"]],inputs:{itemCss:"itemCss",opened:"opened",title:"title"},outputs:{toggle:"toggle"},ngContentSelectors:g,decls:10,vars:6,consts:[[3,"ngClass"],[1,"flex","flex-row","justify-center"],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["expandLess",""],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000"],["d","M0 0h24v24H0V0z","fill","none"],["d","M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"]],template:function(e,t){if(1&e&&(a.gc(h),a.Pb(0,"div",0),a.Pb(1,"div",1),a.fc(2),a.Pb(3,"div",2),a.Xb("click",function(){return t.toggle.emit()}),a.xc(4,p,4,0,"div",3),a.xc(5,f,3,0,"ng-template",null,4,a.yc),a.Ob(),a.Ob(),a.Pb(7,"div",0),a.fc(8,1),a.Ob(),a.Kb(9,"div"),a.Ob()),2&e){const e=a.pc(6);a.hc("ngClass",t.itemCss),a.zb(4),a.hc("ngIf",t.opened)("ngIfElse",e),a.zb(3),a.hc("ngClass",a.kc(4,m,!t.opened))}},directives:[i.j,i.l],styles:[""]}),e})();const w=["*"];let v=(()=>{class e{constructor(){}ngAfterContentInit(){this.updateAccordion(null)}updateAccordion(e){setTimeout(()=>{this.groups.toArray().forEach(e=>{e.alreadySubscribed||(e.toggle.subscribe(()=>{e.opened?e.opened=!1:this.openGroup(e)}),e.alreadySubscribed=!0)}),e&&e()},0)}openItem(e){this.groups.toArray().forEach(e=>e.opened=!1),this.groups.toArray()[e].opened=!0}openGroup(e){this.groups.toArray().forEach(e=>e.opened=!1),e.opened=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-accordion"]],contentQueries:function(e,t,n){if(1&e&&a.Cb(n,x,0),2&e){let e;a.oc(e=a.Yb())&&(t.groups=e)}},ngContentSelectors:w,decls:1,vars:0,template:function(e,t){1&e&&(a.gc(),a.fc(0))},styles:[""]}),e})(),P=(()=>{class e{constructor(e){this.formBuilder=e,this.exerciseSet=new a.o,this.set=this.set||new b.c}set exerciseSetToEdit(e){e&&0!==(null==e?void 0:e.setParts.length)&&(this.buildForm(),this.set=e,this.setPropertiesFormGroup.get("setsNumber").setValue(e.setsCount),this.setPropertiesFormGroup.get("restSecondsFinal").setValue(e.finalRest%60),this.setPropertiesFormGroup.get("restMinutesFinal").setValue(Math.trunc(e.finalRest/60)),this.setPropertiesFormGroup.get("restSecondsBetweenSet").setValue(e.setParts[e.setParts.length-1].rest%60),this.setPropertiesFormGroup.get("restMinutesBetweenSet").setValue(Math.trunc(e.setParts[e.setParts.length-1].rest/60)),setTimeout(()=>{this.accordion.updateAccordion(null)},0))}ngOnInit(){this.setPropertiesFormGroup||this.buildForm()}buildForm(){this.setPropertiesFormGroup=this.formBuilder.group({setsNumber:["",r.q.compose([r.q.required,r.q.min(1)])],restSecondsFinal:[0,r.q.compose([r.q.required,r.q.min(0)])],restMinutesFinal:[0,r.q.compose([r.q.required,r.q.min(0)])],restSecondsBetweenSet:this.restBetweenExercises?null:[0,r.q.compose([r.q.required,r.q.min(0)])],restMinutesBetweenSet:this.restBetweenExercises?null:[0,r.q.compose([r.q.required,r.q.min(0)])]})}onSubmit(){this.addSetsCountToSet(),this.exerciseSet.emit(this.set)}addSetsCountToSet(){this.set.finalRest=this.setPropertiesFormGroup.get("restSecondsFinal").value+60*this.setPropertiesFormGroup.get("restMinutesFinal").value,this.set.setsCount=this.setPropertiesFormGroup.get("setsNumber").value;const e=this.set.setsCount,t=this.set.setParts;this.restBetweenExercises||this.setRestBetweenSets();for(let n=1;n<e;n++)this.set.setParts=this.set.setParts.concat(...t)}setRestBetweenSets(){}addSetPart(e,t){0===this.set.setParts.length?this.set.setParts.push(e):this.set.setParts[t]=e,this.accordion&&this.accordion.updateAccordion(null)}addNewSetPart(){this.set.setParts.push(new b.d),this.accordion.updateAccordion(()=>{this.accordion.openItem(this.set.setParts.length-1)})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&a.Ec(v,1),2&e){let e;a.oc(e=a.Yb())&&(t.accordion=e.first)}},inputs:{exerciseSetToEdit:"exerciseSetToEdit"},outputs:{exerciseSet:"exerciseSet"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var O=n("QfOA"),y=n("haYR"),S=n("AytR"),z=n("tk/3");let C=(()=>{class e{constructor(e){this.http=e,this.halfUseMultiplier=.5,this.oneEndMultiplier=.5,this.bandsUrl=`${S.a.backendUrl}/users/bands`}getUserBands(){return this.http.get(`${this.bandsUrl}/`)}saveBand(e){return this.http.put(`${this.bandsUrl}/`,e)}getBandResistance(e,t,n){return t||(n=!1),e.weight*(t?1:this.halfUseMultiplier)*(n?1:this.oneEndMultiplier)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(z.b))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=n("iz14"),k=n("zwmB");const E=function(e){return{"opacity-70":e}};let I=(()=>{class e{constructor(e,t,n){this.modalService=e,this.formBuilder=t,this.bandsService=n,this.band=new a.o,this.id="bands-creation-modal"}ngOnInit(){this.buildForm()}buildForm(){this.bandForm=this.formBuilder.group({weight:["",r.q.compose([r.q.required,r.q.max(100),r.q.min(1)])]}),this.colorForm=new r.d("",r.q.required)}openModal(){this.buildForm(),this.modalService.open(this.id)}closeModal(){this.modalService.close(this.id)}onModalClosed(){}onSubmit(){const e=new b.a;e.color=this.colorForm.value,e.weight=this.bandForm.value.weight,this.bandsService.saveBand(e).subscribe(e=>{this.band.next(e)}),this.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(y.a),a.Jb(r.c),a.Jb(C))},e.\u0275cmp=a.Db({type:e,selectors:[["app-bands-creation-modal"]],outputs:{band:"band"},decls:17,vars:7,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[3,"formGroup"],[1,"flex","flex-col","justify-items-center","mt-4"],[1,"label","mb-2"],["type","number","placeholder","weight","formControlName","weight",1,"input"],[1,"flex","justify-center","items-center","gap-2","mt-4"],[1,"label"],["ngx-colors-trigger","",3,"formControl"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.zc(2,"New band"),a.Ob(),a.Pb(3,"form",2),a.Pb(4,"div",3),a.Pb(5,"label",4),a.zc(6,"Max band resistance (kg)"),a.Ob(),a.Kb(7,"input",5),a.Pb(8,"div",6),a.Pb(9,"label",7),a.zc(10,"Color"),a.Ob(),a.Kb(11,"ngx-colors",8),a.Ob(),a.Ob(),a.Ob(),a.Pb(12,"div",9),a.Pb(13,"button",10),a.Xb("click",function(){return t.closeModal()}),a.zc(14,"Close"),a.Ob(),a.Pb(15,"button",11),a.Xb("click",function(){return t.onSubmit()}),a.zc(16,"Accept"),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.hc("id",t.id),a.zb(3),a.hc("formGroup",t.bandForm),a.zb(8),a.hc("formControl",t.colorForm),a.zb(4),a.hc("disabled",t.bandForm.invalid||t.colorForm.invalid)("ngClass",a.kc(5,E,t.bandForm.invalid||t.colorForm.invalid)))},directives:[F.a,r.r,r.l,r.g,r.n,r.b,r.k,r.f,k.a,k.c,r.e,i.j],styles:[""]}),e})();function B(e,t){1&e&&(a.Pb(0,"div"),a.Pb(1,"p",17),a.zc(2," You don't have any bands,"),a.Ob(),a.Pb(3,"p",18),a.zc(4,'press the "+" button to add a new one'),a.Ob(),a.Ob())}function G(e,t){1&e&&(a.Pb(0,"div",19),a.Pb(1,"p",20),a.zc(2,"Color"),a.Ob(),a.Pb(3,"p",20),a.zc(4,"Resistance"),a.Ob(),a.Ob())}function T(e,t){1&e&&a.Kb(0,"div",26)}const M=function(e){return{"background-color":e}};function K(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",21),a.Pb(1,"button",22),a.Xb("click",function(){a.sc(e);const n=t.$implicit;return a.bc().onBandClicked(n)}),a.Pb(2,"div",20),a.Kb(3,"div",23),a.Ob(),a.Pb(4,"p",24),a.zc(5),a.Ob(),a.Ob(),a.xc(6,T,1,0,"div",25),a.Ob()}if(2&e){const e=t.$implicit,n=t.last;a.zb(3),a.hc("ngStyle",a.kc(3,M,e.color)),a.zb(2),a.Bc("",e.weight," Kg"),a.zb(1),a.hc("ngIf",!n)}}function q(e,t){1&e&&(a.Pb(0,"p",45),a.zc(1,"Maximum band resistance exceeded"),a.Ob())}function N(e,t){1&e&&(a.Pb(0,"p",45),a.zc(1,"You cannot put a negative value"),a.Ob())}function R(e,t){if(1&e&&(a.Pb(0,"div"),a.xc(1,q,2,0,"p",43),a.xc(2,N,2,0,"ng-template",null,44,a.yc),a.Ob()),2&e){const e=a.pc(3),t=a.bc(2);a.zb(1),a.hc("ngIf",t.bandForm.get("weight").value>0)("ngIfElse",e)}}const X=function(e){return{"input-invalid":e}};function V(e,t){if(1&e&&(a.Pb(0,"form",27),a.Pb(1,"div",28),a.Pb(2,"div",29),a.Pb(3,"div",30),a.Kb(4,"div",31),a.Ob(),a.Pb(5,"div",32),a.Kb(6,"input",33),a.Pb(7,"p",18),a.zc(8,"Kg"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.xc(9,R,4,2,"div",10),a.Pb(10,"div",34),a.Pb(11,"p",35),a.zc(12,"Whole band used?"),a.Ob(),a.Pb(13,"div",36),a.Kb(14,"input",37),a.Pb(15,"p",38),a.zc(16,"Full"),a.Ob(),a.Kb(17,"input",39),a.Pb(18,"p",40),a.zc(19,"Half"),a.Ob(),a.Ob(),a.Pb(20,"p",35),a.zc(21,"Band ends"),a.Ob(),a.Pb(22,"div",36),a.Kb(23,"input",41),a.Pb(24,"p",38),a.zc(25,"One"),a.Ob(),a.Kb(26,"input",42),a.Pb(27,"p",40),a.zc(28,"Two"),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc();a.hc("formGroup",e.bandForm),a.zb(4),a.hc("ngStyle",a.kc(4,M,e.band.color)),a.zb(2),a.hc("ngClass",a.kc(6,X,!e.bandForm.get("weight").valid&&e.bandForm.get("weight").touched)),a.zb(3),a.hc("ngIf",!e.bandForm.get("weight").valid)}}const j=function(e){return{"opacity-70":e}};let D=(()=>{class e{constructor(e,t,n){this.modalService=e,this.bandsService=t,this.formBuilder=n,this.bandSelected=new a.o,this.id=`bands-selection-modal-${Math.random()}`}ngOnInit(){this.getBands()}getBands(){this.bandsService.getUserBands().subscribe(e=>{this.bands=e})}onBandClicked(e){this.band=e,this.bandForm=this.formBuilder.group({weight:[e.weight,r.q.compose([r.q.required,r.q.max(e.weight),r.q.min(0)])],use:["full"],ends:["two"]})}onAddNewBandClicked(){this.bandModal.openModal()}onSubmit(){const e=new b.b;e.color=this.band.color,this.calculateBandResistance(e),this.bandSelected.emit(e),this.closeModal()}calculateBandResistance(e){if(this.bandForm.get("weight").value!==this.band.weight)e.weight=this.bandForm.get("weight").value;else{const t="full"===this.bandForm.get("use").value,n="two"===this.bandForm.get("ends").value;e.weight=this.bandsService.getBandResistance(this.band,t,n),e.fullUse=t,e.twoEnds=n}}openModal(){this.modalService.open(this.id)}closeModal(){this.onModalClosed(),this.modalService.close(this.id)}onModalClosed(){this.bandForm=null}addBandCreated(e){this.bands.push(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(y.a),a.Jb(C),a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-bands-selection-modal"]],viewQuery:function(e,t){if(1&e&&a.Ec(I,1),2&e){let e;a.oc(e=a.Yb())&&(t.bandModal=e.first)}},outputs:{bandSelected:"bandSelected"},decls:20,vars:9,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[1,"flex","flex-row","items-center","my-2"],[1,"flex-grow","h-px","bg-light-dark","dark:bg-light-dark"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px",1,"icon"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"w-2","h-px","bg-light-dark","dark:bg-light-dark"],[3,"band"],[4,"ngIf"],["class","flex flex-row gap-8 text-lg font-semibold text-black dark:text-white",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"],[1,"text","text-center"],[1,"text"],[1,"flex","flex-row","gap-8","text-lg","font-semibold","text-black","dark:text-white"],[1,"flex-grow"],[1,"w-full"],[1,"flex","flex-row","gap-8","w-full","p-2","rounded-lg","hover:bg-light","dark:text-white","dark:hover:bg-dark-darkest",3,"click"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],[1,"flex-grow","text"],["class","flex-grow h-px bg-light-dark dark:bg-light-dark my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-light-dark","dark:bg-light-dark","my-1"],[3,"formGroup"],[1,"flex"],[1,"flex","mx-auto","mt-4","items-center"],[1,"mr-4"],[1,"btn-rounded","w-7","h-7",3,"ngStyle"],[1,"flex","flex-row","items-center","justify-end"],["formControlName","weight","type","number",1,"input","w-14","text-center","mr-1",3,"ngClass"],[1,"flex","flex-col","justify-center","items-center","mt-2"],[1,"label"],[1,"flex","flex-row","items-center","mt-2"],["formControlName","use","type","radio","value","full",1,"radioButton","w-6","h-6"],[1,"ml-2","mr-4","text"],["formControlName","use","type","radio","value","half",1,"radioButton","w-6","h-6"],[1,"ml-2","text"],["formControlName","ends","type","radio","value","one",1,"radioButton","w-6","h-6"],["formControlName","ends","type","radio","value","two",1,"radioButton","w-6","h-6"],["class","text-red-500 text-base font-bold text-center",4,"ngIf","ngIfElse"],["negativeValue",""],[1,"text-red-500","text-base","font-bold","text-center"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.zc(2,"Band selection"),a.Ob(),a.Pb(3,"div",2),a.Kb(4,"div",3),a.Pb(5,"button",4),a.Xb("click",function(){return t.onAddNewBandClicked()}),a.ac(),a.Pb(6,"svg",5),a.Kb(7,"path",6),a.Kb(8,"path",7),a.Ob(),a.Ob(),a.Zb(),a.Kb(9,"div",8),a.Pb(10,"app-bands-creation-modal",9),a.Xb("band",function(e){return t.addBandCreated(e)}),a.Ob(),a.Ob(),a.xc(11,B,5,0,"div",10),a.xc(12,G,5,0,"div",11),a.xc(13,K,7,5,"div",12),a.xc(14,V,29,8,"form",13),a.Pb(15,"div",14),a.Pb(16,"button",15),a.Xb("click",function(){return t.closeModal()}),a.zc(17,"Close"),a.Ob(),a.Pb(18,"button",16),a.Xb("click",function(){return t.onSubmit()}),a.zc(19,"Accept"),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.hc("id",t.id),a.zb(11),a.hc("ngIf",!t.bands||0==t.bands.length),a.zb(1),a.hc("ngIf",t.bands&&t.bands.length>0),a.zb(1),a.hc("ngForOf",t.bands),a.zb(1),a.hc("ngIf",t.bandForm),a.zb(4),a.hc("disabled",!t.bandForm||t.bandForm.invalid)("ngClass",a.kc(7,j,!t.bandForm||t.bandForm.invalid)))},directives:[F.a,I,i.l,i.k,i.j,i.m,r.r,r.l,r.g,r.b,r.n,r.k,r.f,r.o],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}"]}),e})();var Q=n("Ph8R");function A(e,t){1&e&&(a.Pb(0,"label",33),a.zc(1,"Seconds"),a.Ob())}function J(e,t){1&e&&(a.Pb(0,"label",33),a.zc(1,"Reps"),a.Ob())}const U=function(e){return{"input-invalid":e}};function H(e,t){if(1&e&&(a.Pb(0,"div",34),a.Pb(1,"label",35),a.zc(2,"Rest"),a.Ob(),a.Pb(3,"div",36),a.Kb(4,"input",37),a.Pb(5,"p",38),a.zc(6,":"),a.Ob(),a.Kb(7,"input",39),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.zb(4),a.hc("ngClass",a.kc(2,U,!e.setFormGroup.get("restMinutes").valid&&e.setFormGroup.get("restMinutes").touched)),a.zb(3),a.hc("ngClass",a.kc(4,U,!e.setFormGroup.get("restSeconds").valid&&e.setFormGroup.get("restSeconds").touched))}}const W=function(e){return{"background-color":e}},L=function(e){return{"opacity-70":e}};function $(e,t){if(1&e){const e=a.Qb();a.Pb(0,"form",1),a.Xb("ngSubmit",function(){a.sc(e);const t=a.bc();return t.onSubmit(t.setFormGroup.value)}),a.Pb(1,"div"),a.Kb(2,"div",2),a.Pb(3,"div",3),a.Pb(4,"div",4),a.Pb(5,"div",5),a.Pb(6,"div",6),a.Pb(7,"label",7),a.zc(8,"Weight"),a.Ob(),a.Kb(9,"div",8),a.Ob(),a.Pb(10,"div",9),a.Kb(11,"input",10),a.Pb(12,"p"),a.zc(13,"Kg"),a.Ob(),a.Kb(14,"div",8),a.Ob(),a.Ob(),a.Pb(15,"div",11),a.Pb(16,"div",6),a.Pb(17,"p",12),a.zc(18,"Ballast"),a.Ob(),a.Kb(19,"input",13),a.Ob(),a.Pb(20,"div",6),a.Pb(21,"p",12),a.zc(22,"Assistance"),a.Ob(),a.Kb(23,"input",14),a.Ob(),a.Ob(),a.Ob(),a.Kb(24,"div",2),a.Pb(25,"div",15),a.Pb(26,"div",5),a.Pb(27,"div",9),a.Pb(28,"label",16),a.zc(29,"Band"),a.Ob(),a.Pb(30,"button",17),a.Xb("click",function(){return a.sc(e),a.bc().onAddBandClicked()}),a.ac(),a.Pb(31,"svg",18),a.Kb(32,"path",19),a.Kb(33,"path",20),a.Ob(),a.Ob(),a.Zb(),a.Pb(34,"app-bands-selection-modal",21),a.Xb("bandSelected",function(t){return a.sc(e),a.bc().getBandUsedFromModal(t)}),a.Ob(),a.Ob(),a.Pb(35,"div",9),a.Kb(36,"input",22),a.Pb(37,"p"),a.zc(38,"Kg"),a.Ob(),a.Kb(39,"div",23),a.Ob(),a.Ob(),a.Pb(40,"div",11),a.Pb(41,"div",6),a.Pb(42,"p",12),a.zc(43,"Resistance"),a.Ob(),a.Kb(44,"input",24),a.Ob(),a.Pb(45,"div",6),a.Pb(46,"p",12),a.zc(47,"Assistance"),a.Ob(),a.Kb(48,"input",25),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Kb(49,"div",2),a.Pb(50,"div",26),a.Pb(51,"div",27),a.Pb(52,"div"),a.xc(53,A,2,0,"label",28),a.xc(54,J,2,0,"ng-template",null,29,a.yc),a.Ob(),a.Kb(56,"input",30),a.Ob(),a.xc(57,H,8,6,"div",31),a.Ob(),a.Pb(58,"button",32),a.zc(59,"Confirm"),a.Ob(),a.Ob()}if(2&e){const e=a.pc(55),t=a.bc();a.hc("formGroup",t.setFormGroup),a.zb(11),a.hc("ngClass",a.kc(9,U,!t.setFormGroup.get("weight").valid&&t.setFormGroup.get("weight").touched)),a.zb(28),a.hc("ngStyle",a.kc(11,W,null==t.bandUsed?null:t.bandUsed.color)),a.zb(14),a.hc("ngIf",null==t.exercise?null:t.exercise.static)("ngIfElse",e),a.zb(3),a.hc("ngClass",a.kc(13,U,!t.setFormGroup.get("reps").valid&&t.setFormGroup.get("reps").touched)),a.zb(1),a.hc("ngIf",t.restBetweenExercises),a.zb(1),a.hc("disabled",t.setFormGroup.invalid)("ngClass",a.kc(15,L,t.setFormGroup.invalid))}}let Y=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.userStats=t,this.changeDetector=n,this.setPart=new a.o}set exerciseSetter(e){this.exercise=e,this.setPartToBeEdited||this.buildForm(null)}set setPartToEdit(e){var t;e&&((null==e?void 0:e.exercise)&&(this.exercise=e.exercise),(null===(t=null==e?void 0:e.intensity)||void 0===t?void 0:t.band)&&(this.bandUsed=e.intensity.band),this.buildForm(e),this.setPartToBeEdited=e)}ngOnChanges(e){e.restBetweenExercises.currentValue!==e.restBetweenExercises.previousValue&&this.buildForm(this.setPartToBeEdited)}ngOnInit(){}buildForm(e){this.userStats.getWeight().pipe(Object(l.a)(1)).subscribe(t=>{var n,s;const i=this.getFormValues(e,t);this.setFormGroup=this.formBuilder.group({weight:[i.weight,r.q.compose([(null===(n=this.exercise)||void 0===n?void 0:n.bodyWeight)?null:r.q.required,r.q.min(0)])],weightResistanceType:[{value:i.weightResistanceType,disabled:!(null===(s=this.exercise)||void 0===s?void 0:s.bodyWeight)}],bandWeight:[{value:i.bandWeight,disabled:!0}],bandResistanceType:[i.bandResistanceType],reps:[i.reps,r.q.compose([r.q.required,r.q.min(1)])],restSeconds:this.restBetweenExercises?[i.restSeconds,r.q.compose([r.q.required,r.q.min(0)])]:null,restMinutes:this.restBetweenExercises?[i.restMinutes,r.q.compose([r.q.required,r.q.min(0)])]:null}),this.changeDetector.detectChanges()})}getFormValues(e,t){return new Z(e,t)}onAddBandClicked(){this.bandsModal.openModal()}getBandUsedFromModal(e){this.bandUsed=e,this.setFormGroup.get("bandWeight").setValue(this.bandUsed.weight)}onSubmit(e){if(this.setFormGroup.invalid)return;const t=new b.d;t.exercise=this.exercise,t.quantity=e.reps,(null==e?void 0:e.restMinutes)+(null==e?void 0:e.restSeconds)!==0&&(t.rest=60*e.restMinutes+e.restSeconds),t.intensity=new b.e,this.bandUsed&&(this.bandUsed.weight*="assistance"===e.bandResistanceType?-1:1,t.intensity.band=this.bandUsed),e.weight*="assistance"===e.weightResistanceType?-1:1,this.userStats.getWeight().subscribe(n=>{e.weight+=this.exercise.bodyWeight?n:0,t.intensity.weight=e.weight,this.setPart.emit(t)})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c),a.Jb(Q.a),a.Jb(a.i))},e.\u0275cmp=a.Db({type:e,selectors:[["app-set-properties-selection"]],viewQuery:function(e,t){if(1&e&&a.Ec(D,1),2&e){let e;a.oc(e=a.Yb())&&(t.bandsModal=e.first)}},inputs:{exerciseSetter:"exerciseSetter",restBetweenExercises:"restBetweenExercises",setPartToEdit:"setPartToEdit"},outputs:{setPart:"setPart"},features:[a.xb],decls:1,vars:1,consts:[["class","flex flex-col",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","flex-col",3,"formGroup","ngSubmit"],[1,"flex-grow","h-px","bg-light-dark","dark:bg-light-dark","my-4"],[1,"flex","flex-col"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex"],["for","weight",1,"label","h-6"],[1,"w-6","h-6"],[1,"flex","flex-row","items-center","gap-2"],["formControlName","weight","placeholder","0","type","number",1,"input","w-20","text-center",3,"ngClass"],[1,"flex","flex-col","gap-2","w-2/5"],[1,"mr-2","text","flex-grow"],["type","radio","formControlName","weightResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","weightResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","content-center","gap-2"],[1,"label"],[1,"btn-rounded","btn-blue","p-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","16px","viewBox","0 0 24 24","width","16px",1,"icon-white"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"bandSelected"],["formControlName","bandWeight","placeholder","0","type","number",1,"input","w-20","text-center","opacity-50"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],["type","radio","formControlName","bandResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","bandResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["class","label mb-2","for","reps",4,"ngIf","ngIfElse"],["seconds",""],["formControlName","reps","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],["type","submit",1,"btn","btn-blue","w-full","mx-auto","my-4",3,"disabled","ngClass"],["for","reps",1,"label","mb-2"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutes","placeholder","0","type","number",1,"input","w-12","text-center",3,"ngClass"],[1,"text-xl","font-bold"],["formControlName","restSeconds","placeholder","0","type","number",1,"input","w-16","text-center",3,"ngClass"]],template:function(e,t){1&e&&a.xc(0,$,60,17,"form",0),2&e&&a.hc("ngIf",t.setFormGroup)},directives:[i.l,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.j,r.o,D,i.m],styles:[""]}),e})();class Z{constructor(e,t){this.setDefaultValues(),e&&this.setSetPartValues(e,t)}setSetPartValues(e,t){var n,s;if(null===(n=null==e?void 0:e.intensity)||void 0===n?void 0:n.weight){let n=e.intensity.weight;e.exercise.bodyWeight&&(n-=t),this.weight=Math.abs(n),this.weightResistanceType=n<0?"assistance":"ballast"}if((null===(s=null==e?void 0:e.intensity)||void 0===s?void 0:s.band)&&(this.bandWeight=Math.abs(e.intensity.band.weight),this.bandResistanceType=e.intensity.band.weight<0?"assistance":"ballast"),(null==e?void 0:e.quantity)&&(this.reps=e.quantity),null==e?void 0:e.rest){const t=e.rest;this.restMinutes=Math.trunc(t/60),this.restSeconds=t%60}}setDefaultValues(){this.setDefaultWeightValues(),this.setDefaultRepsValue(),this.setDefaultRestValues()}setDefaultWeightValues(){this.weightResistanceType="ballast",this.weight=0,this.bandWeight=0,this.bandResistanceType="assistance"}setDefaultRepsValue(){this.reps=0}setDefaultRestValues(){this.restSeconds=30,this.restMinutes=1}}function _(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-set-properties-selection",2),a.Xb("setPart",function(t){return a.sc(e),a.bc().addSetPart(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.zb(1),a.hc("exerciseSetter",e.exerciseSelected)("setPartToEdit",e.setPartToEdit)("restBetweenExercises",e.restBetweenExercises)}}let ee=(()=>{class e{constructor(){this.setPart=new a.o}ngOnInit(){}setExerciseSelected(e){this.exerciseSelected=e}addSetPart(e){this.setPart.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-set-selection"]],inputs:{setPartToEdit:"setPartToEdit",restBetweenExercises:"restBetweenExercises"},outputs:{setPart:"setPart"},decls:2,vars:2,consts:[[3,"exercise","exerciseSelected"],[4,"ngIf"],[3,"exerciseSetter","setPartToEdit","restBetweenExercises","setPart"]],template:function(e,t){1&e&&(a.Pb(0,"app-exercise-selection",0),a.Xb("exerciseSelected",function(e){return t.setExerciseSelected(e)}),a.Ob(),a.xc(1,_,2,3,"div",1)),2&e&&(a.hc("exercise",null==t.setPartToEdit?null:t.setPartToEdit.exercise),a.zb(1),a.hc("ngIf",t.exerciseSelected))},directives:[O.a,i.l,Y],styles:[""]}),e})();function te(e,t){if(1&e&&(a.Pb(0,"div",10),a.zc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Cc("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function ne(e,t){1&e&&a.Lb(0,11)}const se=function(e,t){return{index:e,setPart:t}};function ie(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",7),a.xc(1,te,2,2,"div",8),a.xc(2,ne,1,0,"ng-container",9),a.Ob()),2&e){const e=t.$implicit,n=t.index;a.bc(2);const s=a.pc(2);a.hc("itemCss","card my-4"),a.zb(1),a.hc("ngIf",e.exercise),a.zb(1),a.hc("ngTemplateOutlet",s)("ngTemplateOutletContext",a.lc(4,se,n,e))}}function re(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",12),a.Xb("click",function(){return a.sc(e),a.bc(2).addNewSetPart()}),a.ac(),a.Pb(1,"svg",13),a.Kb(2,"path",14),a.Kb(3,"path",15),a.Ob(),a.Ob()}}function ce(e,t){1&e&&(a.Pb(0,"div",21),a.Pb(1,"label",22),a.zc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",23),a.Kb(4,"input",27),a.Pb(5,"p",25),a.zc(6,":"),a.Ob(),a.Kb(7,"input",28),a.Ob(),a.Ob())}const oe=function(e){return{"input-invalid":e}};function le(e,t){if(1&e&&(a.Pb(0,"form",16),a.Pb(1,"div",17),a.Pb(2,"div"),a.Pb(3,"label",18),a.zc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",19),a.Ob(),a.xc(6,ce,8,0,"div",20),a.Pb(7,"div",21),a.Pb(8,"label",22),a.zc(9,"Final rest"),a.Ob(),a.Pb(10,"div",23),a.Kb(11,"input",24),a.Pb(12,"p",25),a.zc(13,":"),a.Ob(),a.Kb(14,"input",26),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.hc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.hc("ngClass",a.kc(3,oe,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.hc("ngIf",!e.restBetweenExercises)}}function be(e,t){if(1&e&&(a.Pb(0,"div",3),a.Pb(1,"app-accordion"),a.xc(2,ie,3,7,"app-accordion-item",4),a.Ob(),a.xc(3,re,4,0,"button",5),a.xc(4,le,15,5,"form",6),a.Ob()),2&e){const e=a.bc();a.zb(2),a.hc("ngForOf",e.set.setParts),a.zb(1),a.hc("ngIf",e.multiExercise),a.zb(1),a.hc("ngIf",e.set.setParts.length>0)}}function ae(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",29),a.Xb("setPart",function(n){a.sc(e);const s=t.index;return a.bc().addSetPart(n,s)}),a.Ob()}if(2&e){const e=t.setPart,n=a.bc();a.hc("restBetweenExercises",n.restBetweenExercises)("setPartToEdit",e)}}const de=function(e){return{"opacity-70":e}};function ue(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",30),a.Xb("click",function(){return a.sc(e),a.bc().onSubmit()}),a.zc(1,"Confirm set"),a.Ob()}if(2&e){const e=a.bc();a.hc("disabled",e.setPropertiesFormGroup.invalid)("ngClass",a.kc(2,de,e.setPropertiesFormGroup.invalid))}}let pe=(()=>{class e extends P{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!1,super.ngOnInit()}setRestBetweenSets(){const e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts.forEach(n=>{n.rest=e+60*t})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-emom-strategy"]],features:[a.wb],decls:4,vars:3,consts:[["class","flex flex-col",4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex","flex-col"],[3,"itemCss",4,"ngFor","ngForOf"],["class","btn-rounded btn-blue mx-auto my-4",3,"click",4,"ngIf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"btn-rounded","btn-blue","mx-auto","my-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","30px","viewBox","0 0 24 24","width","30px",1,"icon-white"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[3,"restBetweenExercises","setPartToEdit","setPart"],[1,"btn","btn-blue","w-full","mt-4",3,"disabled","ngClass","click"]],template:function(e,t){if(1&e&&(a.xc(0,be,5,3,"div",0),a.xc(1,ae,1,2,"ng-template",null,1,a.yc),a.xc(3,ue,2,4,"button",2)),2&e){const e=a.pc(2);a.hc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.hc("ngIf",t.set.setParts.length>0)}},directives:[i.l,v,i.k,x,i.q,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.j,ee],encapsulation:2}),e})();function fe(e,t){if(1&e&&(a.Pb(0,"div",10),a.zc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Cc("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function he(e,t){1&e&&a.Lb(0,11)}const me=function(e,t){return{index:e,setPart:t}};function ge(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",7),a.xc(1,fe,2,2,"div",8),a.xc(2,he,1,0,"ng-container",9),a.Ob()),2&e){const e=t.$implicit,n=t.index;a.bc(2);const s=a.pc(2);a.hc("itemCss","card my-4"),a.zb(1),a.hc("ngIf",e.exercise),a.zb(1),a.hc("ngTemplateOutlet",s)("ngTemplateOutletContext",a.lc(4,me,n,e))}}function xe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",12),a.Xb("click",function(){return a.sc(e),a.bc(2).addNewSetPart()}),a.ac(),a.Pb(1,"svg",13),a.Kb(2,"path",14),a.Kb(3,"path",15),a.Ob(),a.Ob()}}function we(e,t){1&e&&(a.Pb(0,"div",21),a.Pb(1,"label",22),a.zc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",23),a.Kb(4,"input",27),a.Pb(5,"p",25),a.zc(6,":"),a.Ob(),a.Kb(7,"input",28),a.Ob(),a.Ob())}const ve=function(e){return{"input-invalid":e}};function Pe(e,t){if(1&e&&(a.Pb(0,"form",16),a.Pb(1,"div",17),a.Pb(2,"div"),a.Pb(3,"label",18),a.zc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",19),a.Ob(),a.xc(6,we,8,0,"div",20),a.Pb(7,"div",21),a.Pb(8,"label",22),a.zc(9,"Final rest"),a.Ob(),a.Pb(10,"div",23),a.Kb(11,"input",24),a.Pb(12,"p",25),a.zc(13,":"),a.Ob(),a.Kb(14,"input",26),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.hc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.hc("ngClass",a.kc(3,ve,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.hc("ngIf",!e.restBetweenExercises)}}function Oe(e,t){if(1&e&&(a.Pb(0,"div",3),a.Pb(1,"app-accordion"),a.xc(2,ge,3,7,"app-accordion-item",4),a.Ob(),a.xc(3,xe,4,0,"button",5),a.xc(4,Pe,15,5,"form",6),a.Ob()),2&e){const e=a.bc();a.zb(2),a.hc("ngForOf",e.set.setParts),a.zb(1),a.hc("ngIf",e.multiExercise),a.zb(1),a.hc("ngIf",e.set.setParts.length>0)}}function ye(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",29),a.Xb("setPart",function(n){a.sc(e);const s=t.index;return a.bc().addSetPart(n,s)}),a.Ob()}if(2&e){const e=t.setPart,n=a.bc();a.hc("restBetweenExercises",n.restBetweenExercises)("setPartToEdit",e)}}const Se=function(e){return{"opacity-70":e}};function ze(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",30),a.Xb("click",function(){return a.sc(e),a.bc().onSubmit()}),a.zc(1,"Confirm set"),a.Ob()}if(2&e){const e=a.bc();a.hc("disabled",e.setPropertiesFormGroup.invalid)("ngClass",a.kc(2,Se,e.setPropertiesFormGroup.invalid))}}let Ce=(()=>{class e extends P{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!1,super.ngOnInit()}setRestBetweenSets(){const e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts[this.set.setParts.length-1].rest=e+60*t}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-super-set-strategy"]],features:[a.wb],decls:4,vars:3,consts:[["class","flex flex-col",4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex","flex-col"],[3,"itemCss",4,"ngFor","ngForOf"],["class","btn-rounded btn-blue mx-auto my-4",3,"click",4,"ngIf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"btn-rounded","btn-blue","mx-auto","my-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","30px","viewBox","0 0 24 24","width","30px",1,"icon-white"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[3,"restBetweenExercises","setPartToEdit","setPart"],[1,"btn","btn-blue","w-full","mt-4",3,"disabled","ngClass","click"]],template:function(e,t){if(1&e&&(a.xc(0,Oe,5,3,"div",0),a.xc(1,ye,1,2,"ng-template",null,1,a.yc),a.xc(3,ze,2,4,"button",2)),2&e){const e=a.pc(2);a.hc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.hc("ngIf",t.set.setParts.length>0)}},directives:[i.l,v,i.k,x,i.q,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.j,ee],encapsulation:2}),e})();function Fe(e,t){if(1&e&&(a.Pb(0,"div",10),a.zc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Cc("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function ke(e,t){1&e&&a.Lb(0,11)}const Ee=function(e,t){return{index:e,setPart:t}};function Ie(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",7),a.xc(1,Fe,2,2,"div",8),a.xc(2,ke,1,0,"ng-container",9),a.Ob()),2&e){const e=t.$implicit,n=t.index;a.bc(2);const s=a.pc(2);a.hc("itemCss","card my-4"),a.zb(1),a.hc("ngIf",e.exercise),a.zb(1),a.hc("ngTemplateOutlet",s)("ngTemplateOutletContext",a.lc(4,Ee,n,e))}}function Be(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",12),a.Xb("click",function(){return a.sc(e),a.bc(2).addNewSetPart()}),a.ac(),a.Pb(1,"svg",13),a.Kb(2,"path",14),a.Kb(3,"path",15),a.Ob(),a.Ob()}}function Ge(e,t){1&e&&(a.Pb(0,"div",21),a.Pb(1,"label",22),a.zc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",23),a.Kb(4,"input",27),a.Pb(5,"p",25),a.zc(6,":"),a.Ob(),a.Kb(7,"input",28),a.Ob(),a.Ob())}const Te=function(e){return{"input-invalid":e}};function Me(e,t){if(1&e&&(a.Pb(0,"form",16),a.Pb(1,"div",17),a.Pb(2,"div"),a.Pb(3,"label",18),a.zc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",19),a.Ob(),a.xc(6,Ge,8,0,"div",20),a.Pb(7,"div",21),a.Pb(8,"label",22),a.zc(9,"Final rest"),a.Ob(),a.Pb(10,"div",23),a.Kb(11,"input",24),a.Pb(12,"p",25),a.zc(13,":"),a.Ob(),a.Kb(14,"input",26),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.hc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.hc("ngClass",a.kc(3,Te,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.hc("ngIf",!e.restBetweenExercises)}}function Ke(e,t){if(1&e&&(a.Pb(0,"div",3),a.Pb(1,"app-accordion"),a.xc(2,Ie,3,7,"app-accordion-item",4),a.Ob(),a.xc(3,Be,4,0,"button",5),a.xc(4,Me,15,5,"form",6),a.Ob()),2&e){const e=a.bc();a.zb(2),a.hc("ngForOf",e.set.setParts),a.zb(1),a.hc("ngIf",e.multiExercise),a.zb(1),a.hc("ngIf",e.set.setParts.length>0)}}function qe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",29),a.Xb("setPart",function(n){a.sc(e);const s=t.index;return a.bc().addSetPart(n,s)}),a.Ob()}if(2&e){const e=t.setPart,n=a.bc();a.hc("restBetweenExercises",n.restBetweenExercises)("setPartToEdit",e)}}const Ne=function(e){return{"opacity-70":e}};function Re(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",30),a.Xb("click",function(){return a.sc(e),a.bc().onSubmit()}),a.zc(1,"Confirm set"),a.Ob()}if(2&e){const e=a.bc();a.hc("disabled",e.setPropertiesFormGroup.invalid)("ngClass",a.kc(2,Ne,e.setPropertiesFormGroup.invalid))}}let Xe=(()=>{class e extends P{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!0,super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-circuit-strategy"]],features:[a.wb],decls:4,vars:3,consts:[["class","flex flex-col",4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex","flex-col"],[3,"itemCss",4,"ngFor","ngForOf"],["class","btn-rounded btn-blue mx-auto my-4",3,"click",4,"ngIf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"btn-rounded","btn-blue","mx-auto","my-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","30px","viewBox","0 0 24 24","width","30px",1,"icon-white"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[3,"restBetweenExercises","setPartToEdit","setPart"],[1,"btn","btn-blue","w-full","mt-4",3,"disabled","ngClass","click"]],template:function(e,t){if(1&e&&(a.xc(0,Ke,5,3,"div",0),a.xc(1,qe,1,2,"ng-template",null,1,a.yc),a.xc(3,Re,2,4,"button",2)),2&e){const e=a.pc(2);a.hc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.hc("ngIf",t.set.setParts.length>0)}},directives:[i.l,v,i.k,x,i.q,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.j,ee],encapsulation:2}),e})();function Ve(e,t){if(1&e&&(a.Pb(0,"div",10),a.zc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Cc("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function je(e,t){1&e&&a.Lb(0,11)}const De=function(e,t){return{index:e,setPart:t}};function Qe(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",7),a.xc(1,Ve,2,2,"div",8),a.xc(2,je,1,0,"ng-container",9),a.Ob()),2&e){const e=t.$implicit,n=t.index;a.bc(2);const s=a.pc(2);a.hc("itemCss","card my-4"),a.zb(1),a.hc("ngIf",e.exercise),a.zb(1),a.hc("ngTemplateOutlet",s)("ngTemplateOutletContext",a.lc(4,De,n,e))}}function Ae(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",12),a.Xb("click",function(){return a.sc(e),a.bc(2).addNewSetPart()}),a.ac(),a.Pb(1,"svg",13),a.Kb(2,"path",14),a.Kb(3,"path",15),a.Ob(),a.Ob()}}function Je(e,t){1&e&&(a.Pb(0,"div",21),a.Pb(1,"label",22),a.zc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",23),a.Kb(4,"input",27),a.Pb(5,"p",25),a.zc(6,":"),a.Ob(),a.Kb(7,"input",28),a.Ob(),a.Ob())}const Ue=function(e){return{"input-invalid":e}};function He(e,t){if(1&e&&(a.Pb(0,"form",16),a.Pb(1,"div",17),a.Pb(2,"div"),a.Pb(3,"label",18),a.zc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",19),a.Ob(),a.xc(6,Je,8,0,"div",20),a.Pb(7,"div",21),a.Pb(8,"label",22),a.zc(9,"Final rest"),a.Ob(),a.Pb(10,"div",23),a.Kb(11,"input",24),a.Pb(12,"p",25),a.zc(13,":"),a.Ob(),a.Kb(14,"input",26),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.hc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.hc("ngClass",a.kc(3,Ue,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.hc("ngIf",!e.restBetweenExercises)}}function We(e,t){if(1&e&&(a.Pb(0,"div",3),a.Pb(1,"app-accordion"),a.xc(2,Qe,3,7,"app-accordion-item",4),a.Ob(),a.xc(3,Ae,4,0,"button",5),a.xc(4,He,15,5,"form",6),a.Ob()),2&e){const e=a.bc();a.zb(2),a.hc("ngForOf",e.set.setParts),a.zb(1),a.hc("ngIf",e.multiExercise),a.zb(1),a.hc("ngIf",e.set.setParts.length>0)}}function Le(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",29),a.Xb("setPart",function(n){a.sc(e);const s=t.index;return a.bc().addSetPart(n,s)}),a.Ob()}if(2&e){const e=t.setPart,n=a.bc();a.hc("restBetweenExercises",n.restBetweenExercises)("setPartToEdit",e)}}const $e=function(e){return{"opacity-70":e}};function Ye(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",30),a.Xb("click",function(){return a.sc(e),a.bc().onSubmit()}),a.zc(1,"Confirm set"),a.Ob()}if(2&e){const e=a.bc();a.hc("disabled",e.setPropertiesFormGroup.invalid)("ngClass",a.kc(2,$e,e.setPropertiesFormGroup.invalid))}}let Ze=(()=>{class e extends P{constructor(e){super(e),this.builder=e,this.multiExercise=!1,this.restBetweenExercises=!0}ngOnInit(){super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-common-exercise-strategy"]],features:[a.wb],decls:4,vars:3,consts:[["class","flex flex-col",4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex","flex-col"],[3,"itemCss",4,"ngFor","ngForOf"],["class","btn-rounded btn-blue mx-auto my-4",3,"click",4,"ngIf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"btn-rounded","btn-blue","mx-auto","my-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","30px","viewBox","0 0 24 24","width","30px",1,"icon-white"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[3,"restBetweenExercises","setPartToEdit","setPart"],[1,"btn","btn-blue","w-full","mt-4",3,"disabled","ngClass","click"]],template:function(e,t){if(1&e&&(a.xc(0,We,5,3,"div",0),a.xc(1,Le,1,2,"ng-template",null,1,a.yc),a.xc(3,Ye,2,4,"button",2)),2&e){const e=a.pc(2);a.hc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.hc("ngIf",t.set.setParts.length>0)}},directives:[i.l,v,i.k,x,i.q,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.j,ee],encapsulation:2}),e})();function _e(e,t){1&e&&a.Kb(0,"div",10)}const et=function(e){return{"border-l-8 border-green":e}};function tt(e,t){if(1&e&&(a.xc(0,_e,1,0,"div",8),a.Pb(1,"div",9),a.Pb(2,"p"),a.zc(3),a.cc(4,"titlecase"),a.Ob(),a.Ob()),2&e){const e=t.item,n=t.index,s=a.bc();a.hc("ngIf",0!=n),a.zb(1),a.hc("ngClass",a.kc(5,et,e==s.exercisesSetFormGroup.get("selectedType").value)),a.zb(2),a.Ac(a.dc(4,3,e))}}function nt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-emom-strategy",15),a.Xb("exerciseSet",function(t){return a.sc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.hc("exerciseSetToEdit",e.set)}}function st(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-super-set-strategy",15),a.Xb("exerciseSet",function(t){return a.sc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.hc("exerciseSetToEdit",e.set)}}function it(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-circuit-strategy",15),a.Xb("exerciseSet",function(t){return a.sc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.hc("exerciseSetToEdit",e.set)}}function rt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-common-exercise-strategy",15),a.Xb("exerciseSet",function(t){return a.sc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.hc("exerciseSetToEdit",e.set)}}function ct(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"p",11),a.zc(2,"Set"),a.Ob(),a.Pb(3,"div",12),a.xc(4,nt,2,1,"div",13),a.xc(5,st,2,1,"div",13),a.xc(6,it,2,1,"div",13),a.xc(7,rt,2,1,"div",14),a.Ob(),a.Ob()),2&e){const e=a.bc();a.zb(3),a.hc("ngSwitch",e.exercisesSetFormGroup.get("selectedType").value),a.zb(1),a.hc("ngSwitchCase","Emom"),a.zb(1),a.hc("ngSwitchCase","Super Set"),a.zb(1),a.hc("ngSwitchCase","Circuit")}}let ot=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.trainingsFormService=t,this.router=n,this.types=["Normal","Emom","Super Set","Circuit"]}ngOnInit(){this.exercisesSetFormGroup=this.formBuilder.group({selectedType:[this.types[0],r.q.required]}),this.setOnSelectedSetChanged()}setOnSelectedSetChanged(){this.trainingsFormService.getSelectedSet().subscribe(e=>{if(!e)return;const t=JSON.parse(JSON.stringify(e)),n=t.setParts;t.setParts=n.splice(0,n.length/t.setsCount),this.exercisesSetFormGroup.get("selectedType").setValue(t.type),this.set=t})}sendSetToList(e){e.type=this.exercisesSetFormGroup.get("selectedType").value,this.trainingsFormService.confirmSetSelectedEdition(e),this.set=new b.c,this.exercisesSetFormGroup.reset()}submitEdition(){this.trainingsFormService.saveTraining(),this.trainingsFormService.getTraining().pipe(Object(l.a)(1)).subscribe(e=>{this.router.navigate([`app/trainings/${e.id}`],{replaceUrl:!0})})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c),a.Jb(d.a),a.Jb(o.f))},e.\u0275cmp=a.Db({type:e,selectors:[["app-exercises-set-add-form"]],decls:9,vars:4,consts:[[3,"formGroup"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center"],["for","type",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5","justify-end"],["formControlName","selectedType",1,"cursor-pointer","pl-2","pr-1","py-1","rounded-md","border","border-light-dark","dark:border-0","dark:bg-dark-darkest","dark:text-white","w-full","text-base",3,"items","searchable"],["ng-option-tmp",""],[4,"ngIf"],["class","separator",4,"ngIf"],[1,"flex","gap-1","shadow-lg","dark:bg-dark-darkest","dark:text-white","text-base","px-4","py-2","bg-white","hover:bg-light-dark","dark:hover:bg-dark-light",3,"ngClass"],[1,"separator"],[1,"mt-4","text-center","text-xl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"exerciseSetToEdit","exerciseSet"]],template:function(e,t){1&e&&(a.Pb(0,"form",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"label",3),a.zc(4,"Type"),a.Ob(),a.Pb(5,"div",4),a.Pb(6,"ng-select",5),a.xc(7,tt,5,7,"ng-template",6),a.Ob(),a.Ob(),a.Ob(),a.xc(8,ct,8,4,"div",7),a.Ob(),a.Ob()),2&e&&(a.hc("formGroup",t.exercisesSetFormGroup),a.zb(6),a.hc("items",t.types)("searchable",!1),a.zb(2),a.hc("ngIf",t.exercisesSetFormGroup.get("selectedType").value))},directives:[r.r,r.l,r.g,u.a,r.k,r.f,u.c,i.l,i.j,i.n,i.o,i.p,pe,Ce,Xe,Ze],pipes:[i.t],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}"]}),e})();var lt=n("I853"),bt=n("5hf0");const at=function(e,t){return{"background-color":e,color:t}};function dt(e,t){if(1&e&&(a.Pb(0,"div",10),a.Pb(1,"p"),a.zc(2),a.Ob(),a.Pb(3,"p"),a.zc(4),a.cc(5,"date"),a.Ob(),a.Ob()),2&e){const e=a.bc();a.hc("ngStyle",a.lc(6,at,e.trainingSpecs.color,e.contrast(e.trainingSpecs.color))),a.zb(2),a.Ac(e.trainingSpecs.name),a.zb(2),a.Ac(a.ec(5,3,e.trainingSpecs.date,"fullDate"))}}const ut=[{path:"",component:(()=>{class e{constructor(e){this.colorContrastService=e}ngOnInit(){}setTrainingSpecs(e){this.trainingSpecs=e}contrast(e){return this.colorContrastService.contrast(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(lt.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-edit"]],viewQuery:function(e,t){if(1&e&&a.Ec(ot,1),2&e){let e;a.oc(e=a.Yb())&&(t.setsForm=e.first)}},decls:11,vars:2,consts:[[1,"flex","md:flex-row","flex-col","overflow-y-auto","h-full","md:overflow-hidden","md:p-4","gap-4","md:justify-around","static"],[1,"flex","flex-col","w-full","md:w-3/5","lg:w-2/5"],["class","flex flex-wrap justify-between p-1 md:p-2 rounded-b-xl md:rounded-lg text-lg md:mb-4",3,"ngStyle",4,"ngIf"],[1,"w-full","md:w-auto","p-4","md:p-0","md:overflow-y-auto","md:pr-4",3,"editing","trainingSpecs"],[1,"w-full","md:w-1/2","xl:w-1/4","h-auto","md:h-full","md:overflow-y-auto","card"],[1,"absolute","bottom-4","right-4"],[1,"btn-rounded","btn-blue","mx-auto","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-12","h-12"],["d","M0 0h24v24H0V0z","fill","none"],["d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"],[1,"flex","flex-wrap","justify-between","p-1","md:p-2","rounded-b-xl","md:rounded-lg","text-lg","md:mb-4",3,"ngStyle"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.xc(2,dt,6,9,"div",2),a.Pb(3,"app-exercises-set-list",3),a.Xb("trainingSpecs",function(e){return t.setTrainingSpecs(e)}),a.Ob(),a.Ob(),a.Pb(4,"div",4),a.Kb(5,"app-exercises-set-add-form"),a.Ob(),a.Pb(6,"div",5),a.Pb(7,"button",6),a.Xb("click",function(){return t.setsForm.submitEdition()}),a.ac(),a.Pb(8,"svg",7),a.Kb(9,"path",8),a.Kb(10,"path",9),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.zb(2),a.hc("ngIf",t.trainingSpecs),a.zb(1),a.hc("editing",!0))},directives:[i.l,bt.a,ot,i.m],pipes:[i.e],styles:[""]}),e})()}];let pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({imports:[[o.j.forChild(ut)],o.j]}),e})(),ft=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({imports:[[i.c,r.h,c.e,pt,s.a]]}),e})()}}]);
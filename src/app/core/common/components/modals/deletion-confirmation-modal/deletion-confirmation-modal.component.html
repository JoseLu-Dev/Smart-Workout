<jw-modal [id]='id' (closeEvent)="onModalClosed()" extraCss="border-red-500 border-t-8">

  <div class="flex mb-2">
    <div class="btn-rounded btn-red mr-2">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-white w-6 h-6">
        <path d="M0 0h24v24H0z" fill="none" />
        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
      </svg>
    </div>
    <h1 class="text-xl font-semibold dark:text-white">Confirm deletion</h1>
  </div>


  <h3 class="text-base font-semibold dark:text-white text-center mb-1">
    Â¿Are you sure you want to
    <br> delete the following element?
  </h3>

  <!--Object to delete-->
  <div class="flex overflow-auto max-h-60vh p-4">
    <ng-container *ngTemplateOutlet="objectRecursion; context:{object:itemToDelete}"></ng-container>
  </div>

  <div class="flex justify-end mt-4">
    <button class="btn-transparent mr-4" (click)="closeModal()">Cancel</button>
    <button class="btn-red btn" (click)="onDeleteClicked()">Delete</button>
  </div>

</jw-modal>

<ng-template #objectRecursion let-object="object">
  <div class="flex flex-col gap-1">
    <div class="flex flex-grow gap-2" *ngFor="let item of object | keyvalue">
      <p>{{item.key}}:</p>
      <div *ngIf="item.value | isArray; else objectRepresentation">
        <ng-container *ngTemplateOutlet="array; context:{array:item}"></ng-container>
      </div>
      <ng-template #objectRepresentation>
        <div *ngIf="item.value | isObject; else keyValueRepresentation">
          <ng-container *ngTemplateOutlet="objectRecursion; context:{object:item.value}"></ng-container>
        </div>
      </ng-template>
      <ng-template #keyValueRepresentation>
        <p>{{item.value}}</p>
      </ng-template>
    </div>
  </div>
</ng-template>

<ng-template #array let-array="array">
  <div *ngFor="let item of array.value">
    <ng-container *ngTemplateOutlet="objectRecursion; context:{object:item}"></ng-container>
  </div>
</ng-template>
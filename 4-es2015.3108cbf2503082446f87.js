(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Ph8R:function(e,t,s){"use strict";s.d(t,"a",function(){return n});var i=s("AytR"),c=s("fXoL"),r=s("tk/3");let n=(()=>{class e{constructor(e){this.http=e,this.usersUrl=`${i.a.backendUrl}/users`,this.userDataUrl=`${i.a.backendUrl}/users/data`,this.weightDataUrl=`${this.userDataUrl}/weight`}getWeight(){return this.http.get(this.weightDataUrl)}setWeight(e){this.http.put(this.weightDataUrl,{weight:e}).subscribe()}getUserData(){return this.http.get(`${this.usersUrl}`)}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(r.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},QfOA:function(e,t,s){"use strict";s.d(t,"a",function(){return G});var i=s("3Pt+");class c{}class r{}class n{}var o=s("fXoL"),l=s("haYR"),a=s("AytR"),b=s("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.exercisesUrl=`${a.a.backendUrl}/exercises`}getExercisesNames(){return this.http.get(`${this.exercisesUrl}`)}getExercisesByName(e){return this.http.get(`${this.exercisesUrl}/by-name/${e}`)}getFewExercises(){return this.http.get(`${this.exercisesUrl}/few`)}getExerciseSpecs(e){return this.http.get(`${this.exercisesUrl}/${e}`)}saveExercise(e){this.http.put(`${this.exercisesUrl}`,e).subscribe()}deleteExercise(e){this.http.delete(`${this.exercisesUrl}/${e}`,{responseType:"text"}).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(b.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=s("iz14"),h=s("2Vo4"),m=s("IzEk"),p=s("Zs9Q");let g=(()=>{class e{constructor(e){this.http=e,this.musclesUrl=`${a.a.backendUrl}/muscles`}getMuscles(){return this.http.get(this.musclesUrl)}deleteMuscle(e){return this.http.delete(`${this.musclesUrl}/${e.id}`,{responseType:"text"})}saveMuscle(e){return this.http.post(this.musclesUrl,e)}}return e.\u0275fac=function(t){return new(t||e)(o.Tb(b.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=s("ofXK");function f(e,t){if(1&e&&(o.Pb(0,"form",6),o.Pb(1,"div",7),o.Pb(2,"label",8),o.zc(3,"Muscle name"),o.Ob(),o.Kb(4,"input",9),o.Ob(),o.Ob()),2&e){const e=o.bc();o.hc("formGroup",e.muscleForm)}}const v=function(e){return{"opacity-70":e}};let k=(()=>{class e extends p.a{constructor(e,t,s,i){super(e,i),this.modalService=e,this.formBuilder=t,this.musclesService=s,this.changeDetector=i,this.muscleCreated=new o.o,this.id=`MuscleCreationModalComponent-${Math.random()}`}onModalClosed(){}onModalOpened(){this.muscleForm=this.formBuilder.group({name:["",i.q.required]})}onSubmit(){this.musclesService.saveMuscle(this.muscleForm.value).pipe(Object(m.a)(1)).subscribe(e=>{this.muscleCreated.next(e)}),this.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l.a),o.Jb(i.c),o.Jb(g),o.Jb(o.i))},e.\u0275cmp=o.Db({type:e,selectors:[["app-muscle-creation-modal"]],outputs:{muscleCreated:"muscleCreated"},features:[o.wb],decls:9,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],["class","mb-3",3,"formGroup",4,"ngIf"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"],[1,"mb-3",3,"formGroup"],[1,"flex","flex-col","justify-items-center","mt-4"],[1,"label","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"]],template:function(e,t){1&e&&(o.Pb(0,"jw-modal",0),o.Xb("closeEvent",function(){return t.onModalClosed()}),o.Pb(1,"h1",1),o.zc(2,"New muscle"),o.Ob(),o.xc(3,f,5,1,"form",2),o.Pb(4,"div",3),o.Pb(5,"button",4),o.Xb("click",function(){return t.closeModal()}),o.zc(6,"Close"),o.Ob(),o.Pb(7,"button",5),o.Xb("click",function(){return t.onSubmit()}),o.zc(8,"Accept"),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.hc("id",t.id),o.zb(3),o.hc("ngIf",t.muscleForm),o.zb(4),o.hc("disabled",null==t.muscleForm?null:t.muscleForm.invalid)("ngClass",o.kc(4,v,null==t.muscleForm?null:t.muscleForm.invalid)))},directives:[u.a,x.l,x.j,i.r,i.l,i.g,i.b,i.k,i.f],styles:[""]}),e})();var w=s("ZOsW");function S(e,t){1&e&&o.Kb(0,"div",11)}function P(e,t){if(1&e){const e=o.Qb();o.Pb(0,"button",12),o.Xb("click",function(t){o.sc(e);const s=o.bc().item;return o.bc().onDeleteMuscleClicked(t,s)}),o.ac(),o.Pb(1,"svg",4),o.Kb(2,"path",5),o.Kb(3,"path",13),o.Ob(),o.Ob()}}const O=function(e){return{"border-l-8 border-green":e}};function C(e,t){if(1&e&&(o.xc(0,S,1,0,"div",8),o.Pb(1,"div",9),o.Pb(2,"p"),o.zc(3),o.cc(4,"titlecase"),o.Ob(),o.xc(5,P,4,0,"button",10),o.Ob()),2&e){const e=t.item,s=t.index,i=o.bc();o.hc("ngIf",0!=s),o.zb(1),o.hc("ngClass",o.kc(6,O,e.name==i.muscle)),o.zb(2),o.Ac(o.dc(4,4,e.name)),o.zb(2),o.hc("ngIf",null==e?null:e.id)}}let M=(()=>{class e{constructor(e){this.musclesService=e,this.muscleChange=new o.o,this.muscles=new h.a(new Array)}ngOnInit(){this.musclesService.getMuscles().pipe(Object(m.a)(1)).subscribe(e=>{this.muscles.next(e)})}onMuscleSelected(e){this.muscleChange.next(e.name),this.muscle=e.name}onDeleteMuscleClicked(e,t){this.musclesService.deleteMuscle(t).subscribe(e=>{this.muscles.next(new Array(...this.muscles.value.filter(e=>e.name!==t.name)))}),e.stopPropagation()}onAddMuscleClicked(){this.newMuscleOptionsModal.openModal()}onMuscleCreated(e){this.muscles.value.push(e),this.muscles.next(new Array(...this.muscles.value))}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(g))},e.\u0275cmp=o.Db({type:e,selectors:[["app-muscle-selection"]],viewQuery:function(e,t){if(1&e&&o.Ec(k,1),2&e){let e;o.oc(e=o.Yb())&&(t.newMuscleOptionsModal=e.first)}},inputs:{muscle:"muscle"},outputs:{muscleChange:"muscleChange"},decls:9,vars:4,consts:[[1,"w-full","flex","gap-2"],["bindLabel","name",1,"cursor-pointer","pl-2","pr-1","py-1","rounded-md","border","border-light-dark","dark:border-0","dark:bg-dark-darkest","dark:text-white","w-full","text-base",3,"items","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"btn-rounded","btn-blue","my-auto","h-8","w-8",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"muscleCreated"],["class","separator",4,"ngIf"],[1,"flex","justify-between","content-center","gap-2","shadow-lg","dark:bg-dark-darkest","dark:text-white","text-base","px-2","py-1","bg-white","hover:bg-light-dark","dark:hover:bg-dark-light",3,"ngClass"],["class","btn-rounded btn-blue",3,"click",4,"ngIf"],[1,"separator"],[1,"btn-rounded","btn-blue",3,"click"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Pb(1,"ng-select",1),o.Xb("ngModelChange",function(e){return t.onMuscleSelected(e)}),o.cc(2,"async"),o.xc(3,C,6,8,"ng-template",2),o.Ob(),o.Pb(4,"button",3),o.Xb("click",function(){return t.onAddMuscleClicked()}),o.ac(),o.Pb(5,"svg",4),o.Kb(6,"path",5),o.Kb(7,"path",6),o.Ob(),o.Ob(),o.Zb(),o.Pb(8,"app-muscle-creation-modal",7),o.Xb("muscleCreated",function(e){return t.onMuscleCreated(e)}),o.Ob(),o.Ob()),2&e&&(o.zb(1),o.hc("items",o.dc(2,2,t.muscles))("ngModel",t.muscle))},directives:[w.a,i.k,i.m,w.c,k,x.l,x.j],pipes:[x.b,x.t],styles:[""]}),e})();function z(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",19),o.Kb(1,"input",20),o.Pb(2,"button",21),o.Xb("click",function(){o.sc(e);const s=t.index;return o.bc().deleteVariation(s)}),o.ac(),o.Pb(3,"svg",8),o.Kb(4,"path",9),o.Kb(5,"path",22),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=t.$implicit;o.zb(1),o.hc("formControl",e)}}function y(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",19),o.Kb(1,"input",20),o.Pb(2,"button",21),o.Xb("click",function(){o.sc(e);const s=t.index;return o.bc().deleteProgression(s)}),o.ac(),o.Pb(3,"svg",8),o.Kb(4,"path",9),o.Kb(5,"path",22),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=t.$implicit;o.zb(1),o.hc("formControl",e)}}const F=function(e){return{"opacity-70":e}};let E=(()=>{class e{constructor(e,t,s){this.modalService=e,this.formBuilder=t,this.exercisesService=s,this.id=`exercise-modal-${Math.random()}`}ngOnInit(){this.buildForm(new r)}buildForm(e){this.exerciseForm=this.formBuilder.group({name:[(null==e?void 0:e.name)||"",i.q.required],variations:this.formBuilder.array([]),progressions:this.formBuilder.array([]),muscleGroup:[(null==e?void 0:e.muscleGroup)||"",i.q.required],bodyWeight:[(null==e?void 0:e.bodyWeight)||!1],static:[(null==e?void 0:e.static)||!1],id:[null==e?void 0:e.id]}),e&&(e.progressions&&(null==e||e.progressions.forEach(e=>{this.exerciseForm.get("progressions").push(this.formBuilder.control(e))})),e.variations&&(null==e||e.variations.forEach(e=>{this.exerciseForm.get("variations").push(this.formBuilder.control(e))})))}openModal(e,t){this.title=e,this.buildForm(t),this.modalService.open(this.id)}onModalClosed(){}closeModal(){this.modalService.close(this.id)}onSubmit(e){e.progressions=e.progressions.filter(e=>e),e.variations=e.variations.filter(e=>e),this.exercisesService.saveExercise(e),this.closeModal()}addVariation(){this.exerciseForm.get("variations").push(this.formBuilder.control(null))}deleteVariation(e){this.exerciseForm.get("variations").removeAt(e)}getVariationsFormControls(){return this.exerciseForm.get("variations").controls}addProgression(){this.exerciseForm.get("progressions").push(this.formBuilder.control(null))}deleteProgression(e){this.exerciseForm.get("progressions").removeAt(e)}getProgressionFormControls(){return this.exerciseForm.get("progressions").controls}onMuscleSelected(e){this.exerciseForm.get("muscleGroup").setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l.a),o.Jb(i.c),o.Jb(d))},e.\u0275cmp=o.Db({type:e,selectors:[["app-exercise-modal"]],inputs:{exercise:"exercise"},decls:38,vars:10,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[1,"flex","flex-col",3,"formGroup"],[1,"label","mt-4","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"],[1,"w-full",3,"muscle","muscleChange"],["class","flex mb-2 items-center",4,"ngFor","ngForOf"],[1,"btn-rounded","btn-blue","mx-auto",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","flex-col","items-center"],[1,"mt-4"],[1,"label","mr-2"],["type","checkbox","formControlName","bodyWeight",1,"checkBox","w-6","h-6"],["type","checkbox","formControlName","static",1,"checkBox","w-6","h-6"],[1,"flex","justify-end","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","ngClass","click"],[1,"flex","mb-2","items-center"],["type","text",1,"input","w-4/5",3,"formControl"],[1,"btn-rounded","btn-blue","w-8","h-8","ml-auto",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(e,t){1&e&&(o.Pb(0,"jw-modal",0),o.Xb("closeEvent",function(){return t.onModalClosed()}),o.Pb(1,"h1",1),o.zc(2),o.Ob(),o.Pb(3,"form",2),o.Pb(4,"label",3),o.zc(5,"Name"),o.Ob(),o.Kb(6,"input",4),o.Pb(7,"label",3),o.zc(8,"Muscle Group"),o.Ob(),o.Pb(9,"app-muscle-selection",5),o.Xb("muscleChange",function(e){return t.onMuscleSelected(e)}),o.Ob(),o.Pb(10,"label",3),o.zc(11,"Variations"),o.Ob(),o.xc(12,z,6,1,"div",6),o.Pb(13,"button",7),o.Xb("click",function(){return t.addVariation()}),o.ac(),o.Pb(14,"svg",8),o.Kb(15,"path",9),o.Kb(16,"path",10),o.Ob(),o.Ob(),o.Zb(),o.Pb(17,"label",3),o.zc(18,"Progressions"),o.Ob(),o.xc(19,y,6,1,"div",6),o.Pb(20,"button",7),o.Xb("click",function(){return t.addProgression()}),o.ac(),o.Pb(21,"svg",8),o.Kb(22,"path",9),o.Kb(23,"path",10),o.Ob(),o.Ob(),o.Zb(),o.Pb(24,"div",11),o.Pb(25,"div",12),o.Pb(26,"label",13),o.zc(27,"BodyWeight"),o.Ob(),o.Kb(28,"input",14),o.Ob(),o.Pb(29,"div",12),o.Pb(30,"label",13),o.zc(31,"Static"),o.Ob(),o.Kb(32,"input",15),o.Ob(),o.Ob(),o.Ob(),o.Pb(33,"div",16),o.Pb(34,"button",17),o.Xb("click",function(){return t.closeModal()}),o.zc(35,"Close"),o.Ob(),o.Pb(36,"button",18),o.Xb("click",function(){return t.onSubmit(t.exerciseForm.value)}),o.zc(37,"Accept"),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.hc("id",t.id),o.zb(2),o.Bc("Exercise ",t.title,""),o.zb(1),o.hc("formGroup",t.exerciseForm),o.zb(6),o.hc("muscle",t.exerciseForm.get("muscleGroup").value),o.zb(3),o.hc("ngForOf",t.getVariationsFormControls()),o.zb(7),o.hc("ngForOf",t.getProgressionFormControls()),o.zb(17),o.hc("disabled",t.exerciseForm.invalid)("ngClass",o.kc(8,F,t.exerciseForm.invalid)))},directives:[u.a,i.r,i.l,i.g,i.b,i.k,i.f,M,x.k,i.a,x.j,i.e],styles:[""]}),e})();function V(e,t){1&e&&(o.ac(),o.Zb(),o.Kb(0,"div",18))}function I(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",11),o.Pb(1,"div",12),o.Xb("click",function(){o.sc(e);const s=t.$implicit;return o.bc().onExerciseClicked(s)}),o.Pb(2,"p"),o.zc(3),o.Ob(),o.Pb(4,"button",13),o.Xb("click",function(s){o.sc(e);const i=t.$implicit;return o.bc().onDeleteExerciseClicked(s,i.id)}),o.ac(),o.Pb(5,"svg",14),o.Kb(6,"path",15),o.Kb(7,"path",16),o.Ob(),o.Ob(),o.Ob(),o.xc(8,V,1,0,"div",17),o.Ob()}if(2&e){const e=t.$implicit,s=t.last;o.zb(3),o.Ac(e.name),o.zb(5),o.hc("ngIf",!s)}}let K=(()=>{class e extends p.a{constructor(e,t,s){super(e,s),this.modalService=e,this.exercisesService=t,this.changeDetector=s,this.exerciseSelected=new o.o,this.id=`exercise-search-modal-${Math.random()}`,this.exerciseName=new i.d}ngOnInit(){this.exercisesService.getFewExercises().pipe(Object(m.a)(1)).subscribe(e=>{this.exerciseList=e})}onSearchChanges(){this.exercisesService.getExercisesByName(this.exerciseName.value).pipe(Object(m.a)(1)).subscribe(e=>{this.exerciseList=e})}onExerciseClicked(e){this.exerciseSelected.next(e),this.closeModal()}onModalClosed(){}onModalOpened(){this.exerciseName.setValue("")}onDeleteExerciseClicked(e,t){this.exercisesService.deleteExercise(t),this.exerciseList=this.exerciseList.filter(e=>e.id!==t),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l.a),o.Jb(d),o.Jb(o.i))},e.\u0275cmp=o.Db({type:e,selectors:[["app-exercise-search-modal"]],outputs:{exerciseSelected:"exerciseSelected"},features:[o.wb],decls:12,vars:3,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-white"],[1,"w-full","my-2","h-px","bg-light-dark","dark:bg-light-dark"],[1,"flex","gap-2","h-10"],[1,"p-2","rounded-md","ring-1","ring-light-dark","focus:outline-none","focus:ring-2","focus:ring-green-light","focus:border-transparent","dark:border-transparent","dark:ring-0","dark:text-white","dark:bg-dark-darkest","bg-transparent","flex-grow",3,"formControl","change"],[1,"btn","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","m-auto","w-6","h-6"],["d","M0 0h24v24H0V0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],[1,"mt-4"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"flex","justify-between","w-full","p-2","rounded-lg","hover:bg-light","dark:text-white","dark:hover:bg-dark-darkest","border-l-8","border-blue","cursor-pointer",3,"click"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["class","flex-grow h-px bg-light-dark dark:bg-light-dark my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-light-dark","dark:bg-light-dark","my-1"]],template:function(e,t){1&e&&(o.Pb(0,"jw-modal",0),o.Xb("closeEvent",function(){return t.onModalClosed()}),o.Pb(1,"h1",1),o.zc(2,"Exercise search"),o.Ob(),o.Kb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"input",4),o.Xb("change",function(){return t.onSearchChanges()}),o.Ob(),o.Pb(6,"button",5),o.Xb("click",function(){return t.onSearchChanges()}),o.ac(),o.Pb(7,"svg",6),o.Kb(8,"path",7),o.Kb(9,"path",8),o.Ob(),o.Ob(),o.Ob(),o.Zb(),o.Pb(10,"div",9),o.xc(11,I,9,2,"div",10),o.Ob(),o.Ob()),2&e&&(o.hc("id",t.id),o.zb(5),o.hc("formControl",t.exerciseName),o.zb(6),o.hc("ngForOf",t.exerciseList))},directives:[u.a,i.b,i.k,i.e,x.k,x.l],styles:[""]}),e})();function X(e,t){if(1&e&&(o.Pb(0,"div"),o.zc(1),o.Ob()),2&e){const e=o.bc();o.zb(1),o.Ac(e.exerciseSelectedElement.name)}}function $(e,t){1&e&&o.Kb(0,"div",20)}const U=function(e){return{"border-l-8 border-green":e}};function A(e,t){if(1&e&&(o.xc(0,$,1,0,"div",18),o.Pb(1,"div",19),o.Pb(2,"p"),o.zc(3),o.cc(4,"titlecase"),o.Ob(),o.Ob()),2&e){const e=t.item,s=t.index,i=o.bc(2);o.hc("ngIf",0!=s),o.zb(1),o.hc("ngClass",o.kc(5,U,e==i.exerciseSelectedProgression)),o.zb(2),o.Ac(o.dc(4,3,e))}}function B(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",0),o.Pb(1,"label",15),o.zc(2,"Progression"),o.Ob(),o.Pb(3,"div",2),o.Pb(4,"ng-select",16),o.Xb("ngModelChange",function(t){return o.sc(e),o.bc().onProgressionChange(t)}),o.xc(5,A,5,7,"ng-template",17),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=o.bc();o.zb(4),o.hc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.progressions)("searchable",!1)("ngModel",e.exerciseSelectedProgression)}}function j(e,t){1&e&&o.Kb(0,"div",20)}function N(e,t){if(1&e&&(o.xc(0,j,1,0,"div",18),o.Pb(1,"div",19),o.Pb(2,"p"),o.zc(3),o.cc(4,"titlecase"),o.Ob(),o.Ob()),2&e){const e=t.item,s=t.index,i=o.bc(2);o.hc("ngIf",0!=s),o.zb(1),o.hc("ngClass",o.kc(5,U,e==i.exerciseSelectedVariation)),o.zb(2),o.Ac(o.dc(4,3,e))}}function D(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",0),o.Pb(1,"label",21),o.zc(2,"Variation"),o.Ob(),o.Pb(3,"div",2),o.Pb(4,"ng-select",16),o.Xb("ngModelChange",function(t){return o.sc(e),o.bc().onVariationChange(t)}),o.xc(5,N,5,7,"ng-template",17),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=o.bc();o.zb(4),o.hc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.variations)("searchable",!1)("ngModel",e.exerciseSelectedVariation)}}const J=function(e){return{"opacity-70":e}};let G=(()=>{class e{constructor(e){this.exercisesService=e,this.exerciseSelected=new o.o}set exercise(e){e&&(this.exerciseSelectedElement=new n,this.exerciseSelectedElement.id=e.specsId,this.exerciseSelectedElement.name=e.name,this.exerciseSelectedName=e.name,this.exerciseSelectedProgression=e.progression,this.exerciseSelectedVariation=e.variation,this.getExerciseFromAPI(e.specsId))}ngOnInit(){}onSelectExerciseClicked(){this.exerciseSearchModal.openModal()}onExerciseSelected(e){this.exerciseSelectedElement=e,this.onExerciseNameSelectedChange(e)}onExerciseNameSelectedChange(e){this.resetFormValues(),e&&this.getExerciseFromAPI(e.id)}onProgressionChange(e){this.exerciseSelectedProgression=e,this.validateForm()}onVariationChange(e){this.exerciseSelectedVariation=e,this.validateForm()}formIsValid(){var e,t;const s=(null===(e=this.exerciseSelectedSpecs)||void 0===e?void 0:e.progressions.length)>0,i=(null===(t=this.exerciseSelectedSpecs)||void 0===t?void 0:t.variations.length)>0;return!(s&&null==this.exerciseSelectedProgression||i&&null==this.exerciseSelectedVariation)}resetFormValues(){this.exerciseSelectedProgression=null,this.exerciseSelectedVariation=null}validateForm(){this.formIsValid()?this.onValidForm():this.onInvalidForm()}onValidForm(){this.exerciseSelected.emit(this.getExerciseFormObject())}onInvalidForm(){this.exerciseSelected.emit(null)}getExerciseFormObject(){const e=new c;return e.name=this.exerciseSelectedSpecs.name,e.progression=this.exerciseSelectedProgression,e.variation=this.exerciseSelectedVariation,e.bodyWeight=this.exerciseSelectedSpecs.bodyWeight,e.static=this.exerciseSelectedSpecs.static,e.muscleGroup=this.exerciseSelectedSpecs.muscleGroup,e.specsId=this.exerciseSelectedSpecs.id,e}getExerciseFromAPI(e){e&&this.exercisesService.getExerciseSpecs(e).subscribe(e=>{this.exerciseSelectedSpecs=e,this.validateForm()})}onAddNewExerciseClicked(){this.exerciseModal.openModal("creation",null)}onEditExerciseClicked(){this.exerciseModal.openModal("edition",this.exerciseSelectedSpecs)}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(d))},e.\u0275cmp=o.Db({type:e,selectors:[["app-exercise-selection"]],viewQuery:function(e,t){if(1&e&&(o.Ec(K,1),o.Ec(E,1)),2&e){let e;o.oc(e=o.Yb())&&(t.exerciseSearchModal=e.first),o.oc(e=o.Yb())&&(t.exerciseModal=e.first)}},inputs:{exercise:"exercise"},outputs:{exerciseSelected:"exerciseSelected"},decls:20,vars:8,consts:[[1,"flex","flex-row","items-center","my-4"],["for","name",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5"],[4,"ngIf"],[3,"exerciseSelected"],[1,"ml-auto","flex","flex-wrap","w-3/5","justify-center","gap-4"],[1,"btn","btn-blue","w-full","text-center",3,"click"],[1,"btn-rounded","btn-blue",3,"ngClass","disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon-white","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],[1,"btn-rounded","btn-blue",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"exercise"],["class","flex flex-row items-center my-4",4,"ngIf"],["for","progression",1,"label","mr-4","flex-grow"],[1,"cursor-pointer","pl-2","pr-1","py-1","rounded-md","border","border-light-dark","dark:border-0","dark:bg-dark-darkest","dark:text-white","w-full","text-base",3,"items","searchable","ngModel","ngModelChange"],["ng-option-tmp",""],["class","separator",4,"ngIf"],[1,"flex","gap-1","shadow-lg","dark:bg-dark-darkest","dark:text-white","text-base","px-4","py-2","bg-white","hover:bg-light-dark","dark:hover:bg-dark-light",3,"ngClass"],[1,"separator"],["for","variation",1,"label","mr-4","flex-grow"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Pb(1,"label",1),o.zc(2,"Exercise"),o.Ob(),o.Pb(3,"div",2),o.xc(4,X,2,1,"div",3),o.Pb(5,"app-exercise-search-modal",4),o.Xb("exerciseSelected",function(e){return t.onExerciseSelected(e)}),o.Ob(),o.Ob(),o.Ob(),o.Pb(6,"div",5),o.Pb(7,"button",6),o.Xb("click",function(){return t.onSelectExerciseClicked()}),o.zc(8,"Select exercise"),o.Ob(),o.Pb(9,"button",7),o.Xb("click",function(){return t.onEditExerciseClicked()}),o.ac(),o.Pb(10,"svg",8),o.Kb(11,"path",9),o.Kb(12,"path",10),o.Ob(),o.Ob(),o.Zb(),o.Pb(13,"button",11),o.Xb("click",function(){return t.onAddNewExerciseClicked()}),o.ac(),o.Pb(14,"svg",8),o.Kb(15,"path",9),o.Kb(16,"path",12),o.Ob(),o.Ob(),o.Zb(),o.Kb(17,"app-exercise-modal",13),o.Ob(),o.xc(18,B,6,3,"div",14),o.xc(19,D,6,3,"div",14)),2&e&&(o.zb(4),o.hc("ngIf",t.exerciseSelectedElement),o.zb(5),o.hc("ngClass",o.kc(6,J,!t.exerciseSelectedSpecs))("disabled",!t.exerciseSelectedSpecs),o.zb(8),o.hc("exercise",t.exerciseSelectedSpecs),o.zb(1),o.hc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.progressions.length)>0),o.zb(1),o.hc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.variations.length)>0))},directives:[x.l,K,x.j,E,w.a,i.k,i.m,w.c],pipes:[x.t],styles:[""]}),e})()}}]);
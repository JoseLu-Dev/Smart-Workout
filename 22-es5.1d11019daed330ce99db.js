!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(t,n,i||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{iKj1:function(n,r,c){"use strict";c.r(r),c.d(r,"EditPageModule",function(){return At});var l=c("F3Cn"),b=c("ofXK"),d=c("3Pt+"),f=c("TEn/"),p=c("tyNb"),g=c("IzEk"),m=c("7Mzq"),v=c("fXoL"),h=c("gIeq"),x=c("ZOsW");function P(e,t){1&e&&(v.Pb(0,"div"),v.ac(),v.Pb(1,"svg",5),v.Kb(2,"path",6),v.Kb(3,"path",7),v.Ob(),v.Ob())}function w(e,t){1&e&&(v.ac(),v.Pb(0,"svg",5),v.Kb(1,"path",8),v.Kb(2,"path",9),v.Ob())}var y,O,S,k,C=[[["","header",""]],[["","body",""]]],F=function(e){return{hidden:e}},E=["[header]","[body]"],I=((y=function e(){u(this,e),this.opened=!1,this.toggle=new v.o,this.alreadySubscribed=!1}).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=v.Db({type:y,selectors:[["app-accordion-item"]],inputs:{itemCss:"itemCss",opened:"opened",title:"title"},outputs:{toggle:"toggle"},ngContentSelectors:E,decls:10,vars:6,consts:[[3,"ngClass"],[1,"flex","flex-row","justify-center"],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["expandLess",""],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000"],["d","M0 0h24v24H0V0z","fill","none"],["d","M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"]],template:function(e,t){if(1&e&&(v.fc(C),v.Pb(0,"div",0),v.Pb(1,"div",1),v.ec(2),v.Pb(3,"div",2),v.Xb("click",function(){return t.toggle.emit()}),v.vc(4,P,4,0,"div",3),v.vc(5,w,3,0,"ng-template",null,4,v.wc),v.Ob(),v.Ob(),v.Pb(7,"div",0),v.ec(8,1),v.Ob(),v.Kb(9,"div"),v.Ob()),2&e){var n=v.oc(6);v.gc("ngClass",t.itemCss),v.zb(4),v.gc("ngIf",t.opened)("ngIfElse",n),v.zb(3),v.gc("ngClass",v.jc(4,F,!t.opened))}},directives:[b.i,b.k],styles:[""]}),y),B=["*"],z=((S=function(){function e(){u(this,e)}return a(e,[{key:"ngAfterContentInit",value:function(){this.updateAccordion(null)}},{key:"updateAccordion",value:function(e){var t=this;setTimeout(function(){t.groups.toArray().forEach(function(e){e.alreadySubscribed||(e.toggle.subscribe(function(){e.opened?e.opened=!1:t.openGroup(e)}),e.alreadySubscribed=!0)}),e&&e()},0)}},{key:"openItem",value:function(e){this.groups.toArray().forEach(function(e){return e.opened=!1}),this.groups.toArray()[e].opened=!0}},{key:"openGroup",value:function(e){this.groups.toArray().forEach(function(e){return e.opened=!1}),e.opened=!0}}]),e}()).\u0275fac=function(e){return new(e||S)},S.\u0275cmp=v.Db({type:S,selectors:[["app-accordion"]],contentQueries:function(e,t,n){var i;1&e&&v.Cb(n,I,0),2&e&&v.nc(i=v.Yb())&&(t.groups=i)},ngContentSelectors:B,decls:1,vars:0,template:function(e,t){1&e&&(v.fc(),v.ec(0))},styles:[""]}),S),M=((O=function(){function e(t){u(this,e),this.formBuilder=t,this.exerciseSet=new v.o,this.set=this.set||new m.c}return a(e,[{key:"exerciseSetToEdit",set:function(e){e&&0!==(null==e?void 0:e.setParts.length)&&(this.buildForm(),this.set=e,this.setPropertiesFormGroup.get("setsNumber").setValue(e.setsCount),this.setPropertiesFormGroup.get("restSecondsFinal").setValue(e.finalRest%60),this.setPropertiesFormGroup.get("restMinutesFinal").setValue(Math.trunc(e.finalRest/60)),this.setPropertiesFormGroup.get("restSecondsBetweenSet").setValue(e.setParts[e.setParts.length-1].rest%60),this.setPropertiesFormGroup.get("restMinutesBetweenSet").setValue(Math.trunc(e.setParts[e.setParts.length-1].rest/60)))}},{key:"ngOnInit",value:function(){this.setPropertiesFormGroup||this.buildForm()}},{key:"buildForm",value:function(){this.setPropertiesFormGroup=this.formBuilder.group({setsNumber:["",d.q.required],restSecondsFinal:[0,d.q.compose([d.q.required,d.q.min(0)])],restMinutesFinal:[0,d.q.compose([d.q.required,d.q.min(0)])],restSecondsBetweenSet:this.restBetweenExercises?null:[0,d.q.compose([d.q.required,d.q.min(0)])],restMinutesBetweenSet:this.restBetweenExercises?null:[0,d.q.compose([d.q.required,d.q.min(0)])]})}},{key:"onSubmit",value:function(){this.addSetsCountToSet(),this.exerciseSet.emit(this.set)}},{key:"addSetsCountToSet",value:function(){this.set.finalRest=this.setPropertiesFormGroup.get("restSecondsFinal").value+60*this.setPropertiesFormGroup.get("restMinutesFinal").value,this.set.setsCount=this.setPropertiesFormGroup.get("setsNumber").value;var e=this.set.setsCount,t=this.set.setParts;this.restBetweenExercises||this.setRestBetweenSets();for(var n=1;n<e;n++){var i;this.set.setParts=(i=this.set.setParts).concat.apply(i,o(t))}console.log(this.set)}},{key:"setRestBetweenSets",value:function(){}},{key:"addSetPart",value:function(e,t){0===this.set.setParts.length?this.set.setParts.push(e):this.set.setParts[t]=e,this.accordion&&this.accordion.updateAccordion(null)}},{key:"addNewSetPart",value:function(){var e=this;this.set.setParts.push(new m.d),this.accordion.updateAccordion(function(){e.accordion.openItem(e.set.setParts.length-1)})}}]),e}()).\u0275fac=function(e){return new(e||O)(v.Jb(d.c))},O.\u0275cmp=v.Db({type:O,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&v.Cc(z,1),2&e&&v.nc(n=v.Yb())&&(t.accordion=n.first)},inputs:{exerciseSetToEdit:"exerciseSetToEdit"},outputs:{exerciseSet:"exerciseSet"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),O),K=function e(){u(this,e)},G=function e(){u(this,e)},T=function e(){u(this,e)},N=c("haYR"),q=c("AytR"),j=c("tk/3"),V=((k=function(){function e(t){u(this,e),this.http=t,this.exercisesUrl="".concat(q.a.backendUrl,"/exercises")}return a(e,[{key:"getExercisesNames",value:function(){return this.http.get("".concat(this.exercisesUrl))}},{key:"getExerciseSpecs",value:function(e){return this.http.get("".concat(this.exercisesUrl,"/").concat(e))}},{key:"saveExercise",value:function(e){this.http.put("".concat(this.exercisesUrl),e).subscribe()}}]),e}()).\u0275fac=function(e){return new(e||k)(v.Tb(j.b))},k.\u0275prov=v.Fb({token:k,factory:k.\u0275fac,providedIn:"root"}),k),R=c("iz14");function X(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div",19),v.Kb(1,"input",20),v.Pb(2,"button",21),v.Xb("click",function(){v.rc(n);var e=t.index;return v.bc().deleteVariation(e)}),v.ac(),v.Pb(3,"svg",8),v.Kb(4,"path",9),v.Kb(5,"path",22),v.Ob(),v.Ob(),v.Ob()}if(2&e){var i=t.$implicit;v.zb(1),v.gc("formControl",i)}}function A(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div",19),v.Kb(1,"input",20),v.Pb(2,"button",21),v.Xb("click",function(){v.rc(n);var e=t.index;return v.bc().deleteProgression(e)}),v.ac(),v.Pb(3,"svg",8),v.Kb(4,"path",9),v.Kb(5,"path",22),v.Ob(),v.Ob(),v.Ob()}if(2&e){var i=t.$implicit;v.zb(1),v.gc("formControl",i)}}var D,Q=((D=function(){function e(t,n,i){u(this,e),this.modalService=t,this.formBuilder=n,this.exercisesService=i,this.id="exercise-modal"}return a(e,[{key:"exercise",set:function(e){}},{key:"ngOnInit",value:function(){this.buildForm(new G)}},{key:"buildForm",value:function(e){var t=this;this.exerciseForm=this.formBuilder.group({name:[(null==e?void 0:e.name)||"",d.q.required],variations:this.formBuilder.array([]),progressions:this.formBuilder.array([]),muscleGroup:[(null==e?void 0:e.muscleGroup)||"",d.q.required],bodyWeight:[(null==e?void 0:e.bodyWeight)||!1],static:[(null==e?void 0:e.static)||!1]}),e&&(e.progressions&&(null==e||e.progressions.forEach(function(e){t.exerciseForm.get("progressions").push(t.formBuilder.control(e))})),e.variations&&(null==e||e.variations.forEach(function(e){t.exerciseForm.get("variations").push(t.formBuilder.control(e))})))}},{key:"openModal",value:function(e,t){this.title=e,this.buildForm(t),this.modalService.open(this.id)}},{key:"onModalClosed",value:function(){}},{key:"closeModal",value:function(){this.modalService.close(this.id)}},{key:"onSubmit",value:function(e){e.progressions=e.progressions.filter(function(e){return e}),e.variations=e.variations.filter(function(e){return e}),this.exercisesService.saveExercise(e),this.closeModal()}},{key:"addVariation",value:function(){this.exerciseForm.get("variations").push(this.formBuilder.control(null))}},{key:"deleteVariation",value:function(e){this.exerciseForm.get("variations").removeAt(e)}},{key:"getVariationsFormControls",value:function(){return this.exerciseForm.get("variations").controls}},{key:"addProgression",value:function(){this.exerciseForm.get("progressions").push(this.formBuilder.control(null))}},{key:"deleteProgression",value:function(e){this.exerciseForm.get("progressions").removeAt(e)}},{key:"getProgressionFormControls",value:function(){return this.exerciseForm.get("progressions").controls}}]),e}()).\u0275fac=function(e){return new(e||D)(v.Jb(N.a),v.Jb(d.c),v.Jb(V))},D.\u0275cmp=v.Db({type:D,selectors:[["app-exercise-modal"]],inputs:{exercise:"exercise"},decls:38,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[1,"flex","flex-col",3,"formGroup"],[1,"label","mt-4","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"],["type","text","placeholder","Muscle Group","formControlName","muscleGroup",1,"input"],["class","flex mb-2 items-center",4,"ngFor","ngForOf"],[1,"btn-rounded","btn-blue","mx-auto",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","flex-col","items-center"],[1,"mt-4"],[1,"label","mr-2"],["type","checkbox","formControlName","bodyWeight",1,"checkBox","w-6","h-6"],["type","checkbox","formControlName","static",1,"checkBox","w-6","h-6"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"],[1,"flex","mb-2","items-center"],["type","text",1,"input","w-4/5",3,"formControl"],[1,"btn-rounded","btn-blue","w-8","h-8","ml-auto",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(e,t){1&e&&(v.Pb(0,"jw-modal",0),v.Xb("closeEvent",function(){return t.onModalClosed()}),v.Pb(1,"h1",1),v.xc(2),v.Ob(),v.Pb(3,"form",2),v.Pb(4,"label",3),v.xc(5,"Name"),v.Ob(),v.Kb(6,"input",4),v.Pb(7,"label",3),v.xc(8,"Muscle Group"),v.Ob(),v.Kb(9,"input",5),v.Pb(10,"label",3),v.xc(11,"Variations"),v.Ob(),v.vc(12,X,6,1,"div",6),v.Pb(13,"button",7),v.Xb("click",function(){return t.addVariation()}),v.ac(),v.Pb(14,"svg",8),v.Kb(15,"path",9),v.Kb(16,"path",10),v.Ob(),v.Ob(),v.Zb(),v.Pb(17,"label",3),v.xc(18,"Progressions"),v.Ob(),v.vc(19,A,6,1,"div",6),v.Pb(20,"button",7),v.Xb("click",function(){return t.addProgression()}),v.ac(),v.Pb(21,"svg",8),v.Kb(22,"path",9),v.Kb(23,"path",10),v.Ob(),v.Ob(),v.Zb(),v.Pb(24,"div",11),v.Pb(25,"div",12),v.Pb(26,"label",13),v.xc(27,"BodyWeight"),v.Ob(),v.Kb(28,"input",14),v.Ob(),v.Pb(29,"div",12),v.Pb(30,"label",13),v.xc(31,"Static"),v.Ob(),v.Kb(32,"input",15),v.Ob(),v.Ob(),v.Ob(),v.Pb(33,"div",16),v.Pb(34,"button",17),v.Xb("click",function(){return t.closeModal()}),v.xc(35,"Close"),v.Ob(),v.Pb(36,"button",18),v.Xb("click",function(){return t.onSubmit(t.exerciseForm.value)}),v.xc(37,"Accept"),v.Ob(),v.Ob(),v.Ob()),2&e&&(v.gc("id",t.id),v.zb(2),v.zc("Exercise ",t.title,""),v.zb(1),v.gc("formGroup",t.exerciseForm),v.zb(9),v.gc("ngForOf",t.getVariationsFormControls()),v.zb(7),v.gc("ngForOf",t.getProgressionFormControls()),v.zb(17),v.gc("disabled",t.exerciseForm.invalid))},directives:[R.a,d.r,d.l,d.g,d.b,d.k,d.f,b.j,d.a,d.e],styles:[""]}),D);function L(e,t){if(1&e&&(v.Pb(0,"div",13),v.xc(1),v.cc(2,"titlecase"),v.Ob()),2&e){var n=t.item;v.zb(1),v.yc(v.dc(2,1,n.name))}}function U(e,t){if(1&e&&(v.Pb(0,"div",13),v.xc(1),v.cc(2,"titlecase"),v.Ob()),2&e){var n=t.item;v.zb(1),v.yc(v.dc(2,1,n))}}function J(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div",0),v.Pb(1,"label",14),v.xc(2,"Progression"),v.Ob(),v.Pb(3,"div",2),v.Pb(4,"ng-select",3,15),v.Xb("ngModelChange",function(e){return v.rc(n),v.bc().onProgressionChange(e)}),v.vc(6,U,3,3,"ng-template",4),v.Ob(),v.Ob(),v.Ob()}if(2&e){var i=v.bc();v.zb(4),v.gc("items",null==i.exerciseSelectedSpecs?null:i.exerciseSelectedSpecs.progressions)("ngModel",i.exerciseSelectedProgression)}}function W(e,t){if(1&e&&(v.Pb(0,"div",13),v.xc(1),v.cc(2,"titlecase"),v.Ob()),2&e){var n=t.item;v.zb(1),v.yc(v.dc(2,1,n))}}function H(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div",0),v.Pb(1,"label",16),v.xc(2,"Variation"),v.Ob(),v.Pb(3,"div",2),v.Pb(4,"ng-select",3,17),v.Xb("ngModelChange",function(e){return v.rc(n),v.bc().onVariationChange(e)}),v.vc(6,W,3,3,"ng-template",4),v.Ob(),v.Ob(),v.Ob()}if(2&e){var i=v.bc();v.zb(4),v.gc("items",null==i.exerciseSelectedSpecs?null:i.exerciseSelectedSpecs.variations)("ngModel",i.exerciseSelectedVariation)}}var _,$,Y,Z=(($=function(){function e(t){u(this,e),this.exercisesService=t,this.exerciseSelected=new v.o}return a(e,[{key:"exercise",set:function(e){e&&(this.exerciseSelectedElement=new T,this.exerciseSelectedElement.id=e.specsId,this.exerciseSelectedElement.name=e.name,this.exerciseSelectedName=e.name,this.exerciseSelectedProgression=e.progression,this.exerciseSelectedVariation=e.variation,this.getExerciseFromAPI(e.specsId))}},{key:"ngOnInit",value:function(){this.getExerciseListFromAPI()}},{key:"onExerciseNameSelectedChange",value:function(e){this.resetFormValues(),e&&this.getExerciseFromAPI(e.id)}},{key:"onProgressionChange",value:function(e){this.exerciseSelectedProgression=e,this.validateForm()}},{key:"onVariationChange",value:function(e){this.exerciseSelectedVariation=e,this.validateForm()}},{key:"formIsValid",value:function(){var e,t,n=(null===(e=this.exerciseSelectedSpecs)||void 0===e?void 0:e.progressions.length)>0,i=(null===(t=this.exerciseSelectedSpecs)||void 0===t?void 0:t.variations.length)>0;return!(n&&null==this.exerciseSelectedProgression||i&&null==this.exerciseSelectedVariation)}},{key:"resetFormValues",value:function(){this.exerciseSelectedProgression=null,this.exerciseSelectedVariation=null}},{key:"validateForm",value:function(){this.formIsValid()?this.onValidForm():this.onInvalidForm()}},{key:"onValidForm",value:function(){this.exerciseSelected.emit(this.getExerciseFormObject())}},{key:"onInvalidForm",value:function(){this.exerciseSelected.emit(null)}},{key:"getExerciseFormObject",value:function(){var e=new K;return e.name=this.exerciseSelectedSpecs.name,e.progression=this.exerciseSelectedProgression,e.variation=this.exerciseSelectedVariation,e.bodyWeight=this.exerciseSelectedSpecs.bodyWeight,e.static=this.exerciseSelectedSpecs.static,e.muscleGroup=this.exerciseSelectedSpecs.muscleGroup,e.specsId=this.exerciseSelectedSpecs.id,e}},{key:"getExerciseFromAPI",value:function(e){var t=this;e&&this.exercisesService.getExerciseSpecs(e).subscribe(function(e){t.exerciseSelectedSpecs=e,t.validateForm()})}},{key:"getExerciseListFromAPI",value:function(){var e=this;this.exercisesService.getExercisesNames().subscribe(function(t){e.exercises=t})}},{key:"onAddNewExerciseClicked",value:function(){this.exerciseModal.openModal("creation",null)}},{key:"onEditExerciseClicked",value:function(){this.exerciseModal.openModal("edition",this.exerciseSelectedSpecs)}}]),e}()).\u0275fac=function(e){return new(e||$)(v.Jb(V))},$.\u0275cmp=v.Db({type:$,selectors:[["app-exercise-selection"]],viewQuery:function(e,t){var n;1&e&&v.Cc(Q,1),2&e&&v.nc(n=v.Yb())&&(t.exerciseModal=n.first)},inputs:{exercise:"exercise"},outputs:{exerciseSelected:"exerciseSelected"},decls:18,vars:5,consts:[[1,"flex","flex-row","items-center","my-4"],["for","name",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5"],[1,"input","w-full",3,"items","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"ml-auto","flex","w-3/5","justify-center","gap-4"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"exercise"],["class","flex flex-row items-center my-4",4,"ngIf"],[1,"input","m-px"],["for","progression",1,"label","mr-4","flex-grow"],["selectProgression",""],["for","variation",1,"label","mr-4","flex-grow"],["selectVariation",""]],template:function(e,t){1&e&&(v.Pb(0,"div",0),v.Pb(1,"label",1),v.xc(2,"Exercise"),v.Ob(),v.Pb(3,"div",2),v.Pb(4,"ng-select",3),v.Xb("ngModelChange",function(e){return t.onExerciseNameSelectedChange(e)}),v.vc(5,L,3,3,"ng-template",4),v.Ob(),v.Ob(),v.Ob(),v.Pb(6,"div",5),v.Pb(7,"button",6),v.Xb("click",function(){return t.onEditExerciseClicked()}),v.ac(),v.Pb(8,"svg",7),v.Kb(9,"path",8),v.Kb(10,"path",9),v.Ob(),v.Ob(),v.Zb(),v.Pb(11,"button",6),v.Xb("click",function(){return t.onAddNewExerciseClicked()}),v.ac(),v.Pb(12,"svg",7),v.Kb(13,"path",8),v.Kb(14,"path",10),v.Ob(),v.Ob(),v.Zb(),v.Kb(15,"app-exercise-modal",11),v.Ob(),v.vc(16,J,7,2,"div",12),v.vc(17,H,7,2,"div",12)),2&e&&(v.zb(4),v.gc("items",t.exercises)("ngModel",t.exerciseSelectedElement),v.zb(11),v.gc("exercise",t.exerciseSelectedSpecs),v.zb(1),v.gc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.progressions.length)>0),v.zb(1),v.gc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.variations.length)>0))},directives:[x.a,d.k,d.m,x.c,Q,b.k],pipes:[b.s],styles:[""]}),$),ee=((_=function(){function e(t){u(this,e),this.http=t,this.halfUseMultiplier=.5,this.oneEndMultiplier=.5,this.bandsUrl="".concat(q.a.backendUrl,"/users/bands")}return a(e,[{key:"getUserBands",value:function(){return this.http.get("".concat(this.bandsUrl,"/"))}},{key:"saveBand",value:function(e){return this.http.put("".concat(this.bandsUrl,"/"),e)}},{key:"getBandResistance",value:function(e,t,n){return t||(n=!1),e.weight*(t?1:this.halfUseMultiplier)*(n?1:this.oneEndMultiplier)}}]),e}()).\u0275fac=function(e){return new(e||_)(v.Tb(j.b))},_.\u0275prov=v.Fb({token:_,factory:_.\u0275fac,providedIn:"root"}),_),te=c("zwmB"),ne=((Y=function(){function e(t,n,i){u(this,e),this.modalService=t,this.formBuilder=n,this.bandsService=i,this.band=new v.o,this.id="bands-creation-modal"}return a(e,[{key:"ngOnInit",value:function(){this.buildForm()}},{key:"buildForm",value:function(){this.bandForm=this.formBuilder.group({weight:["",d.q.compose([d.q.required,d.q.max(100),d.q.min(1)])]}),this.colorForm=new d.d("",d.q.required)}},{key:"openModal",value:function(){this.buildForm(),this.modalService.open(this.id)}},{key:"closeModal",value:function(){this.modalService.close(this.id)}},{key:"onModalClosed",value:function(){}},{key:"onSubmit",value:function(){var e=this,t=new m.a;t.color=this.colorForm.value,t.weight=this.bandForm.value.weight,this.bandsService.saveBand(t).subscribe(function(t){e.band.next(t)}),this.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||Y)(v.Jb(N.a),v.Jb(d.c),v.Jb(ee))},Y.\u0275cmp=v.Db({type:Y,selectors:[["app-bands-creation-modal"]],outputs:{band:"band"},decls:17,vars:4,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[3,"formGroup"],[1,"flex","flex-col","justify-items-center","mt-4"],[1,"label","mb-2"],["type","number","placeholder","weight","formControlName","weight",1,"input"],[1,"flex","justify-center","items-center","gap-2","mt-4"],[1,"label"],["ngx-colors-trigger","",3,"formControl"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"]],template:function(e,t){1&e&&(v.Pb(0,"jw-modal",0),v.Xb("closeEvent",function(){return t.onModalClosed()}),v.Pb(1,"h1",1),v.xc(2,"New training"),v.Ob(),v.Pb(3,"form",2),v.Pb(4,"div",3),v.Pb(5,"label",4),v.xc(6,"Max band resistance (kg)"),v.Ob(),v.Kb(7,"input",5),v.Pb(8,"div",6),v.Pb(9,"label",7),v.xc(10,"Color"),v.Ob(),v.Kb(11,"ngx-colors",8),v.Ob(),v.Ob(),v.Ob(),v.Pb(12,"div",9),v.Pb(13,"button",10),v.Xb("click",function(){return t.closeModal()}),v.xc(14,"Close"),v.Ob(),v.Pb(15,"button",11),v.Xb("click",function(){return t.onSubmit()}),v.xc(16,"Accept"),v.Ob(),v.Ob(),v.Ob()),2&e&&(v.gc("id",t.id),v.zb(3),v.gc("formGroup",t.bandForm),v.zb(8),v.gc("formControl",t.colorForm),v.zb(4),v.gc("disabled",t.bandForm.invalid||t.colorForm.invalid))},directives:[R.a,d.r,d.l,d.g,d.n,d.b,d.k,d.f,te.a,te.c,d.e],styles:[""]}),Y);function ie(e,t){1&e&&(v.Pb(0,"div"),v.Pb(1,"p",17),v.xc(2," You don't have any bands,"),v.Ob(),v.Pb(3,"p",18),v.xc(4,'press the "+" button to add a new one'),v.Ob(),v.Ob())}function re(e,t){1&e&&(v.Pb(0,"div",19),v.Pb(1,"p",20),v.xc(2,"Color"),v.Ob(),v.Pb(3,"p",20),v.xc(4,"Resistance"),v.Ob(),v.Ob())}function se(e,t){1&e&&v.Kb(0,"div",26)}var oe=function(e){return{"background-color":e}};function ce(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div",21),v.Pb(1,"button",22),v.Xb("click",function(){v.rc(n);var e=t.$implicit;return v.bc().onBandClicked(e)}),v.Pb(2,"div",20),v.Kb(3,"div",23),v.Ob(),v.Pb(4,"p",24),v.xc(5),v.Ob(),v.Ob(),v.vc(6,se,1,0,"div",25),v.Ob()}if(2&e){var i=t.$implicit,r=t.last;v.zb(3),v.gc("ngStyle",v.jc(3,oe,i.color)),v.zb(2),v.zc("",i.weight," Kg"),v.zb(1),v.gc("ngIf",!r)}}function le(e,t){1&e&&(v.Pb(0,"p",45),v.xc(1,"Maximum band resistance exceeded"),v.Ob())}function ae(e,t){1&e&&(v.Pb(0,"p",45),v.xc(1,"You cannot put a negative value"),v.Ob())}function ue(e,t){if(1&e&&(v.Pb(0,"div"),v.vc(1,le,2,0,"p",43),v.vc(2,ae,2,0,"ng-template",null,44,v.wc),v.Ob()),2&e){var n=v.oc(3),i=v.bc(2);v.zb(1),v.gc("ngIf",i.bandForm.get("weight").value>0)("ngIfElse",n)}}var be=function(e){return{"input-invalid":e}};function de(e,t){if(1&e&&(v.Pb(0,"form",27),v.Pb(1,"div",28),v.Pb(2,"div",29),v.Pb(3,"div",30),v.Kb(4,"div",31),v.Ob(),v.Pb(5,"div",32),v.Kb(6,"input",33),v.Pb(7,"p",18),v.xc(8,"Kg"),v.Ob(),v.Ob(),v.Ob(),v.Ob(),v.vc(9,ue,4,2,"div",10),v.Pb(10,"div",34),v.Pb(11,"p",35),v.xc(12,"Whole band used?"),v.Ob(),v.Pb(13,"div",36),v.Kb(14,"input",37),v.Pb(15,"p",38),v.xc(16,"Full"),v.Ob(),v.Kb(17,"input",39),v.Pb(18,"p",40),v.xc(19,"Half"),v.Ob(),v.Ob(),v.Pb(20,"p",35),v.xc(21,"Band ends"),v.Ob(),v.Pb(22,"div",36),v.Kb(23,"input",41),v.Pb(24,"p",38),v.xc(25,"One"),v.Ob(),v.Kb(26,"input",42),v.Pb(27,"p",40),v.xc(28,"Two"),v.Ob(),v.Ob(),v.Ob(),v.Ob()),2&e){var n=v.bc();v.gc("formGroup",n.bandForm),v.zb(4),v.gc("ngStyle",v.jc(4,oe,n.band.color)),v.zb(2),v.gc("ngClass",v.jc(6,be,!n.bandForm.get("weight").valid&&n.bandForm.get("weight").touched)),v.zb(3),v.gc("ngIf",!n.bandForm.get("weight").valid)}}var fe,pe,ge=((pe=function(){function e(t,n,i){u(this,e),this.modalService=t,this.bandsService=n,this.formBuilder=i,this.bandSelected=new v.o,this.id="bands-selection-modal"}return a(e,[{key:"ngOnInit",value:function(){this.getBands()}},{key:"getBands",value:function(){var e=this;this.bandsService.getUserBands().subscribe(function(t){e.bands=t})}},{key:"onBandClicked",value:function(e){this.band=e,this.bandForm=this.formBuilder.group({weight:[e.weight,d.q.compose([d.q.required,d.q.max(e.weight),d.q.min(0)])],use:["full"],ends:["two"]})}},{key:"onAddNewBandClicked",value:function(){this.bandModal.openModal()}},{key:"onSubmit",value:function(){var e=new m.b;e.color=this.band.color,this.calculateBandResistance(e),this.bandSelected.emit(e),this.closeModal()}},{key:"calculateBandResistance",value:function(e){if(this.bandForm.get("weight").value!==this.band.weight)e.weight=this.bandForm.get("weight").value;else{var t="full"===this.bandForm.get("use").value,n="two"===this.bandForm.get("ends").value;e.weight=this.bandsService.getBandResistance(this.band,t,n),e.fullUse=t,e.twoEnds=n}}},{key:"openModal",value:function(){this.modalService.open(this.id)}},{key:"closeModal",value:function(){this.onModalClosed(),this.modalService.close(this.id)}},{key:"onModalClosed",value:function(){this.bandForm=null}},{key:"addBandCreated",value:function(e){this.bands.push(e)}}]),e}()).\u0275fac=function(e){return new(e||pe)(v.Jb(N.a),v.Jb(ee),v.Jb(d.c))},pe.\u0275cmp=v.Db({type:pe,selectors:[["app-bands-selection-modal"]],viewQuery:function(e,t){var n;1&e&&v.Cc(ne,1),2&e&&v.nc(n=v.Yb())&&(t.bandModal=n.first)},outputs:{bandSelected:"bandSelected"},decls:20,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[1,"flex","flex-row","items-center","my-2"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px",1,"icon"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"w-2","h-px","bg-gray","dark:bg-grayLight"],[3,"band"],[4,"ngIf"],["class","flex flex-row gap-8 text-lg font-semibold text-textPrimary dark:text-textPrimaryDark",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"],[1,"text","text-center"],[1,"text"],[1,"flex","flex-row","gap-8","text-lg","font-semibold","text-textPrimary","dark:text-textPrimaryDark"],[1,"flex-grow"],[1,"w-full"],[1,"flex","flex-row","gap-8","p-2","rounded-md","w-full",3,"click"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],[1,"flex-grow","text"],["class","flex-grow h-px bg-gray dark:bg-grayLight my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight","my-1"],[3,"formGroup"],[1,"flex"],[1,"flex","mx-auto","mt-4","items-center"],[1,"mr-4"],[1,"btn-rounded","w-7","h-7",3,"ngStyle"],[1,"flex","flex-row","items-center","justify-end"],["formControlName","weight","type","number",1,"input","w-14","text-center","mr-1",3,"ngClass"],[1,"flex","flex-col","justify-center","items-center","mt-2"],[1,"label"],[1,"flex","flex-row","items-center","mt-2"],["formControlName","use","type","radio","value","full",1,"radioButton","w-6","h-6"],[1,"ml-2","mr-4","text"],["formControlName","use","type","radio","value","half",1,"radioButton","w-6","h-6"],[1,"ml-2","text"],["formControlName","ends","type","radio","value","one",1,"radioButton","w-6","h-6"],["formControlName","ends","type","radio","value","two",1,"radioButton","w-6","h-6"],["class","text-red-500 text-base font-bold text-center",4,"ngIf","ngIfElse"],["negativeValue",""],[1,"text-red-500","text-base","font-bold","text-center"]],template:function(e,t){1&e&&(v.Pb(0,"jw-modal",0),v.Xb("closeEvent",function(){return t.onModalClosed()}),v.Pb(1,"h1",1),v.xc(2,"Band selection"),v.Ob(),v.Pb(3,"div",2),v.Kb(4,"div",3),v.Pb(5,"button",4),v.Xb("click",function(){return t.onAddNewBandClicked()}),v.ac(),v.Pb(6,"svg",5),v.Kb(7,"path",6),v.Kb(8,"path",7),v.Ob(),v.Ob(),v.Zb(),v.Kb(9,"div",8),v.Pb(10,"app-bands-creation-modal",9),v.Xb("band",function(e){return t.addBandCreated(e)}),v.Ob(),v.Ob(),v.vc(11,ie,5,0,"div",10),v.vc(12,re,5,0,"div",11),v.vc(13,ce,7,5,"div",12),v.vc(14,de,29,8,"form",13),v.Pb(15,"div",14),v.Pb(16,"button",15),v.Xb("click",function(){return t.closeModal()}),v.xc(17,"Close"),v.Ob(),v.Pb(18,"button",16),v.Xb("click",function(){return t.onSubmit()}),v.xc(19,"Accept"),v.Ob(),v.Ob(),v.Ob()),2&e&&(v.gc("id",t.id),v.zb(11),v.gc("ngIf",!t.bands||0==t.bands.length),v.zb(1),v.gc("ngIf",t.bands&&t.bands.length>0),v.zb(1),v.gc("ngForOf",t.bands),v.zb(1),v.gc("ngIf",t.bandForm),v.zb(4),v.gc("disabled",!t.bandForm||t.bandForm.invalid))},directives:[R.a,ne,b.k,b.j,b.l,d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,d.o],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),pe),me=((fe=function(){function e(){u(this,e)}return a(e,[{key:"getWeight",value:function(){return 50}}]),e}()).\u0275fac=function(e){return new(e||fe)},fe.\u0275prov=v.Fb({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe);function ve(e,t){1&e&&(v.Pb(0,"label",32),v.xc(1,"Seconds"),v.Ob())}function he(e,t){1&e&&(v.Pb(0,"label",32),v.xc(1,"Reps"),v.Ob())}var xe=function(e){return{"input-invalid":e}};function Pe(e,t){if(1&e&&(v.Pb(0,"div",33),v.Pb(1,"label",34),v.xc(2,"Rest"),v.Ob(),v.Pb(3,"div",35),v.Kb(4,"input",36),v.Pb(5,"p",37),v.xc(6,":"),v.Ob(),v.Kb(7,"input",38),v.Ob(),v.Ob()),2&e){var n=v.bc();v.zb(4),v.gc("ngClass",v.jc(2,xe,!n.setFormGroup.get("restMinutes").valid&&n.setFormGroup.get("restMinutes").touched)),v.zb(3),v.gc("ngClass",v.jc(4,xe,!n.setFormGroup.get("restSeconds").valid&&n.setFormGroup.get("restSeconds").touched))}}var we,ye=function(e){return{"background-color":e}},Oe=function(e){return{"opacity-70":e}},Se=((we=function(){function e(t,n,i){u(this,e),this.formBuilder=t,this.userStats=n,this.changeDetector=i,this.setPart=new v.o}return a(e,[{key:"exerciseSetter",set:function(e){console.log(e),this.exercise=e,this.buildForm(null)}},{key:"setPartToEdit",set:function(e){var t;e&&((null==e?void 0:e.exercise)&&(this.exercise=e.exercise),(null===(t=null==e?void 0:e.intensity)||void 0===t?void 0:t.band)&&(this.bandUsed=e.intensity.band),this.buildForm(e),this.changeDetector.detectChanges())}},{key:"ngOnChanges",value:function(e){e.restBetweenExercises.currentValue!==e.restBetweenExercises.previousValue&&this.buildForm(null)}},{key:"ngOnInit",value:function(){this.setFormGroup||this.buildForm(null)}},{key:"buildForm",value:function(e){var t,n,i=this.getFormValues(e);this.setFormGroup=this.formBuilder.group({weight:[i.weight,d.q.compose([(null===(t=this.exercise)||void 0===t?void 0:t.bodyWeight)?null:d.q.required,d.q.min(1)])],weightResistanceType:[{value:i.weightResistanceType,disabled:!(null===(n=this.exercise)||void 0===n?void 0:n.bodyWeight)}],bandWeight:[{value:i.bandWeight,disabled:!0}],bandResistanceType:[i.bandResistanceType],reps:[i.reps,d.q.compose([d.q.required,d.q.min(1)])],restSeconds:this.restBetweenExercises?[i.restSeconds,d.q.compose([d.q.required,d.q.min(0)])]:null,restMinutes:this.restBetweenExercises?[i.restMinutes,d.q.compose([d.q.required,d.q.min(0)])]:null})}},{key:"getFormValues",value:function(e){return new ke(e,this.userStats.getWeight())}},{key:"onAddBandClicked",value:function(){this.bandsModal.openModal()}},{key:"getBandUsedFromModal",value:function(e){this.bandUsed=e,this.setFormGroup.get("bandWeight").setValue(this.bandUsed.weight)}},{key:"onSubmit",value:function(e){if(!this.setFormGroup.invalid){var t=new m.d;t.exercise=this.exercise,t.quantity=e.reps,(null==e?void 0:e.restMinutes)&&(null==e?void 0:e.restSeconds)&&(t.rest=60*e.restMinutes+e.restSeconds),t.intensity=new m.e,this.bandUsed&&(this.bandUsed.weight*="assistance"===e.bandResistanceType?-1:1,t.intensity.band=this.bandUsed),e.weight*="assistance"===e.weightResistanceType?-1:1,e.weight+=this.exercise.bodyWeight?this.userStats.getWeight():0,t.intensity.weight=e.weight,this.setPart.emit(t)}}}]),e}()).\u0275fac=function(e){return new(e||we)(v.Jb(d.c),v.Jb(me),v.Jb(v.i))},we.\u0275cmp=v.Db({type:we,selectors:[["app-set-properties-selection"]],viewQuery:function(e,t){var n;1&e&&v.Cc(ge,1),2&e&&v.nc(n=v.Yb())&&(t.bandsModal=n.first)},inputs:{exerciseSetter:"exerciseSetter",restBetweenExercises:"restBetweenExercises",setPartToEdit:"setPartToEdit"},outputs:{setPart:"setPart"},features:[v.xb],decls:60,vars:17,consts:[[1,"flex","flex-col",3,"formGroup","ngSubmit"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight","my-4"],[1,"flex","flex-col"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex"],["for","weight",1,"label","h-6"],[1,"w-6","h-6"],[1,"flex","flex-row","items-center","gap-2"],["formControlName","weight","placeholder","0","type","number",1,"input","w-20","text-center",3,"ngClass"],[1,"flex","flex-col","gap-2","w-2/5"],[1,"mr-2","text","flex-grow"],["type","radio","formControlName","weightResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","weightResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","content-center","gap-2"],[1,"label"],[1,"btn-rounded","btn-blue","p-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","16px","viewBox","0 0 24 24","width","16px",1,"icon"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"bandSelected"],["formControlName","bandWeight","placeholder","0","type","number",1,"input","w-20","text-center","opacity-50"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],["type","radio","formControlName","bandResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","bandResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["class","label mb-2","for","reps",4,"ngIf","ngIfElse"],["seconds",""],["formControlName","reps","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],["type","submit",1,"btn","btn-blue","w-full","mx-auto","my-4",3,"disabled","ngClass"],["for","reps",1,"label","mb-2"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutes","placeholder","0","type","number",1,"input","w-12","text-center",3,"ngClass"],[1,"text-xl","font-bold"],["formControlName","restSeconds","placeholder","0","type","number",1,"input","w-16","text-center",3,"ngClass"]],template:function(e,t){if(1&e&&(v.Pb(0,"form",0),v.Xb("ngSubmit",function(){return t.onSubmit(t.setFormGroup.value)}),v.Pb(1,"div"),v.Kb(2,"div",1),v.Pb(3,"div",2),v.Pb(4,"div",3),v.Pb(5,"div",4),v.Pb(6,"div",5),v.Pb(7,"label",6),v.xc(8,"Weight"),v.Ob(),v.Kb(9,"div",7),v.Ob(),v.Pb(10,"div",8),v.Kb(11,"input",9),v.Pb(12,"p"),v.xc(13,"Kg"),v.Ob(),v.Kb(14,"div",7),v.Ob(),v.Ob(),v.Pb(15,"div",10),v.Pb(16,"div",5),v.Pb(17,"p",11),v.xc(18,"Ballast"),v.Ob(),v.Kb(19,"input",12),v.Ob(),v.Pb(20,"div",5),v.Pb(21,"p",11),v.xc(22,"Assistance"),v.Ob(),v.Kb(23,"input",13),v.Ob(),v.Ob(),v.Ob(),v.Kb(24,"div",1),v.Pb(25,"div",14),v.Pb(26,"div",4),v.Pb(27,"div",8),v.Pb(28,"label",15),v.xc(29,"Band"),v.Ob(),v.Pb(30,"button",16),v.Xb("click",function(){return t.onAddBandClicked()}),v.ac(),v.Pb(31,"svg",17),v.Kb(32,"path",18),v.Kb(33,"path",19),v.Ob(),v.Ob(),v.Zb(),v.Pb(34,"app-bands-selection-modal",20),v.Xb("bandSelected",function(e){return t.getBandUsedFromModal(e)}),v.Ob(),v.Ob(),v.Pb(35,"div",8),v.Kb(36,"input",21),v.Pb(37,"p"),v.xc(38,"Kg"),v.Ob(),v.Kb(39,"div",22),v.Ob(),v.Ob(),v.Pb(40,"div",10),v.Pb(41,"div",5),v.Pb(42,"p",11),v.xc(43,"Resistance"),v.Ob(),v.Kb(44,"input",23),v.Ob(),v.Pb(45,"div",5),v.Pb(46,"p",11),v.xc(47,"Assistance"),v.Ob(),v.Kb(48,"input",24),v.Ob(),v.Ob(),v.Ob(),v.Ob(),v.Ob(),v.Kb(49,"div",1),v.Pb(50,"div",25),v.Pb(51,"div",26),v.Pb(52,"div"),v.vc(53,ve,2,0,"label",27),v.vc(54,he,2,0,"ng-template",null,28,v.wc),v.Ob(),v.Kb(56,"input",29),v.Ob(),v.vc(57,Pe,8,6,"div",30),v.Ob(),v.Pb(58,"button",31),v.xc(59,"Confirm"),v.Ob(),v.Ob()),2&e){var n=v.oc(55);v.gc("formGroup",t.setFormGroup),v.zb(11),v.gc("ngClass",v.jc(9,xe,!t.setFormGroup.get("weight").valid&&t.setFormGroup.get("weight").touched)),v.zb(28),v.gc("ngStyle",v.jc(11,ye,null==t.bandUsed?null:t.bandUsed.color)),v.zb(14),v.gc("ngIf",null==t.exercise?null:t.exercise.static)("ngIfElse",n),v.zb(3),v.gc("ngClass",v.jc(13,xe,!t.setFormGroup.get("reps").valid&&t.setFormGroup.get("reps").touched)),v.zb(1),v.gc("ngIf",t.restBetweenExercises),v.zb(1),v.gc("disabled",t.setFormGroup.invalid)("ngClass",v.jc(15,Oe,t.setFormGroup.invalid))}},directives:[d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,d.o,ge,b.l,b.k],styles:[""]}),we),ke=function(){function e(t,n){u(this,e),this.setDefaultValues(),t&&this.setSetPartValues(t,n)}return a(e,[{key:"setSetPartValues",value:function(e,t){var n,i;if(null===(n=null==e?void 0:e.intensity)||void 0===n?void 0:n.weight){var r=e.intensity.weight;e.exercise.bodyWeight&&(r-=t),this.weight=Math.abs(r).toString(),this.weightResistanceType=r<0?"assistance":"ballast"}if((null===(i=null==e?void 0:e.intensity)||void 0===i?void 0:i.band)&&(this.bandWeight=Math.abs(e.intensity.band.weight),this.bandResistanceType=e.intensity.band.weight<0?"assistance":"ballast"),(null==e?void 0:e.quantity)&&(this.reps=e.quantity.toString()),null==e?void 0:e.rest){var s=e.rest;this.restMinutes=Math.trunc(s/60),this.restSeconds=s%60}}},{key:"setDefaultValues",value:function(){this.setDefaultWeightValues(),this.setDefaultRepsValue(),this.setDefaultRestValues()}},{key:"setDefaultWeightValues",value:function(){this.weightResistanceType="ballast",this.weight="",this.bandWeight=0,this.bandResistanceType="assistance"}},{key:"setDefaultRepsValue",value:function(){this.reps=""}},{key:"setDefaultRestValues",value:function(){this.restSeconds=30,this.restMinutes=1}}]),e}();function Ce(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div"),v.Pb(1,"app-set-properties-selection",2),v.Xb("setPart",function(e){return v.rc(n),v.bc().addSetPart(e)}),v.Ob(),v.Ob()}if(2&e){var i=v.bc();v.zb(1),v.gc("exerciseSetter",i.exerciseSelected)("setPartToEdit",i.setPartToEdit)("restBetweenExercises",i.restBetweenExercises)}}var Fe,Ee=((Fe=function(){function e(){u(this,e),this.setPart=new v.o}return a(e,[{key:"ngOnInit",value:function(){}},{key:"setExerciseSelected",value:function(e){this.exerciseSelected=e}},{key:"addSetPart",value:function(e){this.setPart.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275cmp=v.Db({type:Fe,selectors:[["app-set-selection"]],inputs:{setPartToEdit:"setPartToEdit",restBetweenExercises:"restBetweenExercises"},outputs:{setPart:"setPart"},decls:2,vars:2,consts:[[3,"exercise","exerciseSelected"],[4,"ngIf"],[3,"exerciseSetter","setPartToEdit","restBetweenExercises","setPart"]],template:function(e,t){1&e&&(v.Pb(0,"app-exercise-selection",0),v.Xb("exerciseSelected",function(e){return t.setExerciseSelected(e)}),v.Ob(),v.vc(1,Ce,2,3,"div",1)),2&e&&(v.gc("exercise",null==t.setPartToEdit?null:t.setPartToEdit.exercise),v.zb(1),v.gc("ngIf",t.exerciseSelected))},directives:[Z,b.k,Se],styles:[""]}),Fe);function Ie(e,t){if(1&e&&(v.Pb(0,"div",8),v.xc(1),v.Ob()),2&e){var n=v.bc().$implicit;v.zb(1),v.Ac("",null==n?null:n.exercise.name," ",null==n?null:n.quantity,"")}}function Be(e,t){1&e&&v.Lb(0,9)}var ze=function(e,t){return{index:e,setPart:t}};function Me(e,t){if(1&e&&(v.Pb(0,"app-accordion-item",5),v.vc(1,Ie,2,2,"div",6),v.vc(2,Be,1,0,"ng-container",7),v.Ob()),2&e){var n=t.$implicit,i=t.index;v.bc(2);var r=v.oc(2);v.gc("itemCss","card my-4"),v.zb(1),v.gc("ngIf",n.exercise),v.zb(1),v.gc("ngTemplateOutlet",r)("ngTemplateOutletContext",v.kc(4,ze,i,n))}}function Ke(e,t){1&e&&(v.Pb(0,"div",15),v.Pb(1,"label",16),v.xc(2,"Rest between set"),v.Ob(),v.Pb(3,"div",17),v.Kb(4,"input",21),v.Pb(5,"p",19),v.xc(6,":"),v.Ob(),v.Kb(7,"input",22),v.Ob(),v.Ob())}var Ge=function(e){return{"input-invalid":e}};function Te(e,t){if(1&e&&(v.Pb(0,"form",10),v.Pb(1,"div",11),v.Pb(2,"div"),v.Pb(3,"label",12),v.xc(4,"Sets number"),v.Ob(),v.Ob(),v.Kb(5,"input",13),v.Ob(),v.vc(6,Ke,8,0,"div",14),v.Pb(7,"div",15),v.Pb(8,"label",16),v.xc(9,"Final rest"),v.Ob(),v.Pb(10,"div",17),v.Kb(11,"input",18),v.Pb(12,"p",19),v.xc(13,":"),v.Ob(),v.Kb(14,"input",20),v.Ob(),v.Ob(),v.Ob()),2&e){var n=v.bc(2);v.gc("formGroup",n.setPropertiesFormGroup),v.zb(5),v.gc("ngClass",v.jc(3,Ge,!n.setPropertiesFormGroup.get("setsNumber").valid&&n.setPropertiesFormGroup.get("setsNumber").touched)),v.zb(1),v.gc("ngIf",!n.restBetweenExercises)}}function Ne(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc(2).addNewSetPart()}),v.xc(1,"Add exercise"),v.Ob()}}function qe(e,t){if(1&e&&(v.Pb(0,"div"),v.Pb(1,"app-accordion"),v.vc(2,Me,3,7,"app-accordion-item",3),v.Ob(),v.vc(3,Te,15,5,"form",4),v.vc(4,Ne,2,0,"button",2),v.Ob()),2&e){var n=v.bc();v.zb(2),v.gc("ngForOf",n.set.setParts),v.zb(1),v.gc("ngIf",n.set.setParts.length>0),v.zb(1),v.gc("ngIf",n.multiExercise)}}function je(e,t){if(1&e){var n=v.Qb();v.Pb(0,"app-set-selection",24),v.Xb("setPart",function(e){v.rc(n);var i=t.index;return v.bc().addSetPart(e,i)}),v.Ob()}if(2&e){var i=t.setPart,r=v.bc();v.gc("restBetweenExercises",r.restBetweenExercises)("setPartToEdit",i)}}function Ve(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc().onSubmit()}),v.xc(1,"Confirm set"),v.Ob()}}var Re,Xe=((Re=function(n){t(o,n);var r=i(o);function o(e){var t;return u(this,o),(t=r.call(this,e)).builder=e,t}return a(o,[{key:"ngOnInit",value:function(){this.multiExercise=!0,this.restBetweenExercises=!1,e(s(o.prototype),"ngOnInit",this).call(this)}},{key:"setRestBetweenSets",value:function(){var e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts.forEach(function(n){n.rest=e+60*t})}}]),o}(M)).\u0275fac=function(e){return new(e||Re)(v.Jb(d.c))},Re.\u0275cmp=v.Db({type:Re,selectors:[["app-emom-strategy"]],features:[v.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(v.vc(0,qe,5,3,"div",0),v.vc(1,je,1,2,"ng-template",null,1,v.wc),v.vc(3,Ve,2,0,"button",2)),2&e){var n=v.oc(2);v.gc("ngIf",t.set.setParts.length>0)("ngIfElse",n),v.zb(3),v.gc("ngIf",t.set.setParts.length>0)}},directives:[b.k,z,b.j,I,b.p,d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,Ee],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),Re);function Ae(e,t){if(1&e&&(v.Pb(0,"div",8),v.xc(1),v.Ob()),2&e){var n=v.bc().$implicit;v.zb(1),v.Ac("",null==n?null:n.exercise.name," ",null==n?null:n.quantity,"")}}function De(e,t){1&e&&v.Lb(0,9)}var Qe=function(e,t){return{index:e,setPart:t}};function Le(e,t){if(1&e&&(v.Pb(0,"app-accordion-item",5),v.vc(1,Ae,2,2,"div",6),v.vc(2,De,1,0,"ng-container",7),v.Ob()),2&e){var n=t.$implicit,i=t.index;v.bc(2);var r=v.oc(2);v.gc("itemCss","card my-4"),v.zb(1),v.gc("ngIf",n.exercise),v.zb(1),v.gc("ngTemplateOutlet",r)("ngTemplateOutletContext",v.kc(4,Qe,i,n))}}function Ue(e,t){1&e&&(v.Pb(0,"div",15),v.Pb(1,"label",16),v.xc(2,"Rest between set"),v.Ob(),v.Pb(3,"div",17),v.Kb(4,"input",21),v.Pb(5,"p",19),v.xc(6,":"),v.Ob(),v.Kb(7,"input",22),v.Ob(),v.Ob())}var Je=function(e){return{"input-invalid":e}};function We(e,t){if(1&e&&(v.Pb(0,"form",10),v.Pb(1,"div",11),v.Pb(2,"div"),v.Pb(3,"label",12),v.xc(4,"Sets number"),v.Ob(),v.Ob(),v.Kb(5,"input",13),v.Ob(),v.vc(6,Ue,8,0,"div",14),v.Pb(7,"div",15),v.Pb(8,"label",16),v.xc(9,"Final rest"),v.Ob(),v.Pb(10,"div",17),v.Kb(11,"input",18),v.Pb(12,"p",19),v.xc(13,":"),v.Ob(),v.Kb(14,"input",20),v.Ob(),v.Ob(),v.Ob()),2&e){var n=v.bc(2);v.gc("formGroup",n.setPropertiesFormGroup),v.zb(5),v.gc("ngClass",v.jc(3,Je,!n.setPropertiesFormGroup.get("setsNumber").valid&&n.setPropertiesFormGroup.get("setsNumber").touched)),v.zb(1),v.gc("ngIf",!n.restBetweenExercises)}}function He(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc(2).addNewSetPart()}),v.xc(1,"Add exercise"),v.Ob()}}function _e(e,t){if(1&e&&(v.Pb(0,"div"),v.Pb(1,"app-accordion"),v.vc(2,Le,3,7,"app-accordion-item",3),v.Ob(),v.vc(3,We,15,5,"form",4),v.vc(4,He,2,0,"button",2),v.Ob()),2&e){var n=v.bc();v.zb(2),v.gc("ngForOf",n.set.setParts),v.zb(1),v.gc("ngIf",n.set.setParts.length>0),v.zb(1),v.gc("ngIf",n.multiExercise)}}function $e(e,t){if(1&e){var n=v.Qb();v.Pb(0,"app-set-selection",24),v.Xb("setPart",function(e){v.rc(n);var i=t.index;return v.bc().addSetPart(e,i)}),v.Ob()}if(2&e){var i=t.setPart,r=v.bc();v.gc("restBetweenExercises",r.restBetweenExercises)("setPartToEdit",i)}}function Ye(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc().onSubmit()}),v.xc(1,"Confirm set"),v.Ob()}}var Ze,et=((Ze=function(n){t(o,n);var r=i(o);function o(e){var t;return u(this,o),(t=r.call(this,e)).builder=e,t}return a(o,[{key:"ngOnInit",value:function(){this.multiExercise=!0,this.restBetweenExercises=!1,e(s(o.prototype),"ngOnInit",this).call(this)}},{key:"setRestBetweenSets",value:function(){var e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts[this.set.setParts.length-1].rest=e+60*t}}]),o}(M)).\u0275fac=function(e){return new(e||Ze)(v.Jb(d.c))},Ze.\u0275cmp=v.Db({type:Ze,selectors:[["app-super-set-strategy"]],features:[v.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(v.vc(0,_e,5,3,"div",0),v.vc(1,$e,1,2,"ng-template",null,1,v.wc),v.vc(3,Ye,2,0,"button",2)),2&e){var n=v.oc(2);v.gc("ngIf",t.set.setParts.length>0)("ngIfElse",n),v.zb(3),v.gc("ngIf",t.set.setParts.length>0)}},directives:[b.k,z,b.j,I,b.p,d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,Ee],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),Ze);function tt(e,t){if(1&e&&(v.Pb(0,"div",8),v.xc(1),v.Ob()),2&e){var n=v.bc().$implicit;v.zb(1),v.Ac("",null==n?null:n.exercise.name," ",null==n?null:n.quantity,"")}}function nt(e,t){1&e&&v.Lb(0,9)}var it=function(e,t){return{index:e,setPart:t}};function rt(e,t){if(1&e&&(v.Pb(0,"app-accordion-item",5),v.vc(1,tt,2,2,"div",6),v.vc(2,nt,1,0,"ng-container",7),v.Ob()),2&e){var n=t.$implicit,i=t.index;v.bc(2);var r=v.oc(2);v.gc("itemCss","card my-4"),v.zb(1),v.gc("ngIf",n.exercise),v.zb(1),v.gc("ngTemplateOutlet",r)("ngTemplateOutletContext",v.kc(4,it,i,n))}}function st(e,t){1&e&&(v.Pb(0,"div",15),v.Pb(1,"label",16),v.xc(2,"Rest between set"),v.Ob(),v.Pb(3,"div",17),v.Kb(4,"input",21),v.Pb(5,"p",19),v.xc(6,":"),v.Ob(),v.Kb(7,"input",22),v.Ob(),v.Ob())}var ot=function(e){return{"input-invalid":e}};function ct(e,t){if(1&e&&(v.Pb(0,"form",10),v.Pb(1,"div",11),v.Pb(2,"div"),v.Pb(3,"label",12),v.xc(4,"Sets number"),v.Ob(),v.Ob(),v.Kb(5,"input",13),v.Ob(),v.vc(6,st,8,0,"div",14),v.Pb(7,"div",15),v.Pb(8,"label",16),v.xc(9,"Final rest"),v.Ob(),v.Pb(10,"div",17),v.Kb(11,"input",18),v.Pb(12,"p",19),v.xc(13,":"),v.Ob(),v.Kb(14,"input",20),v.Ob(),v.Ob(),v.Ob()),2&e){var n=v.bc(2);v.gc("formGroup",n.setPropertiesFormGroup),v.zb(5),v.gc("ngClass",v.jc(3,ot,!n.setPropertiesFormGroup.get("setsNumber").valid&&n.setPropertiesFormGroup.get("setsNumber").touched)),v.zb(1),v.gc("ngIf",!n.restBetweenExercises)}}function lt(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc(2).addNewSetPart()}),v.xc(1,"Add exercise"),v.Ob()}}function at(e,t){if(1&e&&(v.Pb(0,"div"),v.Pb(1,"app-accordion"),v.vc(2,rt,3,7,"app-accordion-item",3),v.Ob(),v.vc(3,ct,15,5,"form",4),v.vc(4,lt,2,0,"button",2),v.Ob()),2&e){var n=v.bc();v.zb(2),v.gc("ngForOf",n.set.setParts),v.zb(1),v.gc("ngIf",n.set.setParts.length>0),v.zb(1),v.gc("ngIf",n.multiExercise)}}function ut(e,t){if(1&e){var n=v.Qb();v.Pb(0,"app-set-selection",24),v.Xb("setPart",function(e){v.rc(n);var i=t.index;return v.bc().addSetPart(e,i)}),v.Ob()}if(2&e){var i=t.setPart,r=v.bc();v.gc("restBetweenExercises",r.restBetweenExercises)("setPartToEdit",i)}}function bt(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc().onSubmit()}),v.xc(1,"Confirm set"),v.Ob()}}var dt,ft=((dt=function(n){t(o,n);var r=i(o);function o(e){var t;return u(this,o),(t=r.call(this,e)).builder=e,t}return a(o,[{key:"ngOnInit",value:function(){this.multiExercise=!0,this.restBetweenExercises=!0,e(s(o.prototype),"ngOnInit",this).call(this)}}]),o}(M)).\u0275fac=function(e){return new(e||dt)(v.Jb(d.c))},dt.\u0275cmp=v.Db({type:dt,selectors:[["app-circuit-strategy"]],features:[v.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(v.vc(0,at,5,3,"div",0),v.vc(1,ut,1,2,"ng-template",null,1,v.wc),v.vc(3,bt,2,0,"button",2)),2&e){var n=v.oc(2);v.gc("ngIf",t.set.setParts.length>0)("ngIfElse",n),v.zb(3),v.gc("ngIf",t.set.setParts.length>0)}},directives:[b.k,z,b.j,I,b.p,d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,Ee],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),dt);function pt(e,t){if(1&e&&(v.Pb(0,"div",8),v.xc(1),v.Ob()),2&e){var n=v.bc().$implicit;v.zb(1),v.Ac("",null==n?null:n.exercise.name," ",null==n?null:n.quantity,"")}}function gt(e,t){1&e&&v.Lb(0,9)}var mt=function(e,t){return{index:e,setPart:t}};function vt(e,t){if(1&e&&(v.Pb(0,"app-accordion-item",5),v.vc(1,pt,2,2,"div",6),v.vc(2,gt,1,0,"ng-container",7),v.Ob()),2&e){var n=t.$implicit,i=t.index;v.bc(2);var r=v.oc(2);v.gc("itemCss","card my-4"),v.zb(1),v.gc("ngIf",n.exercise),v.zb(1),v.gc("ngTemplateOutlet",r)("ngTemplateOutletContext",v.kc(4,mt,i,n))}}function ht(e,t){1&e&&(v.Pb(0,"div",15),v.Pb(1,"label",16),v.xc(2,"Rest between set"),v.Ob(),v.Pb(3,"div",17),v.Kb(4,"input",21),v.Pb(5,"p",19),v.xc(6,":"),v.Ob(),v.Kb(7,"input",22),v.Ob(),v.Ob())}var xt=function(e){return{"input-invalid":e}};function Pt(e,t){if(1&e&&(v.Pb(0,"form",10),v.Pb(1,"div",11),v.Pb(2,"div"),v.Pb(3,"label",12),v.xc(4,"Sets number"),v.Ob(),v.Ob(),v.Kb(5,"input",13),v.Ob(),v.vc(6,ht,8,0,"div",14),v.Pb(7,"div",15),v.Pb(8,"label",16),v.xc(9,"Final rest"),v.Ob(),v.Pb(10,"div",17),v.Kb(11,"input",18),v.Pb(12,"p",19),v.xc(13,":"),v.Ob(),v.Kb(14,"input",20),v.Ob(),v.Ob(),v.Ob()),2&e){var n=v.bc(2);v.gc("formGroup",n.setPropertiesFormGroup),v.zb(5),v.gc("ngClass",v.jc(3,xt,!n.setPropertiesFormGroup.get("setsNumber").valid&&n.setPropertiesFormGroup.get("setsNumber").touched)),v.zb(1),v.gc("ngIf",!n.restBetweenExercises)}}function wt(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc(2).addNewSetPart()}),v.xc(1,"Add exercise"),v.Ob()}}function yt(e,t){if(1&e&&(v.Pb(0,"div"),v.Pb(1,"app-accordion"),v.vc(2,vt,3,7,"app-accordion-item",3),v.Ob(),v.vc(3,Pt,15,5,"form",4),v.vc(4,wt,2,0,"button",2),v.Ob()),2&e){var n=v.bc();v.zb(2),v.gc("ngForOf",n.set.setParts),v.zb(1),v.gc("ngIf",n.set.setParts.length>0),v.zb(1),v.gc("ngIf",n.multiExercise)}}function Ot(e,t){if(1&e){var n=v.Qb();v.Pb(0,"app-set-selection",24),v.Xb("setPart",function(e){v.rc(n);var i=t.index;return v.bc().addSetPart(e,i)}),v.Ob()}if(2&e){var i=t.setPart,r=v.bc();v.gc("restBetweenExercises",r.restBetweenExercises)("setPartToEdit",i)}}function St(e,t){if(1&e){var n=v.Qb();v.Pb(0,"button",23),v.Xb("click",function(){return v.rc(n),v.bc().onSubmit()}),v.xc(1,"Confirm set"),v.Ob()}}var kt,Ct=((kt=function(n){t(o,n);var r=i(o);function o(e){var t;return u(this,o),(t=r.call(this,e)).builder=e,t.multiExercise=!1,t.restBetweenExercises=!0,t}return a(o,[{key:"ngOnInit",value:function(){e(s(o.prototype),"ngOnInit",this).call(this)}}]),o}(M)).\u0275fac=function(e){return new(e||kt)(v.Jb(d.c))},kt.\u0275cmp=v.Db({type:kt,selectors:[["app-common-exercise-strategy"]],features:[v.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(v.vc(0,yt,5,3,"div",0),v.vc(1,Ot,1,2,"ng-template",null,1,v.wc),v.vc(3,St,2,0,"button",2)),2&e){var n=v.oc(2);v.gc("ngIf",t.set.setParts.length>0)("ngIfElse",n),v.zb(3),v.gc("ngIf",t.set.setParts.length>0)}},directives:[b.k,z,b.j,I,b.p,d.r,d.l,d.g,d.b,d.n,d.k,d.f,b.i,Ee],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),kt);function Ft(e,t){if(1&e&&(v.Pb(0,"div",8),v.xc(1),v.cc(2,"titlecase"),v.Ob()),2&e){var n=t.item;v.zb(1),v.yc(v.dc(2,1,n))}}function Et(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div"),v.Pb(1,"app-emom-strategy",13),v.Xb("exerciseSet",function(e){return v.rc(n),v.bc(2).sendSetToList(e)}),v.Ob(),v.Ob()}if(2&e){var i=v.bc(2);v.zb(1),v.gc("exerciseSetToEdit",i.set)}}function It(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div"),v.Pb(1,"app-super-set-strategy",13),v.Xb("exerciseSet",function(e){return v.rc(n),v.bc(2).sendSetToList(e)}),v.Ob(),v.Ob()}if(2&e){var i=v.bc(2);v.zb(1),v.gc("exerciseSetToEdit",i.set)}}function Bt(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div"),v.Pb(1,"app-circuit-strategy",13),v.Xb("exerciseSet",function(e){return v.rc(n),v.bc(2).sendSetToList(e)}),v.Ob(),v.Ob()}if(2&e){var i=v.bc(2);v.zb(1),v.gc("exerciseSetToEdit",i.set)}}function zt(e,t){if(1&e){var n=v.Qb();v.Pb(0,"div"),v.Pb(1,"app-common-exercise-strategy",13),v.Xb("exerciseSet",function(e){return v.rc(n),v.bc(2).sendSetToList(e)}),v.Ob(),v.Ob()}if(2&e){var i=v.bc(2);v.zb(1),v.gc("exerciseSetToEdit",i.set)}}function Mt(e,t){if(1&e&&(v.Pb(0,"div"),v.Pb(1,"p",9),v.xc(2,"Set"),v.Ob(),v.Pb(3,"div",10),v.vc(4,Et,2,1,"div",11),v.vc(5,It,2,1,"div",11),v.vc(6,Bt,2,1,"div",11),v.vc(7,zt,2,1,"div",12),v.Ob(),v.Ob()),2&e){var n=v.bc();v.zb(3),v.gc("ngSwitch",n.exercisesSetFormGroup.get("selectedType").value),v.zb(1),v.gc("ngSwitchCase","Emom"),v.zb(1),v.gc("ngSwitchCase","Super Set"),v.zb(1),v.gc("ngSwitchCase","Circuit")}}var Kt,Gt,Tt,Nt,qt=function(){return{"input-invalid":!1}},jt=((Kt=function(){function e(t,n,i){u(this,e),this.formBuilder=t,this.trainingsFormService=n,this.router=i,this.types=["Normal","Emom","Super Set","Circuit"]}return a(e,[{key:"ngOnInit",value:function(){this.exercisesSetFormGroup=this.formBuilder.group({selectedType:[this.types[0],d.q.required]}),this.setOnSelectedSetChanged()}},{key:"setOnSelectedSetChanged",value:function(){var e=this;this.trainingsFormService.getSelectedSet().subscribe(function(t){if(t){var n=JSON.parse(JSON.stringify(t)),i=n.setParts;n.setParts=i.splice(0,i.length/n.setsCount),e.exercisesSetFormGroup.get("selectedType").setValue(n.type),e.set=n}})}},{key:"sendSetToList",value:function(e){e.type=this.exercisesSetFormGroup.get("selectedType").value,this.trainingsFormService.confirmSetSelectedEdition(e),this.set=new m.c,this.exercisesSetFormGroup.reset()}},{key:"submitEdition",value:function(){var e=this;this.trainingsFormService.saveTraining(),this.trainingsFormService.getTraining().pipe(Object(g.a)(1)).subscribe(function(t){e.router.navigate(["app/trainings/".concat(t.id)],{replaceUrl:!0})})}}]),e}()).\u0275fac=function(e){return new(e||Kt)(v.Jb(d.c),v.Jb(h.a),v.Jb(p.f))},Kt.\u0275cmp=v.Db({type:Kt,selectors:[["app-exercises-set-add-form"]],decls:9,vars:5,consts:[[3,"formGroup"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center"],["for","type",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5","justify-end"],["formControlName","selectedType",1,"input","w-full",3,"items","ngClass"],["ng-option-tmp",""],[4,"ngIf"],[1,"input","m-px"],[1,"mt-4","text-center","text-xl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"exerciseSetToEdit","exerciseSet"]],template:function(e,t){1&e&&(v.Pb(0,"form",0),v.Pb(1,"div",1),v.Pb(2,"div",2),v.Pb(3,"label",3),v.xc(4,"Type"),v.Ob(),v.Pb(5,"div",4),v.Pb(6,"ng-select",5),v.vc(7,Ft,3,3,"ng-template",6),v.Ob(),v.Ob(),v.Ob(),v.vc(8,Mt,8,4,"div",7),v.Ob(),v.Ob()),2&e&&(v.gc("formGroup",t.exercisesSetFormGroup),v.zb(6),v.gc("items",t.types)("ngClass",v.ic(4,qt)),v.zb(2),v.gc("ngIf",t.exercisesSetFormGroup.get("selectedType").value))},directives:[d.r,d.l,d.g,x.a,d.k,d.f,b.i,x.c,b.k,b.m,b.n,b.o,Xe,et,ft,Ct],pipes:[b.s],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),Kt),Vt=c("kXp2"),Rt=[{path:"",component:(Gt=function(){function e(){u(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}(),Gt.\u0275fac=function(e){return new(e||Gt)},Gt.\u0275cmp=v.Db({type:Gt,selectors:[["app-edit"]],viewQuery:function(e,t){var n;1&e&&v.Cc(jt,1),2&e&&v.nc(n=v.Yb())&&(t.setsForm=n.first)},decls:9,vars:1,consts:[[1,"flex","md:flex-row","flex-col","overflow-auto","h-full","md:overflow-hidden","p-4","gap-4","justify-content-center","static"],[3,"editing"],[1,"w-full","md:w-1/2","xl:w-1/4","h-auto","md:h-full","md:overflow-y-auto","overflow-visible","card","mx-auto"],[1,"absolute","bottom-4","right-4"],[1,"btn-rounded","btn-blue","mx-auto","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-12","h-12"],["d","M0 0h24v24H0V0z","fill","none"],["d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"]],template:function(e,t){1&e&&(v.Pb(0,"div",0),v.Kb(1,"app-exercises-set-list",1),v.Pb(2,"div",2),v.Kb(3,"app-exercises-set-add-form"),v.Ob(),v.Pb(4,"div",3),v.Pb(5,"button",4),v.Xb("click",function(){return t.setsForm.submitEdition()}),v.ac(),v.Pb(6,"svg",5),v.Kb(7,"path",6),v.Kb(8,"path",7),v.Ob(),v.Ob(),v.Ob(),v.Ob()),2&e&&(v.zb(1),v.gc("editing",!0))},directives:[Vt.a,jt],styles:[""]}),Gt)}],Xt=((Nt=function e(){u(this,e)}).\u0275fac=function(e){return new(e||Nt)},Nt.\u0275mod=v.Hb({type:Nt}),Nt.\u0275inj=v.Gb({imports:[[p.j.forChild(Rt)],p.j]}),Nt),At=((Tt=function e(){u(this,e)}).\u0275fac=function(e){return new(e||Tt)},Tt.\u0275mod=v.Hb({type:Tt}),Tt.\u0275inj=v.Gb({imports:[[b.c,d.h,f.e,Xt,l.a]]}),Tt)}}])}();
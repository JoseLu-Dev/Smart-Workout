(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"83oU":function(t,e,n){"use strict";n.r(e),n.d(e,"CalendarPageModule",function(){return x});var r=n("F3Cn"),a=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),i=n("tyNb"),s=n("fXoL");class l{constructor(){this.isCurrentMonth=!0}getDate(){return new Date(this.year,this.monthIndex,this.number)}}let d=(()=>{class t{constructor(){this.firstTimeGenerated=!0;const t=new Date;this.currentYear=t.getFullYear(),this.currentMonthIndex=t.getMonth()}getCurrentMonth(){return this.getMonth(this.currentMonthIndex,this.currentYear)}getMonth(t,e){this.currentMonthIndex=t,this.currentYear=e;let n=[];const r=this.createDay(1,t,e);let a=0===r.weekDayNumber?6:r.weekDayNumber-1;a=0===a?7:a,n=this.getLastDaysOfMonth(e,t,a);const o=new Date(e,t+1,0).getDate();for(let c=1;c<o+1;c++){const r=this.createDay(c,t,e);n.push(r)}return n=n.concat(this.getFirstDaysOfMonth(e,t,42-n.length)),n}getLastDaysOfMonth(t,e,n){return this.getDaysOfMonth(t,e,n,!0)}getFirstDaysOfMonth(t,e,n){return this.getDaysOfMonth(t,e,n,!1)}getDaysOfMonth(t,e,n,r){const a=new Date(t,e,0).getDate(),o=[];for(let c=0;c<n;c++){let n;r?(e-1==-1&&(e=13,t--),n=this.createDay(a-c,e-1,t)):(e+1===12&&(e=-1,t++),n=this.createDay(c+1,e+1,t)),n.isCurrentMonth=!1,o.push(n)}return r&&o.reverse(),o}getMonthName(t){switch(t){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return""}}getWeekDayName(t){switch(t){case 0:return"Su";case 1:return"Mo";case 2:return"Tu";case 3:return"We";case 4:return"Th";case 5:return"Fr";case 6:return"Sa";default:return""}}createDay(t,e,n){const r=new l;return r.monthIndex=e,r.month=this.getMonthName(e),r.number=t,r.year=n,r.weekDayNumber=new Date(n,e,t).getDay(),r.weekDayName=this.getWeekDayName(r.weekDayNumber),r.isCurrentDay=this.isCurrentDay(r),this.firstTimeGenerated&&r.isCurrentDay&&(r.selected=!0,this.firstTimeGenerated=!1),r}isCurrentDay(t){const e=new Date;return t.year===e.getFullYear()&&t.monthIndex===e.getMonth()&&t.number===e.getDate()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("3E8E");function u(t,e){if(1&t&&(s.Pb(0,"div",2),s.Pb(1,"p",3),s.xc(2),s.Ob(),s.Ob()),2&t){const t=e.$implicit;s.zb(2),s.yc(t)}}const b=function(t){return{"background-color":t}};function y(t,e){if(1&t&&s.Kb(0,"div",10),2&t){const t=e.$implicit;s.gc("ngStyle",s.jc(1,b,null==t?null:t.color))}}const m=function(t,e,n,r){return{today:t,"opacity-40":e,"today-selected":n,"day-selected":r}};function g(t,e){if(1&t){const t=s.Qb();s.Pb(0,"div",2),s.Pb(1,"button",4),s.Xb("click",function(){s.rc(t);const n=e.$implicit;return s.bc().onDayClicked(n)}),s.Pb(2,"div",5),s.Pb(3,"p"),s.xc(4),s.Ob(),s.Pb(5,"div",6),s.Pb(6,"div",7),s.Pb(7,"div",8),s.vc(8,y,1,3,"div",9),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=e.$implicit;s.zb(1),s.gc("ngClass",s.mc(3,m,t.isCurrentDay,!t.isCurrentMonth,t.selected&&t.isCurrentDay,t.selected&&!t.isCurrentDay)),s.zb(3),s.yc(t.number),s.zb(4),s.gc("ngForOf",null==t.trainingsDay?null:t.trainingsDay.trainings)}}let f=(()=>{class t{constructor(t,e){this.calendarCreator=t,this.daysService=e,this.daySelected=new s.o,this.weekDaysName=[]}ngOnInit(){this.setMonthDays(this.calendarCreator.getCurrentMonth()),this.weekDaysName.push("Mo"),this.weekDaysName.push("Tu"),this.weekDaysName.push("We"),this.weekDaysName.push("Th"),this.weekDaysName.push("Fr"),this.weekDaysName.push("Sa"),this.weekDaysName.push("Su");const t=new Date;this.year=t.getFullYear(),this.monthNumber=t.getMonth(),this.fillDaysOfCurrentMonthDays(),this.selectToday()}fillDaysOfCurrentMonthDays(){const t=this.monthNumber+1;this.fillDaysOfMonth(this.year,t);let e=t-1;const n=0==e?this.year-1:this.year;e=0==e?12:e,this.fillDaysOfMonth(n,e);let r=t+1;const a=13==r?this.year+1:this.year;r=13==r?1:r,this.fillDaysOfMonth(a,r)}fillDaysOfMonth(t,e){this.daysService.getDaysOfYearAndMonth(t,e).subscribe(t=>{const e=t.body;for(const n in e){const t=new Date(e[n].date);for(const r of this.monthDays)r.number==t.getDate()&&r.monthIndex==t.getMonth()&&(r.trainingsDay=e[n])}})}onNextMonth(){this.monthNumber++,12===this.monthNumber&&(this.monthNumber=0,this.year++,console.log("Year: "+this.year)),this.setMonthDays(this.calendarCreator.getMonth(this.monthNumber,this.year)),this.fillDaysOfCurrentMonthDays(),this.selectFirstDay()}onPreviousMonth(){this.monthNumber--,this.monthNumber<0&&(this.monthNumber=11,this.year--,console.log("Year: "+this.year)),this.setMonthDays(this.calendarCreator.getMonth(this.monthNumber,this.year)),this.fillDaysOfCurrentMonthDays(),this.selectFirstDay()}selectFirstDay(){for(const t of this.monthDays)if(1===t.number&&t.monthIndex===this.monthNumber)return t.selected=!0,void this.onDayClicked(t)}onDayClicked(t){this.resetSelectedDays(),t.selected=!0,console.log(t),this.daySelected.emit(t)}selectToday(){for(const t of this.monthDays)if(t.isCurrentDay)return void this.onDayClicked(t)}resetSelectedDays(){for(const t of this.monthDays)t.selected=!1}setMonthDays(t){this.monthDays=t}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(d),s.Jb(h.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-custom-calendar"]],outputs:{daySelected:"daySelected"},decls:3,vars:2,consts:[[1,"calendar"],["class","flex flex-wrap content-center",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","content-center"],[1,"m-auto","md:text-2xl","font-semibold"],[1,"day","m-auto",3,"ngClass","click"],[1,"relative"],[1,"flex","w-full"],[1,"w-full","flex","flex-row","absolute"],[1,"mx-auto","flex","flex-row"],["class","dot",3,"ngStyle",4,"ngFor","ngForOf"],[1,"dot",3,"ngStyle"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.vc(1,u,3,1,"div",1),s.vc(2,g,9,8,"div",1),s.Ob()),2&t&&(s.zb(1),s.gc("ngForOf",e.weekDaysName),s.zb(1),s.gc("ngForOf",e.monthDays))},directives:[a.j,a.i,a.l],styles:[".calendar[_ngcontent-%COMP%]{display:grid;height:100%;width:100%;grid-template-columns:repeat(7,minmax(0,1fr));gap:.5rem;--tw-bg-opacity:1;background-color:rgba(247,247,254,var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.calendar[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(62,66,70,var(--tw-bg-opacity))}}.day[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:9999px}.day[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(217,217,217,var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.day[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(97,97,97,var(--tw-bg-opacity))}}@media (min-width:640px){.day[_ngcontent-%COMP%]{height:3rem;width:3rem;font-size:1.125rem;line-height:1.75rem}}@media (min-width:1024px){.day[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}}@media (min-width:1280px){.day[_ngcontent-%COMP%]{height:3.5rem;width:3.5rem}}.day-selected[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(217,217,217,var(--tw-bg-opacity))}.day-selected[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(97,97,97,var(--tw-bg-opacity))}.today[_ngcontent-%COMP%]{font-weight:700;--tw-text-opacity:1;color:rgba(26,117,159,var(--tw-text-opacity))}.today[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(26,117,159,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}.today-selected[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(26,117,159,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}.dot[_ngcontent-%COMP%]{position:relative;margin-left:.125rem;margin-right:.125rem;height:.25rem;width:.25rem;border-radius:9999px}@media (min-width:768px){.dot[_ngcontent-%COMP%]{height:.375rem;width:.375rem}}"]}),t})();var p=n("tFit");function w(t,e){1&t&&s.Lb(0)}function D(t,e){1&t&&s.Lb(0)}function v(t,e){if(1&t){const t=s.Qb();s.Pb(0,"button",18),s.Xb("click",function(){return s.rc(t),s.bc().calendar.onPreviousMonth()}),s.ac(),s.Pb(1,"svg",12),s.Kb(2,"path",13),s.Kb(3,"path",19),s.Ob(),s.Ob()}}const O=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}getAndShowDaySelectedInCalendar(t){this.daySelected=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-calendar"]],viewQuery:function(t,e){if(1&t&&s.Cc(f,1),2&t){let t;s.nc(t=s.Yb())&&(e.calendar=t.first)}},decls:22,vars:6,consts:[[1,"h-full","overflow-y-scroll","md:overflow-hidden","p-2","md:p-4","xl:p-20","2xl:p-40"],[1,"h-full","md:grid","md:grid-cols-12","md:grid-flow-col","gap-4"],[1,"md:row-span-4","md:col-span-8","h-auto","md:h-auto","my-4","md:m-0","bg-primary","dark:bg-primaryLightDark","rounded-lg","p-4","shadow-md"],[3,"daySelected"],[1,"md:col-span-4","h-auto","my-4","md:m-0","flex","flex-row","flex-wrap","content-center","shadow-md","bg-primary","dark:bg-primaryLightDark","rounded-lg","p-4"],[1,"md:hidden"],[4,"ngTemplateOutlet"],[1,"flex","flex-wrap","place-content-center","flex-grow","xl:max-h-16","md:w-full"],[1,"mb-2"],[1,"md:w-3/4","md:flex-grow","flex","place-content-center"],[1,"hidden","md:block","md:mr-2"],[1,"btn-rounded","btn-blue","md:mr-auto","md:ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px",1,"icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M9.31 6.71c-.39.39-.39 1.02 0 1.41L13.19 12l-3.88 3.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L10.72 6.7c-.38-.38-1.02-.38-1.41.01z"],[1,"md:row-span-3","md:col-span-4","h-auto","md:h-auto","my-4","md:m-0","shadow-md","bg-primary","dark:bg-primaryLightDark","rounded-lg","p-4"],[3,"trainingsDay","date"],["buttonPrevious",""],[1,"btn-rounded","btn-blue",3,"click"],["d","M14.91 6.71c-.39-.39-1.02-.39-1.41 0L8.91 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L11.03 12l3.88-3.88c.38-.39.38-1.03 0-1.41z"]],template:function(t,e){if(1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"app-custom-calendar",3),s.Xb("daySelected",function(t){return e.getAndShowDaySelectedInCalendar(t)}),s.Ob(),s.Ob(),s.Pb(4,"div",4),s.Pb(5,"div",5),s.vc(6,w,1,0,"ng-container",6),s.Ob(),s.Pb(7,"div",7),s.Pb(8,"p",8),s.xc(9),s.Ob(),s.Ob(),s.Pb(10,"div",9),s.Pb(11,"div",10),s.vc(12,D,1,0,"ng-container",6),s.Ob(),s.Pb(13,"div"),s.Pb(14,"button",11),s.Xb("click",function(){return e.calendar.onNextMonth()}),s.ac(),s.Pb(15,"svg",12),s.Kb(16,"path",13),s.Kb(17,"path",14),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Zb(),s.Pb(18,"div",15),s.Kb(19,"app-trainings-list",16),s.Ob(),s.Ob(),s.Ob(),s.vc(20,v,4,0,"ng-template",null,17,s.wc)),2&t){const t=s.oc(21);s.zb(6),s.gc("ngTemplateOutlet",t),s.zb(3),s.Ac(" ",null==e.calendar?null:e.calendar.calendarCreator.getMonthName(null==e.calendar?null:e.calendar.monthNumber)," \xa0 ",null==e.calendar?null:e.calendar.year," "),s.zb(3),s.gc("ngTemplateOutlet",t),s.zb(7),s.gc("trainingsDay",null==e.daySelected?null:e.daySelected.trainingsDay)("date",e.daySelected.getDate())}},directives:[f,a.p,p.a],styles:[".icon[_ngcontent-%COMP%]{margin:auto;height:2rem;width:2rem;fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[i.j.forChild(O)],i.j]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[a.c,o.g,c.e,M,r.a]]}),t})()}}]);
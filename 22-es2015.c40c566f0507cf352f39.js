(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{iKj1:function(e,t,s){"use strict";s.r(t),s.d(t,"EditPageModule",function(){return vt});var n=s("F3Cn"),i=s("ofXK"),r=s("3Pt+"),c=s("TEn/"),o=s("tyNb"),l=s("IzEk"),b=s("7Mzq"),a=s("fXoL"),u=s("gIeq"),d=s("ZOsW");function p(e,t){1&e&&(a.Pb(0,"div"),a.ac(),a.Pb(1,"svg",5),a.Kb(2,"path",6),a.Kb(3,"path",7),a.Ob(),a.Ob())}function f(e,t){1&e&&(a.ac(),a.Pb(0,"svg",5),a.Kb(1,"path",8),a.Kb(2,"path",9),a.Ob())}const g=[[["","header",""]],[["","body",""]]],m=function(e){return{hidden:e}},x=["[header]","[body]"];let h=(()=>{class e{constructor(){this.opened=!1,this.toggle=new a.o,this.alreadySubscribed=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-accordion-item"]],inputs:{itemCss:"itemCss",opened:"opened",title:"title"},outputs:{toggle:"toggle"},ngContentSelectors:x,decls:10,vars:6,consts:[[3,"ngClass"],[1,"flex","flex-row","justify-center"],[1,"cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["expandLess",""],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000"],["d","M0 0h24v24H0V0z","fill","none"],["d","M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"]],template:function(e,t){if(1&e&&(a.fc(g),a.Pb(0,"div",0),a.Pb(1,"div",1),a.ec(2),a.Pb(3,"div",2),a.Xb("click",function(){return t.toggle.emit()}),a.vc(4,p,4,0,"div",3),a.vc(5,f,3,0,"ng-template",null,4,a.wc),a.Ob(),a.Ob(),a.Pb(7,"div",0),a.ec(8,1),a.Ob(),a.Kb(9,"div"),a.Ob()),2&e){const e=a.oc(6);a.gc("ngClass",t.itemCss),a.zb(4),a.gc("ngIf",t.opened)("ngIfElse",e),a.zb(3),a.gc("ngClass",a.jc(4,m,!t.opened))}},directives:[i.i,i.k],styles:[""]}),e})();const v=["*"];let P=(()=>{class e{constructor(){}ngAfterContentInit(){this.updateAccordion(null)}updateAccordion(e){setTimeout(()=>{this.groups.toArray().forEach(e=>{e.alreadySubscribed||(e.toggle.subscribe(()=>{e.opened?e.opened=!1:this.openGroup(e)}),e.alreadySubscribed=!0)}),e&&e()},0)}openItem(e){this.groups.toArray().forEach(e=>e.opened=!1),this.groups.toArray()[e].opened=!0}openGroup(e){this.groups.toArray().forEach(e=>e.opened=!1),e.opened=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-accordion"]],contentQueries:function(e,t,s){if(1&e&&a.Cb(s,h,0),2&e){let e;a.nc(e=a.Yb())&&(t.groups=e)}},ngContentSelectors:v,decls:1,vars:0,template:function(e,t){1&e&&(a.fc(),a.ec(0))},styles:[""]}),e})(),w=(()=>{class e{constructor(e){this.formBuilder=e,this.exerciseSet=new a.o,this.set=this.set||new b.c}set exerciseSetToEdit(e){e&&0!==(null==e?void 0:e.setParts.length)&&(this.buildForm(),this.set=e,this.setPropertiesFormGroup.get("setsNumber").setValue(e.setsCount),this.setPropertiesFormGroup.get("restSecondsFinal").setValue(e.finalRest%60),this.setPropertiesFormGroup.get("restMinutesFinal").setValue(Math.trunc(e.finalRest/60)),this.setPropertiesFormGroup.get("restSecondsBetweenSet").setValue(e.setParts[e.setParts.length-1].rest%60),this.setPropertiesFormGroup.get("restMinutesBetweenSet").setValue(Math.trunc(e.setParts[e.setParts.length-1].rest/60)))}ngOnInit(){this.setPropertiesFormGroup||this.buildForm()}buildForm(){this.setPropertiesFormGroup=this.formBuilder.group({setsNumber:["",r.q.required],restSecondsFinal:[0,r.q.compose([r.q.required,r.q.min(0)])],restMinutesFinal:[0,r.q.compose([r.q.required,r.q.min(0)])],restSecondsBetweenSet:this.restBetweenExercises?null:[0,r.q.compose([r.q.required,r.q.min(0)])],restMinutesBetweenSet:this.restBetweenExercises?null:[0,r.q.compose([r.q.required,r.q.min(0)])]})}onSubmit(){this.addSetsCountToSet(),this.exerciseSet.emit(this.set)}addSetsCountToSet(){this.set.finalRest=this.setPropertiesFormGroup.get("restSecondsFinal").value+60*this.setPropertiesFormGroup.get("restMinutesFinal").value,this.set.setsCount=this.setPropertiesFormGroup.get("setsNumber").value;const e=this.set.setsCount,t=this.set.setParts;this.restBetweenExercises||this.setRestBetweenSets();for(let s=1;s<e;s++)this.set.setParts=this.set.setParts.concat(...t);console.log(this.set)}setRestBetweenSets(){}addSetPart(e,t){0===this.set.setParts.length?this.set.setParts.push(e):this.set.setParts[t]=e,this.accordion&&this.accordion.updateAccordion(null)}addNewSetPart(){this.set.setParts.push(new b.d),this.accordion.updateAccordion(()=>{this.accordion.openItem(this.set.setParts.length-1)})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&a.Cc(P,1),2&e){let e;a.nc(e=a.Yb())&&(t.accordion=e.first)}},inputs:{exerciseSetToEdit:"exerciseSetToEdit"},outputs:{exerciseSet:"exerciseSet"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class O{}class S{}class y{}var C=s("haYR"),F=s("AytR"),E=s("tk/3");let k=(()=>{class e{constructor(e){this.http=e,this.exercisesUrl=`${F.a.backendUrl}/exercises`}getExercisesNames(){return this.http.get(`${this.exercisesUrl}`)}getExercisesByName(e){return this.http.get(`${this.exercisesUrl}/by-name/${e}`)}getExerciseSpecs(e){return this.http.get(`${this.exercisesUrl}/${e}`)}saveExercise(e){this.http.put(`${this.exercisesUrl}`,e).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(E.b))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=s("iz14");function z(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",19),a.Kb(1,"input",20),a.Pb(2,"button",21),a.Xb("click",function(){a.rc(e);const s=t.index;return a.bc().deleteVariation(s)}),a.ac(),a.Pb(3,"svg",8),a.Kb(4,"path",9),a.Kb(5,"path",22),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=t.$implicit;a.zb(1),a.gc("formControl",e)}}function B(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",19),a.Kb(1,"input",20),a.Pb(2,"button",21),a.Xb("click",function(){a.rc(e);const s=t.index;return a.bc().deleteProgression(s)}),a.ac(),a.Pb(3,"svg",8),a.Kb(4,"path",9),a.Kb(5,"path",22),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=t.$implicit;a.zb(1),a.gc("formControl",e)}}let M=(()=>{class e{constructor(e,t,s){this.modalService=e,this.formBuilder=t,this.exercisesService=s,this.id="exercise-modal"}set exercise(e){}ngOnInit(){this.buildForm(new S)}buildForm(e){this.exerciseForm=this.formBuilder.group({name:[(null==e?void 0:e.name)||"",r.q.required],variations:this.formBuilder.array([]),progressions:this.formBuilder.array([]),muscleGroup:[(null==e?void 0:e.muscleGroup)||"",r.q.required],bodyWeight:[(null==e?void 0:e.bodyWeight)||!1],static:[(null==e?void 0:e.static)||!1]}),e&&(e.progressions&&(null==e||e.progressions.forEach(e=>{this.exerciseForm.get("progressions").push(this.formBuilder.control(e))})),e.variations&&(null==e||e.variations.forEach(e=>{this.exerciseForm.get("variations").push(this.formBuilder.control(e))})))}openModal(e,t){this.title=e,this.buildForm(t),this.modalService.open(this.id)}onModalClosed(){}closeModal(){this.modalService.close(this.id)}onSubmit(e){e.progressions=e.progressions.filter(e=>e),e.variations=e.variations.filter(e=>e),this.exercisesService.saveExercise(e),this.closeModal()}addVariation(){this.exerciseForm.get("variations").push(this.formBuilder.control(null))}deleteVariation(e){this.exerciseForm.get("variations").removeAt(e)}getVariationsFormControls(){return this.exerciseForm.get("variations").controls}addProgression(){this.exerciseForm.get("progressions").push(this.formBuilder.control(null))}deleteProgression(e){this.exerciseForm.get("progressions").removeAt(e)}getProgressionFormControls(){return this.exerciseForm.get("progressions").controls}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(C.a),a.Jb(r.c),a.Jb(k))},e.\u0275cmp=a.Db({type:e,selectors:[["app-exercise-modal"]],inputs:{exercise:"exercise"},decls:38,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[1,"flex","flex-col",3,"formGroup"],[1,"label","mt-4","mb-2"],["type","text","placeholder","name","formControlName","name",1,"input"],["type","text","placeholder","Muscle Group","formControlName","muscleGroup",1,"input"],["class","flex mb-2 items-center",4,"ngFor","ngForOf"],[1,"btn-rounded","btn-blue","mx-auto",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"flex","flex-col","items-center"],[1,"mt-4"],[1,"label","mr-2"],["type","checkbox","formControlName","bodyWeight",1,"checkBox","w-6","h-6"],["type","checkbox","formControlName","static",1,"checkBox","w-6","h-6"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"],[1,"flex","mb-2","items-center"],["type","text",1,"input","w-4/5",3,"formControl"],[1,"btn-rounded","btn-blue","w-8","h-8","ml-auto",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.xc(2),a.Ob(),a.Pb(3,"form",2),a.Pb(4,"label",3),a.xc(5,"Name"),a.Ob(),a.Kb(6,"input",4),a.Pb(7,"label",3),a.xc(8,"Muscle Group"),a.Ob(),a.Kb(9,"input",5),a.Pb(10,"label",3),a.xc(11,"Variations"),a.Ob(),a.vc(12,z,6,1,"div",6),a.Pb(13,"button",7),a.Xb("click",function(){return t.addVariation()}),a.ac(),a.Pb(14,"svg",8),a.Kb(15,"path",9),a.Kb(16,"path",10),a.Ob(),a.Ob(),a.Zb(),a.Pb(17,"label",3),a.xc(18,"Progressions"),a.Ob(),a.vc(19,B,6,1,"div",6),a.Pb(20,"button",7),a.Xb("click",function(){return t.addProgression()}),a.ac(),a.Pb(21,"svg",8),a.Kb(22,"path",9),a.Kb(23,"path",10),a.Ob(),a.Ob(),a.Zb(),a.Pb(24,"div",11),a.Pb(25,"div",12),a.Pb(26,"label",13),a.xc(27,"BodyWeight"),a.Ob(),a.Kb(28,"input",14),a.Ob(),a.Pb(29,"div",12),a.Pb(30,"label",13),a.xc(31,"Static"),a.Ob(),a.Kb(32,"input",15),a.Ob(),a.Ob(),a.Ob(),a.Pb(33,"div",16),a.Pb(34,"button",17),a.Xb("click",function(){return t.closeModal()}),a.xc(35,"Close"),a.Ob(),a.Pb(36,"button",18),a.Xb("click",function(){return t.onSubmit(t.exerciseForm.value)}),a.xc(37,"Accept"),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.gc("id",t.id),a.zb(2),a.zc("Exercise ",t.title,""),a.zb(1),a.gc("formGroup",t.exerciseForm),a.zb(9),a.gc("ngForOf",t.getVariationsFormControls()),a.zb(7),a.gc("ngForOf",t.getProgressionFormControls()),a.zb(17),a.gc("disabled",t.exerciseForm.invalid))},directives:[I.a,r.r,r.l,r.g,r.b,r.k,r.f,i.j,r.a,r.e],styles:[""]}),e})();function K(e,t){1&e&&a.Kb(0,"div",13)}function G(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",10),a.Pb(1,"div",11),a.Xb("click",function(){a.rc(e);const s=t.$implicit;return a.bc().onExerciseClicked(s)}),a.xc(2),a.Ob(),a.vc(3,K,1,0,"div",12),a.Ob()}if(2&e){const e=t.$implicit,s=t.last;a.zb(2),a.zc(" ",e.name," "),a.zb(1),a.gc("ngIf",!s)}}let N=(()=>{class e extends class{constructor(e){this.modalServ=e}openModal(){this.modalServ.open(this.id)}closeModal(){this.modalServ.close(this.id)}}{constructor(e,t){super(e),this.modalService=e,this.exercisesService=t,this.exerciseSelected=new a.o,this.id=`exercise-search-modal-${Math.random()}`,this.exerciseName=new r.d}ngOnInit(){}onSearchChanges(){this.exercisesService.getExercisesByName(this.exerciseName.value).pipe(Object(l.a)(1)).subscribe(e=>{this.exerciseList=e})}onExerciseClicked(e){this.exerciseSelected.next(e),this.closeModal()}onModalClosed(){this.exerciseList=null}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(C.a),a.Jb(k))},e.\u0275cmp=a.Db({type:e,selectors:[["app-exercise-search-modal"]],outputs:{exerciseSelected:"exerciseSelected"},features:[a.wb],decls:12,vars:3,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[1,"w-full","my-2","h-px","bg-gray","dark:bg-grayLight"],[1,"flex","gap-2","h-10"],[1,"input","flex-grow",3,"formControl","change"],[1,"btn","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","m-auto","w-6","h-6"],["d","M0 0h24v24H0V0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],["class","w-full cursor-pointer",4,"ngFor","ngForOf"],[1,"w-full","cursor-pointer"],[1,"w-full",3,"click"],["class","flex-grow h-px bg-gray dark:bg-grayLight my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight","my-1"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.xc(2,"Exercise search"),a.Ob(),a.Kb(3,"div",2),a.Pb(4,"div",3),a.Pb(5,"input",4),a.Xb("change",function(){return t.onSearchChanges()}),a.Ob(),a.Pb(6,"button",5),a.Xb("click",function(){return t.onSearchChanges()}),a.ac(),a.Pb(7,"svg",6),a.Kb(8,"path",7),a.Kb(9,"path",8),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(10,"div"),a.vc(11,G,4,2,"div",9),a.Ob(),a.Ob()),2&e&&(a.gc("id",t.id),a.zb(5),a.gc("formControl",t.exerciseName),a.zb(6),a.gc("ngForOf",t.exerciseList))},directives:[I.a,r.b,r.k,r.e,i.j,i.k],styles:[""]}),e})();function T(e,t){if(1&e&&(a.Pb(0,"div"),a.xc(1),a.Ob()),2&e){const e=a.bc();a.zb(1),a.yc(e.exerciseSelectedElement.name)}}function q(e,t){1&e&&(a.Pb(0,"button",14),a.xc(1,"Select an exercise"),a.Ob())}function V(e,t){if(1&e&&(a.Pb(0,"div",20),a.xc(1),a.cc(2,"titlecase"),a.Ob()),2&e){const e=t.item;a.zb(1),a.yc(a.dc(2,1,e))}}function X(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",0),a.Pb(1,"label",15),a.xc(2,"Progression"),a.Ob(),a.Pb(3,"div",16),a.Pb(4,"ng-select",17,18),a.Xb("ngModelChange",function(t){return a.rc(e),a.bc().onProgressionChange(t)}),a.vc(6,V,3,3,"ng-template",19),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.zb(4),a.gc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.progressions)("ngModel",e.exerciseSelectedProgression)}}function j(e,t){if(1&e&&(a.Pb(0,"div",20),a.xc(1),a.cc(2,"titlecase"),a.Ob()),2&e){const e=t.item;a.zb(1),a.yc(a.dc(2,1,e))}}function R(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",0),a.Pb(1,"label",21),a.xc(2,"Variation"),a.Ob(),a.Pb(3,"div",16),a.Pb(4,"ng-select",17,22),a.Xb("ngModelChange",function(t){return a.rc(e),a.bc().onVariationChange(t)}),a.vc(6,j,3,3,"ng-template",19),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.zb(4),a.gc("items",null==e.exerciseSelectedSpecs?null:e.exerciseSelectedSpecs.variations)("ngModel",e.exerciseSelectedVariation)}}let A=(()=>{class e{constructor(e){this.exercisesService=e,this.exerciseSelected=new a.o}set exercise(e){e&&(this.exerciseSelectedElement=new y,this.exerciseSelectedElement.id=e.specsId,this.exerciseSelectedElement.name=e.name,this.exerciseSelectedName=e.name,this.exerciseSelectedProgression=e.progression,this.exerciseSelectedVariation=e.variation,this.getExerciseFromAPI(e.specsId))}ngOnInit(){this.getExerciseListFromAPI()}onSelectExerciseClicked(){this.exerciseSearchModal.openModal()}onExerciseSelected(e){this.exerciseSelectedElement=e,this.onExerciseNameSelectedChange(e)}onExerciseNameSelectedChange(e){this.resetFormValues(),e&&this.getExerciseFromAPI(e.id)}onProgressionChange(e){this.exerciseSelectedProgression=e,this.validateForm()}onVariationChange(e){this.exerciseSelectedVariation=e,this.validateForm()}formIsValid(){var e,t;const s=(null===(e=this.exerciseSelectedSpecs)||void 0===e?void 0:e.progressions.length)>0,n=(null===(t=this.exerciseSelectedSpecs)||void 0===t?void 0:t.variations.length)>0;return!(s&&null==this.exerciseSelectedProgression||n&&null==this.exerciseSelectedVariation)}resetFormValues(){this.exerciseSelectedProgression=null,this.exerciseSelectedVariation=null}validateForm(){this.formIsValid()?this.onValidForm():this.onInvalidForm()}onValidForm(){this.exerciseSelected.emit(this.getExerciseFormObject())}onInvalidForm(){this.exerciseSelected.emit(null)}getExerciseFormObject(){const e=new O;return e.name=this.exerciseSelectedSpecs.name,e.progression=this.exerciseSelectedProgression,e.variation=this.exerciseSelectedVariation,e.bodyWeight=this.exerciseSelectedSpecs.bodyWeight,e.static=this.exerciseSelectedSpecs.static,e.muscleGroup=this.exerciseSelectedSpecs.muscleGroup,e.specsId=this.exerciseSelectedSpecs.id,e}getExerciseFromAPI(e){e&&this.exercisesService.getExerciseSpecs(e).subscribe(e=>{this.exerciseSelectedSpecs=e,this.validateForm()})}getExerciseListFromAPI(){this.exercisesService.getExercisesNames().subscribe(e=>{this.exercises=e})}onAddNewExerciseClicked(){this.exerciseModal.openModal("creation",null)}onEditExerciseClicked(){this.exerciseModal.openModal("edition",this.exerciseSelectedSpecs)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(k))},e.\u0275cmp=a.Db({type:e,selectors:[["app-exercise-selection"]],viewQuery:function(e,t){if(1&e&&(a.Cc(N,1),a.Cc(M,1)),2&e){let e;a.nc(e=a.Yb())&&(t.exerciseSearchModal=e.first),a.nc(e=a.Yb())&&(t.exerciseModal=e.first)}},inputs:{exercise:"exercise"},outputs:{exerciseSelected:"exerciseSelected"},decls:20,vars:5,consts:[[1,"flex","flex-row","items-center","my-4"],["for","name",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5","cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["noExerciseSelected",""],[3,"exerciseSelected"],[1,"ml-auto","flex","w-3/5","justify-center","gap-4"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-6","h-6"],["d","M0 0h24v24H0z","fill","none"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"exercise"],["class","flex flex-row items-center my-4",4,"ngIf"],[1,"btn","btn-blue","w-full","text-center"],["for","progression",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5"],[1,"input","w-full",3,"items","ngModel","ngModelChange"],["selectProgression",""],["ng-option-tmp",""],[1,"input","m-px"],["for","variation",1,"label","mr-4","flex-grow"],["selectVariation",""]],template:function(e,t){if(1&e&&(a.Pb(0,"div",0),a.Pb(1,"label",1),a.xc(2,"Exercise"),a.Ob(),a.Pb(3,"div",2),a.Xb("click",function(){return t.onSelectExerciseClicked()}),a.vc(4,T,2,1,"div",3),a.vc(5,q,2,0,"ng-template",null,4,a.wc),a.Pb(7,"app-exercise-search-modal",5),a.Xb("exerciseSelected",function(e){return t.onExerciseSelected(e)}),a.Ob(),a.Ob(),a.Ob(),a.Pb(8,"div",6),a.Pb(9,"button",7),a.Xb("click",function(){return t.onEditExerciseClicked()}),a.ac(),a.Pb(10,"svg",8),a.Kb(11,"path",9),a.Kb(12,"path",10),a.Ob(),a.Ob(),a.Zb(),a.Pb(13,"button",7),a.Xb("click",function(){return t.onAddNewExerciseClicked()}),a.ac(),a.Pb(14,"svg",8),a.Kb(15,"path",9),a.Kb(16,"path",11),a.Ob(),a.Ob(),a.Zb(),a.Kb(17,"app-exercise-modal",12),a.Ob(),a.vc(18,X,7,2,"div",13),a.vc(19,R,7,2,"div",13)),2&e){const e=a.oc(6);a.zb(4),a.gc("ngIf",t.exerciseSelectedElement)("ngIfElse",e),a.zb(13),a.gc("exercise",t.exerciseSelectedSpecs),a.zb(1),a.gc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.progressions.length)>0),a.zb(1),a.gc("ngIf",(null==t.exerciseSelectedSpecs?null:t.exerciseSelectedSpecs.variations.length)>0)}},directives:[i.k,N,M,d.a,r.k,r.m,d.c],pipes:[i.s],styles:[""]}),e})(),L=(()=>{class e{constructor(e){this.http=e,this.halfUseMultiplier=.5,this.oneEndMultiplier=.5,this.bandsUrl=`${F.a.backendUrl}/users/bands`}getUserBands(){return this.http.get(`${this.bandsUrl}/`)}saveBand(e){return this.http.put(`${this.bandsUrl}/`,e)}getBandResistance(e,t,s){return t||(s=!1),e.weight*(t?1:this.halfUseMultiplier)*(s?1:this.oneEndMultiplier)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(E.b))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=s("zwmB");let Q=(()=>{class e{constructor(e,t,s){this.modalService=e,this.formBuilder=t,this.bandsService=s,this.band=new a.o,this.id="bands-creation-modal"}ngOnInit(){this.buildForm()}buildForm(){this.bandForm=this.formBuilder.group({weight:["",r.q.compose([r.q.required,r.q.max(100),r.q.min(1)])]}),this.colorForm=new r.d("",r.q.required)}openModal(){this.buildForm(),this.modalService.open(this.id)}closeModal(){this.modalService.close(this.id)}onModalClosed(){}onSubmit(){const e=new b.a;e.color=this.colorForm.value,e.weight=this.bandForm.value.weight,this.bandsService.saveBand(e).subscribe(e=>{this.band.next(e)}),this.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(C.a),a.Jb(r.c),a.Jb(L))},e.\u0275cmp=a.Db({type:e,selectors:[["app-bands-creation-modal"]],outputs:{band:"band"},decls:17,vars:4,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[3,"formGroup"],[1,"flex","flex-col","justify-items-center","mt-4"],[1,"label","mb-2"],["type","number","placeholder","weight","formControlName","weight",1,"input"],[1,"flex","justify-center","items-center","gap-2","mt-4"],[1,"label"],["ngx-colors-trigger","",3,"formControl"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.xc(2,"New training"),a.Ob(),a.Pb(3,"form",2),a.Pb(4,"div",3),a.Pb(5,"label",4),a.xc(6,"Max band resistance (kg)"),a.Ob(),a.Kb(7,"input",5),a.Pb(8,"div",6),a.Pb(9,"label",7),a.xc(10,"Color"),a.Ob(),a.Kb(11,"ngx-colors",8),a.Ob(),a.Ob(),a.Ob(),a.Pb(12,"div",9),a.Pb(13,"button",10),a.Xb("click",function(){return t.closeModal()}),a.xc(14,"Close"),a.Ob(),a.Pb(15,"button",11),a.Xb("click",function(){return t.onSubmit()}),a.xc(16,"Accept"),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.gc("id",t.id),a.zb(3),a.gc("formGroup",t.bandForm),a.zb(8),a.gc("formControl",t.colorForm),a.zb(4),a.gc("disabled",t.bandForm.invalid||t.colorForm.invalid))},directives:[I.a,r.r,r.l,r.g,r.n,r.b,r.k,r.f,D.a,D.c,r.e],styles:[""]}),e})();function J(e,t){1&e&&(a.Pb(0,"div"),a.Pb(1,"p",17),a.xc(2," You don't have any bands,"),a.Ob(),a.Pb(3,"p",18),a.xc(4,'press the "+" button to add a new one'),a.Ob(),a.Ob())}function U(e,t){1&e&&(a.Pb(0,"div",19),a.Pb(1,"p",20),a.xc(2,"Color"),a.Ob(),a.Pb(3,"p",20),a.xc(4,"Resistance"),a.Ob(),a.Ob())}function $(e,t){1&e&&a.Kb(0,"div",26)}const W=function(e){return{"background-color":e}};function H(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",21),a.Pb(1,"button",22),a.Xb("click",function(){a.rc(e);const s=t.$implicit;return a.bc().onBandClicked(s)}),a.Pb(2,"div",20),a.Kb(3,"div",23),a.Ob(),a.Pb(4,"p",24),a.xc(5),a.Ob(),a.Ob(),a.vc(6,$,1,0,"div",25),a.Ob()}if(2&e){const e=t.$implicit,s=t.last;a.zb(3),a.gc("ngStyle",a.jc(3,W,e.color)),a.zb(2),a.zc("",e.weight," Kg"),a.zb(1),a.gc("ngIf",!s)}}function Y(e,t){1&e&&(a.Pb(0,"p",45),a.xc(1,"Maximum band resistance exceeded"),a.Ob())}function Z(e,t){1&e&&(a.Pb(0,"p",45),a.xc(1,"You cannot put a negative value"),a.Ob())}function _(e,t){if(1&e&&(a.Pb(0,"div"),a.vc(1,Y,2,0,"p",43),a.vc(2,Z,2,0,"ng-template",null,44,a.wc),a.Ob()),2&e){const e=a.oc(3),t=a.bc(2);a.zb(1),a.gc("ngIf",t.bandForm.get("weight").value>0)("ngIfElse",e)}}const ee=function(e){return{"input-invalid":e}};function te(e,t){if(1&e&&(a.Pb(0,"form",27),a.Pb(1,"div",28),a.Pb(2,"div",29),a.Pb(3,"div",30),a.Kb(4,"div",31),a.Ob(),a.Pb(5,"div",32),a.Kb(6,"input",33),a.Pb(7,"p",18),a.xc(8,"Kg"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.vc(9,_,4,2,"div",10),a.Pb(10,"div",34),a.Pb(11,"p",35),a.xc(12,"Whole band used?"),a.Ob(),a.Pb(13,"div",36),a.Kb(14,"input",37),a.Pb(15,"p",38),a.xc(16,"Full"),a.Ob(),a.Kb(17,"input",39),a.Pb(18,"p",40),a.xc(19,"Half"),a.Ob(),a.Ob(),a.Pb(20,"p",35),a.xc(21,"Band ends"),a.Ob(),a.Pb(22,"div",36),a.Kb(23,"input",41),a.Pb(24,"p",38),a.xc(25,"One"),a.Ob(),a.Kb(26,"input",42),a.Pb(27,"p",40),a.xc(28,"Two"),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc();a.gc("formGroup",e.bandForm),a.zb(4),a.gc("ngStyle",a.jc(4,W,e.band.color)),a.zb(2),a.gc("ngClass",a.jc(6,ee,!e.bandForm.get("weight").valid&&e.bandForm.get("weight").touched)),a.zb(3),a.gc("ngIf",!e.bandForm.get("weight").valid)}}let se=(()=>{class e{constructor(e,t,s){this.modalService=e,this.bandsService=t,this.formBuilder=s,this.bandSelected=new a.o,this.id="bands-selection-modal"}ngOnInit(){this.getBands()}getBands(){this.bandsService.getUserBands().subscribe(e=>{this.bands=e})}onBandClicked(e){this.band=e,this.bandForm=this.formBuilder.group({weight:[e.weight,r.q.compose([r.q.required,r.q.max(e.weight),r.q.min(0)])],use:["full"],ends:["two"]})}onAddNewBandClicked(){this.bandModal.openModal()}onSubmit(){const e=new b.b;e.color=this.band.color,this.calculateBandResistance(e),this.bandSelected.emit(e),this.closeModal()}calculateBandResistance(e){if(this.bandForm.get("weight").value!==this.band.weight)e.weight=this.bandForm.get("weight").value;else{const t="full"===this.bandForm.get("use").value,s="two"===this.bandForm.get("ends").value;e.weight=this.bandsService.getBandResistance(this.band,t,s),e.fullUse=t,e.twoEnds=s}}openModal(){this.modalService.open(this.id)}closeModal(){this.onModalClosed(),this.modalService.close(this.id)}onModalClosed(){this.bandForm=null}addBandCreated(e){this.bands.push(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(C.a),a.Jb(L),a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-bands-selection-modal"]],viewQuery:function(e,t){if(1&e&&a.Cc(Q,1),2&e){let e;a.nc(e=a.Yb())&&(t.bandModal=e.first)}},outputs:{bandSelected:"bandSelected"},decls:20,vars:6,consts:[[3,"id","closeEvent"],[1,"text-xl","font-semibold","dark:text-textPrimaryDark"],[1,"flex","flex-row","items-center","my-2"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight"],[1,"btn-rounded","btn-blue",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px",1,"icon"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"w-2","h-px","bg-gray","dark:bg-grayLight"],[3,"band"],[4,"ngIf"],["class","flex flex-row gap-8 text-lg font-semibold text-textPrimary dark:text-textPrimaryDark",4,"ngIf"],["class","w-full",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"flex","justify-end","w-64","mt-4"],[1,"btn-transparent","mr-4",3,"click"],[1,"btn-transparent",3,"disabled","click"],[1,"text","text-center"],[1,"text"],[1,"flex","flex-row","gap-8","text-lg","font-semibold","text-textPrimary","dark:text-textPrimaryDark"],[1,"flex-grow"],[1,"w-full"],[1,"flex","flex-row","gap-8","p-2","rounded-md","w-full",3,"click"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],[1,"flex-grow","text"],["class","flex-grow h-px bg-gray dark:bg-grayLight my-1",4,"ngIf"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight","my-1"],[3,"formGroup"],[1,"flex"],[1,"flex","mx-auto","mt-4","items-center"],[1,"mr-4"],[1,"btn-rounded","w-7","h-7",3,"ngStyle"],[1,"flex","flex-row","items-center","justify-end"],["formControlName","weight","type","number",1,"input","w-14","text-center","mr-1",3,"ngClass"],[1,"flex","flex-col","justify-center","items-center","mt-2"],[1,"label"],[1,"flex","flex-row","items-center","mt-2"],["formControlName","use","type","radio","value","full",1,"radioButton","w-6","h-6"],[1,"ml-2","mr-4","text"],["formControlName","use","type","radio","value","half",1,"radioButton","w-6","h-6"],[1,"ml-2","text"],["formControlName","ends","type","radio","value","one",1,"radioButton","w-6","h-6"],["formControlName","ends","type","radio","value","two",1,"radioButton","w-6","h-6"],["class","text-red-500 text-base font-bold text-center",4,"ngIf","ngIfElse"],["negativeValue",""],[1,"text-red-500","text-base","font-bold","text-center"]],template:function(e,t){1&e&&(a.Pb(0,"jw-modal",0),a.Xb("closeEvent",function(){return t.onModalClosed()}),a.Pb(1,"h1",1),a.xc(2,"Band selection"),a.Ob(),a.Pb(3,"div",2),a.Kb(4,"div",3),a.Pb(5,"button",4),a.Xb("click",function(){return t.onAddNewBandClicked()}),a.ac(),a.Pb(6,"svg",5),a.Kb(7,"path",6),a.Kb(8,"path",7),a.Ob(),a.Ob(),a.Zb(),a.Kb(9,"div",8),a.Pb(10,"app-bands-creation-modal",9),a.Xb("band",function(e){return t.addBandCreated(e)}),a.Ob(),a.Ob(),a.vc(11,J,5,0,"div",10),a.vc(12,U,5,0,"div",11),a.vc(13,H,7,5,"div",12),a.vc(14,te,29,8,"form",13),a.Pb(15,"div",14),a.Pb(16,"button",15),a.Xb("click",function(){return t.closeModal()}),a.xc(17,"Close"),a.Ob(),a.Pb(18,"button",16),a.Xb("click",function(){return t.onSubmit()}),a.xc(19,"Accept"),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.gc("id",t.id),a.zb(11),a.gc("ngIf",!t.bands||0==t.bands.length),a.zb(1),a.gc("ngIf",t.bands&&t.bands.length>0),a.zb(1),a.gc("ngForOf",t.bands),a.zb(1),a.gc("ngIf",t.bandForm),a.zb(4),a.gc("disabled",!t.bandForm||t.bandForm.invalid))},directives:[I.a,Q,i.k,i.j,i.l,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,r.o],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})(),ne=(()=>{class e{constructor(){}getWeight(){return 50}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ie(e,t){1&e&&(a.Pb(0,"label",32),a.xc(1,"Seconds"),a.Ob())}function re(e,t){1&e&&(a.Pb(0,"label",32),a.xc(1,"Reps"),a.Ob())}const ce=function(e){return{"input-invalid":e}};function oe(e,t){if(1&e&&(a.Pb(0,"div",33),a.Pb(1,"label",34),a.xc(2,"Rest"),a.Ob(),a.Pb(3,"div",35),a.Kb(4,"input",36),a.Pb(5,"p",37),a.xc(6,":"),a.Ob(),a.Kb(7,"input",38),a.Ob(),a.Ob()),2&e){const e=a.bc();a.zb(4),a.gc("ngClass",a.jc(2,ce,!e.setFormGroup.get("restMinutes").valid&&e.setFormGroup.get("restMinutes").touched)),a.zb(3),a.gc("ngClass",a.jc(4,ce,!e.setFormGroup.get("restSeconds").valid&&e.setFormGroup.get("restSeconds").touched))}}const le=function(e){return{"background-color":e}},be=function(e){return{"opacity-70":e}};let ae=(()=>{class e{constructor(e,t,s){this.formBuilder=e,this.userStats=t,this.changeDetector=s,this.setPart=new a.o}set exerciseSetter(e){console.log(e),this.exercise=e,this.buildForm(null)}set setPartToEdit(e){var t;e&&((null==e?void 0:e.exercise)&&(this.exercise=e.exercise),(null===(t=null==e?void 0:e.intensity)||void 0===t?void 0:t.band)&&(this.bandUsed=e.intensity.band),this.buildForm(e),this.changeDetector.detectChanges())}ngOnChanges(e){e.restBetweenExercises.currentValue!==e.restBetweenExercises.previousValue&&this.buildForm(null)}ngOnInit(){this.setFormGroup||this.buildForm(null)}buildForm(e){var t,s;const n=this.getFormValues(e);this.setFormGroup=this.formBuilder.group({weight:[n.weight,r.q.compose([(null===(t=this.exercise)||void 0===t?void 0:t.bodyWeight)?null:r.q.required,r.q.min(1)])],weightResistanceType:[{value:n.weightResistanceType,disabled:!(null===(s=this.exercise)||void 0===s?void 0:s.bodyWeight)}],bandWeight:[{value:n.bandWeight,disabled:!0}],bandResistanceType:[n.bandResistanceType],reps:[n.reps,r.q.compose([r.q.required,r.q.min(1)])],restSeconds:this.restBetweenExercises?[n.restSeconds,r.q.compose([r.q.required,r.q.min(0)])]:null,restMinutes:this.restBetweenExercises?[n.restMinutes,r.q.compose([r.q.required,r.q.min(0)])]:null})}getFormValues(e){return new ue(e,this.userStats.getWeight())}onAddBandClicked(){this.bandsModal.openModal()}getBandUsedFromModal(e){this.bandUsed=e,this.setFormGroup.get("bandWeight").setValue(this.bandUsed.weight)}onSubmit(e){if(this.setFormGroup.invalid)return;const t=new b.d;t.exercise=this.exercise,t.quantity=e.reps,(null==e?void 0:e.restMinutes)&&(null==e?void 0:e.restSeconds)&&(t.rest=60*e.restMinutes+e.restSeconds),t.intensity=new b.e,this.bandUsed&&(this.bandUsed.weight*="assistance"===e.bandResistanceType?-1:1,t.intensity.band=this.bandUsed),e.weight*="assistance"===e.weightResistanceType?-1:1,e.weight+=this.exercise.bodyWeight?this.userStats.getWeight():0,t.intensity.weight=e.weight,this.setPart.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c),a.Jb(ne),a.Jb(a.i))},e.\u0275cmp=a.Db({type:e,selectors:[["app-set-properties-selection"]],viewQuery:function(e,t){if(1&e&&a.Cc(se,1),2&e){let e;a.nc(e=a.Yb())&&(t.bandsModal=e.first)}},inputs:{exerciseSetter:"exerciseSetter",restBetweenExercises:"restBetweenExercises",setPartToEdit:"setPartToEdit"},outputs:{setPart:"setPart"},features:[a.xb],decls:60,vars:17,consts:[[1,"flex","flex-col",3,"formGroup","ngSubmit"],[1,"flex-grow","h-px","bg-gray","dark:bg-grayLight","my-4"],[1,"flex","flex-col"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-wrap","flex-grow","items-center","gap-2"],[1,"flex"],["for","weight",1,"label","h-6"],[1,"w-6","h-6"],[1,"flex","flex-row","items-center","gap-2"],["formControlName","weight","placeholder","0","type","number",1,"input","w-20","text-center",3,"ngClass"],[1,"flex","flex-col","gap-2","w-2/5"],[1,"mr-2","text","flex-grow"],["type","radio","formControlName","weightResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","weightResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-wrap","flex-grow","items-center","content-center","gap-2"],[1,"label"],[1,"btn-rounded","btn-blue","p-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","16px","viewBox","0 0 24 24","width","16px",1,"icon"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[3,"bandSelected"],["formControlName","bandWeight","placeholder","0","type","number",1,"input","w-20","text-center","opacity-50"],[1,"btn-rounded","w-6","h-6",3,"ngStyle"],["type","radio","formControlName","bandResistanceType","value","ballast",1,"radioButton","w-6","h-6"],["type","radio","formControlName","bandResistanceType","value","assistance",1,"radioButton","w-6","h-6"],[1,"flex","flex-row","flex-grow","items-center","gap-2"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["class","label mb-2","for","reps",4,"ngIf","ngIfElse"],["seconds",""],["formControlName","reps","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],["type","submit",1,"btn","btn-blue","w-full","mx-auto","my-4",3,"disabled","ngClass"],["for","reps",1,"label","mb-2"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutes","placeholder","0","type","number",1,"input","w-12","text-center",3,"ngClass"],[1,"text-xl","font-bold"],["formControlName","restSeconds","placeholder","0","type","number",1,"input","w-16","text-center",3,"ngClass"]],template:function(e,t){if(1&e&&(a.Pb(0,"form",0),a.Xb("ngSubmit",function(){return t.onSubmit(t.setFormGroup.value)}),a.Pb(1,"div"),a.Kb(2,"div",1),a.Pb(3,"div",2),a.Pb(4,"div",3),a.Pb(5,"div",4),a.Pb(6,"div",5),a.Pb(7,"label",6),a.xc(8,"Weight"),a.Ob(),a.Kb(9,"div",7),a.Ob(),a.Pb(10,"div",8),a.Kb(11,"input",9),a.Pb(12,"p"),a.xc(13,"Kg"),a.Ob(),a.Kb(14,"div",7),a.Ob(),a.Ob(),a.Pb(15,"div",10),a.Pb(16,"div",5),a.Pb(17,"p",11),a.xc(18,"Ballast"),a.Ob(),a.Kb(19,"input",12),a.Ob(),a.Pb(20,"div",5),a.Pb(21,"p",11),a.xc(22,"Assistance"),a.Ob(),a.Kb(23,"input",13),a.Ob(),a.Ob(),a.Ob(),a.Kb(24,"div",1),a.Pb(25,"div",14),a.Pb(26,"div",4),a.Pb(27,"div",8),a.Pb(28,"label",15),a.xc(29,"Band"),a.Ob(),a.Pb(30,"button",16),a.Xb("click",function(){return t.onAddBandClicked()}),a.ac(),a.Pb(31,"svg",17),a.Kb(32,"path",18),a.Kb(33,"path",19),a.Ob(),a.Ob(),a.Zb(),a.Pb(34,"app-bands-selection-modal",20),a.Xb("bandSelected",function(e){return t.getBandUsedFromModal(e)}),a.Ob(),a.Ob(),a.Pb(35,"div",8),a.Kb(36,"input",21),a.Pb(37,"p"),a.xc(38,"Kg"),a.Ob(),a.Kb(39,"div",22),a.Ob(),a.Ob(),a.Pb(40,"div",10),a.Pb(41,"div",5),a.Pb(42,"p",11),a.xc(43,"Resistance"),a.Ob(),a.Kb(44,"input",23),a.Ob(),a.Pb(45,"div",5),a.Pb(46,"p",11),a.xc(47,"Assistance"),a.Ob(),a.Kb(48,"input",24),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Kb(49,"div",1),a.Pb(50,"div",25),a.Pb(51,"div",26),a.Pb(52,"div"),a.vc(53,ie,2,0,"label",27),a.vc(54,re,2,0,"ng-template",null,28,a.wc),a.Ob(),a.Kb(56,"input",29),a.Ob(),a.vc(57,oe,8,6,"div",30),a.Ob(),a.Pb(58,"button",31),a.xc(59,"Confirm"),a.Ob(),a.Ob()),2&e){const e=a.oc(55);a.gc("formGroup",t.setFormGroup),a.zb(11),a.gc("ngClass",a.jc(9,ce,!t.setFormGroup.get("weight").valid&&t.setFormGroup.get("weight").touched)),a.zb(28),a.gc("ngStyle",a.jc(11,le,null==t.bandUsed?null:t.bandUsed.color)),a.zb(14),a.gc("ngIf",null==t.exercise?null:t.exercise.static)("ngIfElse",e),a.zb(3),a.gc("ngClass",a.jc(13,ce,!t.setFormGroup.get("reps").valid&&t.setFormGroup.get("reps").touched)),a.zb(1),a.gc("ngIf",t.restBetweenExercises),a.zb(1),a.gc("disabled",t.setFormGroup.invalid)("ngClass",a.jc(15,be,t.setFormGroup.invalid))}},directives:[r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,r.o,se,i.l,i.k],styles:[""]}),e})();class ue{constructor(e,t){this.setDefaultValues(),e&&this.setSetPartValues(e,t)}setSetPartValues(e,t){var s,n;if(null===(s=null==e?void 0:e.intensity)||void 0===s?void 0:s.weight){let s=e.intensity.weight;e.exercise.bodyWeight&&(s-=t),this.weight=Math.abs(s).toString(),this.weightResistanceType=s<0?"assistance":"ballast"}if((null===(n=null==e?void 0:e.intensity)||void 0===n?void 0:n.band)&&(this.bandWeight=Math.abs(e.intensity.band.weight),this.bandResistanceType=e.intensity.band.weight<0?"assistance":"ballast"),(null==e?void 0:e.quantity)&&(this.reps=e.quantity.toString()),null==e?void 0:e.rest){const t=e.rest;this.restMinutes=Math.trunc(t/60),this.restSeconds=t%60}}setDefaultValues(){this.setDefaultWeightValues(),this.setDefaultRepsValue(),this.setDefaultRestValues()}setDefaultWeightValues(){this.weightResistanceType="ballast",this.weight="",this.bandWeight=0,this.bandResistanceType="assistance"}setDefaultRepsValue(){this.reps=""}setDefaultRestValues(){this.restSeconds=30,this.restMinutes=1}}function de(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-set-properties-selection",2),a.Xb("setPart",function(t){return a.rc(e),a.bc().addSetPart(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.zb(1),a.gc("exerciseSetter",e.exerciseSelected)("setPartToEdit",e.setPartToEdit)("restBetweenExercises",e.restBetweenExercises)}}let pe=(()=>{class e{constructor(){this.setPart=new a.o}ngOnInit(){}setExerciseSelected(e){this.exerciseSelected=e}addSetPart(e){this.setPart.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-set-selection"]],inputs:{setPartToEdit:"setPartToEdit",restBetweenExercises:"restBetweenExercises"},outputs:{setPart:"setPart"},decls:2,vars:2,consts:[[3,"exercise","exerciseSelected"],[4,"ngIf"],[3,"exerciseSetter","setPartToEdit","restBetweenExercises","setPart"]],template:function(e,t){1&e&&(a.Pb(0,"app-exercise-selection",0),a.Xb("exerciseSelected",function(e){return t.setExerciseSelected(e)}),a.Ob(),a.vc(1,de,2,3,"div",1)),2&e&&(a.gc("exercise",null==t.setPartToEdit?null:t.setPartToEdit.exercise),a.zb(1),a.gc("ngIf",t.exerciseSelected))},directives:[A,i.k,ae],styles:[""]}),e})();function fe(e,t){if(1&e&&(a.Pb(0,"div",8),a.xc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Ac("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function ge(e,t){1&e&&a.Lb(0,9)}const me=function(e,t){return{index:e,setPart:t}};function xe(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",5),a.vc(1,fe,2,2,"div",6),a.vc(2,ge,1,0,"ng-container",7),a.Ob()),2&e){const e=t.$implicit,s=t.index;a.bc(2);const n=a.oc(2);a.gc("itemCss","card my-4"),a.zb(1),a.gc("ngIf",e.exercise),a.zb(1),a.gc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.kc(4,me,s,e))}}function he(e,t){1&e&&(a.Pb(0,"div",15),a.Pb(1,"label",16),a.xc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",17),a.Kb(4,"input",21),a.Pb(5,"p",19),a.xc(6,":"),a.Ob(),a.Kb(7,"input",22),a.Ob(),a.Ob())}const ve=function(e){return{"input-invalid":e}};function Pe(e,t){if(1&e&&(a.Pb(0,"form",10),a.Pb(1,"div",11),a.Pb(2,"div"),a.Pb(3,"label",12),a.xc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",13),a.Ob(),a.vc(6,he,8,0,"div",14),a.Pb(7,"div",15),a.Pb(8,"label",16),a.xc(9,"Final rest"),a.Ob(),a.Pb(10,"div",17),a.Kb(11,"input",18),a.Pb(12,"p",19),a.xc(13,":"),a.Ob(),a.Kb(14,"input",20),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.gc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.gc("ngClass",a.jc(3,ve,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.gc("ngIf",!e.restBetweenExercises)}}function we(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc(2).addNewSetPart()}),a.xc(1,"Add exercise"),a.Ob()}}function Oe(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"app-accordion"),a.vc(2,xe,3,7,"app-accordion-item",3),a.Ob(),a.vc(3,Pe,15,5,"form",4),a.vc(4,we,2,0,"button",2),a.Ob()),2&e){const e=a.bc();a.zb(2),a.gc("ngForOf",e.set.setParts),a.zb(1),a.gc("ngIf",e.set.setParts.length>0),a.zb(1),a.gc("ngIf",e.multiExercise)}}function Se(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",24),a.Xb("setPart",function(s){a.rc(e);const n=t.index;return a.bc().addSetPart(s,n)}),a.Ob()}if(2&e){const e=t.setPart,s=a.bc();a.gc("restBetweenExercises",s.restBetweenExercises)("setPartToEdit",e)}}function ye(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc().onSubmit()}),a.xc(1,"Confirm set"),a.Ob()}}let Ce=(()=>{class e extends w{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!1,super.ngOnInit()}setRestBetweenSets(){const e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts.forEach(s=>{s.rest=e+60*t})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-emom-strategy"]],features:[a.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(a.vc(0,Oe,5,3,"div",0),a.vc(1,Se,1,2,"ng-template",null,1,a.wc),a.vc(3,ye,2,0,"button",2)),2&e){const e=a.oc(2);a.gc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.gc("ngIf",t.set.setParts.length>0)}},directives:[i.k,P,i.j,h,i.p,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,pe],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})();function Fe(e,t){if(1&e&&(a.Pb(0,"div",8),a.xc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Ac("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function Ee(e,t){1&e&&a.Lb(0,9)}const ke=function(e,t){return{index:e,setPart:t}};function Ie(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",5),a.vc(1,Fe,2,2,"div",6),a.vc(2,Ee,1,0,"ng-container",7),a.Ob()),2&e){const e=t.$implicit,s=t.index;a.bc(2);const n=a.oc(2);a.gc("itemCss","card my-4"),a.zb(1),a.gc("ngIf",e.exercise),a.zb(1),a.gc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.kc(4,ke,s,e))}}function ze(e,t){1&e&&(a.Pb(0,"div",15),a.Pb(1,"label",16),a.xc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",17),a.Kb(4,"input",21),a.Pb(5,"p",19),a.xc(6,":"),a.Ob(),a.Kb(7,"input",22),a.Ob(),a.Ob())}const Be=function(e){return{"input-invalid":e}};function Me(e,t){if(1&e&&(a.Pb(0,"form",10),a.Pb(1,"div",11),a.Pb(2,"div"),a.Pb(3,"label",12),a.xc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",13),a.Ob(),a.vc(6,ze,8,0,"div",14),a.Pb(7,"div",15),a.Pb(8,"label",16),a.xc(9,"Final rest"),a.Ob(),a.Pb(10,"div",17),a.Kb(11,"input",18),a.Pb(12,"p",19),a.xc(13,":"),a.Ob(),a.Kb(14,"input",20),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.gc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.gc("ngClass",a.jc(3,Be,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.gc("ngIf",!e.restBetweenExercises)}}function Ke(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc(2).addNewSetPart()}),a.xc(1,"Add exercise"),a.Ob()}}function Ge(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"app-accordion"),a.vc(2,Ie,3,7,"app-accordion-item",3),a.Ob(),a.vc(3,Me,15,5,"form",4),a.vc(4,Ke,2,0,"button",2),a.Ob()),2&e){const e=a.bc();a.zb(2),a.gc("ngForOf",e.set.setParts),a.zb(1),a.gc("ngIf",e.set.setParts.length>0),a.zb(1),a.gc("ngIf",e.multiExercise)}}function Ne(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",24),a.Xb("setPart",function(s){a.rc(e);const n=t.index;return a.bc().addSetPart(s,n)}),a.Ob()}if(2&e){const e=t.setPart,s=a.bc();a.gc("restBetweenExercises",s.restBetweenExercises)("setPartToEdit",e)}}function Te(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc().onSubmit()}),a.xc(1,"Confirm set"),a.Ob()}}let qe=(()=>{class e extends w{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!1,super.ngOnInit()}setRestBetweenSets(){const e=this.setPropertiesFormGroup.get("restSecondsBetweenSet").value,t=this.setPropertiesFormGroup.get("restMinutesBetweenSet").value;this.set.setParts[this.set.setParts.length-1].rest=e+60*t}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-super-set-strategy"]],features:[a.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(a.vc(0,Ge,5,3,"div",0),a.vc(1,Ne,1,2,"ng-template",null,1,a.wc),a.vc(3,Te,2,0,"button",2)),2&e){const e=a.oc(2);a.gc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.gc("ngIf",t.set.setParts.length>0)}},directives:[i.k,P,i.j,h,i.p,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,pe],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})();function Ve(e,t){if(1&e&&(a.Pb(0,"div",8),a.xc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Ac("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function Xe(e,t){1&e&&a.Lb(0,9)}const je=function(e,t){return{index:e,setPart:t}};function Re(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",5),a.vc(1,Ve,2,2,"div",6),a.vc(2,Xe,1,0,"ng-container",7),a.Ob()),2&e){const e=t.$implicit,s=t.index;a.bc(2);const n=a.oc(2);a.gc("itemCss","card my-4"),a.zb(1),a.gc("ngIf",e.exercise),a.zb(1),a.gc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.kc(4,je,s,e))}}function Ae(e,t){1&e&&(a.Pb(0,"div",15),a.Pb(1,"label",16),a.xc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",17),a.Kb(4,"input",21),a.Pb(5,"p",19),a.xc(6,":"),a.Ob(),a.Kb(7,"input",22),a.Ob(),a.Ob())}const Le=function(e){return{"input-invalid":e}};function De(e,t){if(1&e&&(a.Pb(0,"form",10),a.Pb(1,"div",11),a.Pb(2,"div"),a.Pb(3,"label",12),a.xc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",13),a.Ob(),a.vc(6,Ae,8,0,"div",14),a.Pb(7,"div",15),a.Pb(8,"label",16),a.xc(9,"Final rest"),a.Ob(),a.Pb(10,"div",17),a.Kb(11,"input",18),a.Pb(12,"p",19),a.xc(13,":"),a.Ob(),a.Kb(14,"input",20),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.gc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.gc("ngClass",a.jc(3,Le,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.gc("ngIf",!e.restBetweenExercises)}}function Qe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc(2).addNewSetPart()}),a.xc(1,"Add exercise"),a.Ob()}}function Je(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"app-accordion"),a.vc(2,Re,3,7,"app-accordion-item",3),a.Ob(),a.vc(3,De,15,5,"form",4),a.vc(4,Qe,2,0,"button",2),a.Ob()),2&e){const e=a.bc();a.zb(2),a.gc("ngForOf",e.set.setParts),a.zb(1),a.gc("ngIf",e.set.setParts.length>0),a.zb(1),a.gc("ngIf",e.multiExercise)}}function Ue(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",24),a.Xb("setPart",function(s){a.rc(e);const n=t.index;return a.bc().addSetPart(s,n)}),a.Ob()}if(2&e){const e=t.setPart,s=a.bc();a.gc("restBetweenExercises",s.restBetweenExercises)("setPartToEdit",e)}}function $e(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc().onSubmit()}),a.xc(1,"Confirm set"),a.Ob()}}let We=(()=>{class e extends w{constructor(e){super(e),this.builder=e}ngOnInit(){this.multiExercise=!0,this.restBetweenExercises=!0,super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-circuit-strategy"]],features:[a.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(a.vc(0,Je,5,3,"div",0),a.vc(1,Ue,1,2,"ng-template",null,1,a.wc),a.vc(3,$e,2,0,"button",2)),2&e){const e=a.oc(2);a.gc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.gc("ngIf",t.set.setParts.length>0)}},directives:[i.k,P,i.j,h,i.p,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,pe],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})();function He(e,t){if(1&e&&(a.Pb(0,"div",8),a.xc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.zb(1),a.Ac("",null==e?null:e.exercise.name," ",null==e?null:e.quantity,"")}}function Ye(e,t){1&e&&a.Lb(0,9)}const Ze=function(e,t){return{index:e,setPart:t}};function _e(e,t){if(1&e&&(a.Pb(0,"app-accordion-item",5),a.vc(1,He,2,2,"div",6),a.vc(2,Ye,1,0,"ng-container",7),a.Ob()),2&e){const e=t.$implicit,s=t.index;a.bc(2);const n=a.oc(2);a.gc("itemCss","card my-4"),a.zb(1),a.gc("ngIf",e.exercise),a.zb(1),a.gc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.kc(4,Ze,s,e))}}function et(e,t){1&e&&(a.Pb(0,"div",15),a.Pb(1,"label",16),a.xc(2,"Rest between set"),a.Ob(),a.Pb(3,"div",17),a.Kb(4,"input",21),a.Pb(5,"p",19),a.xc(6,":"),a.Ob(),a.Kb(7,"input",22),a.Ob(),a.Ob())}const tt=function(e){return{"input-invalid":e}};function st(e,t){if(1&e&&(a.Pb(0,"form",10),a.Pb(1,"div",11),a.Pb(2,"div"),a.Pb(3,"label",12),a.xc(4,"Sets number"),a.Ob(),a.Ob(),a.Kb(5,"input",13),a.Ob(),a.vc(6,et,8,0,"div",14),a.Pb(7,"div",15),a.Pb(8,"label",16),a.xc(9,"Final rest"),a.Ob(),a.Pb(10,"div",17),a.Kb(11,"input",18),a.Pb(12,"p",19),a.xc(13,":"),a.Ob(),a.Kb(14,"input",20),a.Ob(),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.gc("formGroup",e.setPropertiesFormGroup),a.zb(5),a.gc("ngClass",a.jc(3,tt,!e.setPropertiesFormGroup.get("setsNumber").valid&&e.setPropertiesFormGroup.get("setsNumber").touched)),a.zb(1),a.gc("ngIf",!e.restBetweenExercises)}}function nt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc(2).addNewSetPart()}),a.xc(1,"Add exercise"),a.Ob()}}function it(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"app-accordion"),a.vc(2,_e,3,7,"app-accordion-item",3),a.Ob(),a.vc(3,st,15,5,"form",4),a.vc(4,nt,2,0,"button",2),a.Ob()),2&e){const e=a.bc();a.zb(2),a.gc("ngForOf",e.set.setParts),a.zb(1),a.gc("ngIf",e.set.setParts.length>0),a.zb(1),a.gc("ngIf",e.multiExercise)}}function rt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"app-set-selection",24),a.Xb("setPart",function(s){a.rc(e);const n=t.index;return a.bc().addSetPart(s,n)}),a.Ob()}if(2&e){const e=t.setPart,s=a.bc();a.gc("restBetweenExercises",s.restBetweenExercises)("setPartToEdit",e)}}function ct(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",23),a.Xb("click",function(){return a.rc(e),a.bc().onSubmit()}),a.xc(1,"Confirm set"),a.Ob()}}let ot=(()=>{class e extends w{constructor(e){super(e),this.builder=e,this.multiExercise=!1,this.restBetweenExercises=!0}ngOnInit(){super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c))},e.\u0275cmp=a.Db({type:e,selectors:[["app-common-exercise-strategy"]],features:[a.wb],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["exerciseForm",""],["class","btn btn-blue w-full mt-4",3,"click",4,"ngIf"],[3,"itemCss",4,"ngFor","ngForOf"],["class","flex items-center flex-wrap gap-4 ",3,"formGroup",4,"ngIf"],[3,"itemCss"],["header","","class","text-lg text-center w-full mb-2",4,"ngIf"],["body","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","",1,"text-lg","text-center","w-full","mb-2"],["body",""],[1,"flex","items-center","flex-wrap","gap-4",3,"formGroup"],[1,"flex","flex-col","flex-grow","items-center","gap-1"],["for","reps",1,"label","mb-2"],["formControlName","setsNumber","type","number","placeholder","0",1,"input","w-16","text-center",3,"ngClass"],["class","flex flex-col flex-grow items-center",4,"ngIf"],[1,"flex","flex-col","flex-grow","items-center"],["for","rest",1,"label","mb-2"],[1,"flex","flex-row","items-center","gap-1"],["formControlName","restMinutesFinal","placeholder","0","type","number",1,"input","w-12","text-center"],[1,"text-xl","font-bold"],["formControlName","restSecondsFinal","placeholder","0","type","number",1,"input","w-16","text-center"],["formControlName","restMinutesBetweenSet","placeholder","0","type","number",1,"input","w-12","text-center"],["formControlName","restSecondsBetweenSet","placeholder","0","type","number",1,"input","w-16","text-center"],[1,"btn","btn-blue","w-full","mt-4",3,"click"],[3,"restBetweenExercises","setPartToEdit","setPart"]],template:function(e,t){if(1&e&&(a.vc(0,it,5,3,"div",0),a.vc(1,rt,1,2,"ng-template",null,1,a.wc),a.vc(3,ct,2,0,"button",2)),2&e){const e=a.oc(2);a.gc("ngIf",t.set.setParts.length>0)("ngIfElse",e),a.zb(3),a.gc("ngIf",t.set.setParts.length>0)}},directives:[i.k,P,i.j,h,i.p,r.r,r.l,r.g,r.b,r.n,r.k,r.f,i.i,pe],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})();function lt(e,t){if(1&e&&(a.Pb(0,"div",8),a.xc(1),a.cc(2,"titlecase"),a.Ob()),2&e){const e=t.item;a.zb(1),a.yc(a.dc(2,1,e))}}function bt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-emom-strategy",13),a.Xb("exerciseSet",function(t){return a.rc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.gc("exerciseSetToEdit",e.set)}}function at(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-super-set-strategy",13),a.Xb("exerciseSet",function(t){return a.rc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.gc("exerciseSetToEdit",e.set)}}function ut(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-circuit-strategy",13),a.Xb("exerciseSet",function(t){return a.rc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.gc("exerciseSetToEdit",e.set)}}function dt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"app-common-exercise-strategy",13),a.Xb("exerciseSet",function(t){return a.rc(e),a.bc(2).sendSetToList(t)}),a.Ob(),a.Ob()}if(2&e){const e=a.bc(2);a.zb(1),a.gc("exerciseSetToEdit",e.set)}}function pt(e,t){if(1&e&&(a.Pb(0,"div"),a.Pb(1,"p",9),a.xc(2,"Set"),a.Ob(),a.Pb(3,"div",10),a.vc(4,bt,2,1,"div",11),a.vc(5,at,2,1,"div",11),a.vc(6,ut,2,1,"div",11),a.vc(7,dt,2,1,"div",12),a.Ob(),a.Ob()),2&e){const e=a.bc();a.zb(3),a.gc("ngSwitch",e.exercisesSetFormGroup.get("selectedType").value),a.zb(1),a.gc("ngSwitchCase","Emom"),a.zb(1),a.gc("ngSwitchCase","Super Set"),a.zb(1),a.gc("ngSwitchCase","Circuit")}}const ft=function(){return{"input-invalid":!1}};let gt=(()=>{class e{constructor(e,t,s){this.formBuilder=e,this.trainingsFormService=t,this.router=s,this.types=["Normal","Emom","Super Set","Circuit"]}ngOnInit(){this.exercisesSetFormGroup=this.formBuilder.group({selectedType:[this.types[0],r.q.required]}),this.setOnSelectedSetChanged()}setOnSelectedSetChanged(){this.trainingsFormService.getSelectedSet().subscribe(e=>{if(!e)return;const t=JSON.parse(JSON.stringify(e)),s=t.setParts;t.setParts=s.splice(0,s.length/t.setsCount),this.exercisesSetFormGroup.get("selectedType").setValue(t.type),this.set=t})}sendSetToList(e){e.type=this.exercisesSetFormGroup.get("selectedType").value,this.trainingsFormService.confirmSetSelectedEdition(e),this.set=new b.c,this.exercisesSetFormGroup.reset()}submitEdition(){this.trainingsFormService.saveTraining(),this.trainingsFormService.getTraining().pipe(Object(l.a)(1)).subscribe(e=>{this.router.navigate([`app/trainings/${e.id}`],{replaceUrl:!0})})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(r.c),a.Jb(u.a),a.Jb(o.f))},e.\u0275cmp=a.Db({type:e,selectors:[["app-exercises-set-add-form"]],decls:9,vars:5,consts:[[3,"formGroup"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center"],["for","type",1,"label","mr-4","flex-grow"],[1,"flex","w-3/5","justify-end"],["formControlName","selectedType",1,"input","w-full",3,"items","ngClass"],["ng-option-tmp",""],[4,"ngIf"],[1,"input","m-px"],[1,"mt-4","text-center","text-xl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"exerciseSetToEdit","exerciseSet"]],template:function(e,t){1&e&&(a.Pb(0,"form",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"label",3),a.xc(4,"Type"),a.Ob(),a.Pb(5,"div",4),a.Pb(6,"ng-select",5),a.vc(7,lt,3,3,"ng-template",6),a.Ob(),a.Ob(),a.Ob(),a.vc(8,pt,8,4,"div",7),a.Ob(),a.Ob()),2&e&&(a.gc("formGroup",t.exercisesSetFormGroup),a.zb(6),a.gc("items",t.types)("ngClass",a.ic(4,ft)),a.zb(2),a.gc("ngIf",t.exercisesSetFormGroup.get("selectedType").value))},directives:[r.r,r.l,r.g,d.a,r.k,r.f,i.i,d.c,i.k,i.m,i.n,i.o,Ce,qe,We,ot],pipes:[i.s],styles:[".icon[_ngcontent-%COMP%]{fill:currentColor;--tw-text-opacity:1;color:rgba(247,247,254,var(--tw-text-opacity))}"]}),e})();var mt=s("kXp2");const xt=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-edit"]],viewQuery:function(e,t){if(1&e&&a.Cc(gt,1),2&e){let e;a.nc(e=a.Yb())&&(t.setsForm=e.first)}},decls:9,vars:1,consts:[[1,"flex","md:flex-row","flex-col","overflow-y-auto","h-full","md:overflow-hidden","p-4","gap-4","justify-content-center","static"],[3,"editing"],[1,"w-full","md:w-1/2","xl:w-1/4","h-auto","md:h-full","md:overflow-y-auto","overflow-visible","card","mx-auto"],[1,"absolute","bottom-4","right-4"],[1,"btn-rounded","btn-blue","mx-auto","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"icon","w-12","h-12"],["d","M0 0h24v24H0V0z","fill","none"],["d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Kb(1,"app-exercises-set-list",1),a.Pb(2,"div",2),a.Kb(3,"app-exercises-set-add-form"),a.Ob(),a.Pb(4,"div",3),a.Pb(5,"button",4),a.Xb("click",function(){return t.setsForm.submitEdition()}),a.ac(),a.Pb(6,"svg",5),a.Kb(7,"path",6),a.Kb(8,"path",7),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.zb(1),a.gc("editing",!0))},directives:[mt.a,gt],styles:[""]}),e})()}];let ht=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({imports:[[o.j.forChild(xt)],o.j]}),e})(),vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({imports:[[i.c,r.h,c.e,ht,n.a]]}),e})()}}]);